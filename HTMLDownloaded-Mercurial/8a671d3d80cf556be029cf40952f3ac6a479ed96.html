<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 23572:8a671d3d80cf556be029cf40952f3ac6a479ed96</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 8a671d3d80cf556be029cf40952f3ac6a479ed96" />
<meta property="og:url" content="/comm-central/rev/8a671d3d80cf556be029cf40952f3ac6a479ed96" />
<meta property="og:description" content="Bug 1439868 - Move email/scheduling related functions into calEmailUtils.jsm and calItipUtils.jsm - automatic changes itip. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 8a671d3d80cf556be029cf40952f3ac6a479ed96 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/8a671d3d80cf556be029cf40952f3ac6a479ed96">shortlog</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/8a671d3d80cf556be029cf40952f3ac6a479ed96">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96">files</a> |
changeset |
<a href="/comm-central/raw-rev/8a671d3d80cf556be029cf40952f3ac6a479ed96">raw</a>  | <a href="/comm-central/archive/8a671d3d80cf556be029cf40952f3ac6a479ed96.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439868">Bug 1439868</a> - Move email/scheduling related functions into calEmailUtils.jsm and calItipUtils.jsm - automatic changes itip. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#112;&#32;&#75;&#101;&#119;&#105;&#115;&#99;&#104;&#32;&#60;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#64;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Wed, 21 Feb 2018 07:37:07 +0100</td></tr>

<tr>
 <td>changeset 23572</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/8a671d3d80cf556be029cf40952f3ac6a479ed96">8a671d3d80cf556be029cf40952f3ac6a479ed96</a></td>
</tr>



<tr>
<td>parent 23571</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/5463b977b6992538b0effac0c21674966c398919">5463b977b6992538b0effac0c21674966c398919</a>
</td>
</tr>

<tr>
<td>child 23573</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/58d96bc8c66c4ac711cfe9198eff27e044fe30c6">58d96bc8c66c4ac711cfe9198eff27e044fe30c6</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=8a671d3d80cf556be029cf40952f3ac6a479ed96">14230</a></td></tr>
<tr><td>push user</td><td>mozilla@jorgk.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 22 Mar 2018 22:48:26 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@08a17fa4b78b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=08a17fa4b78ba9ffb862c655873f9025cb6db94e">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=08a17fa4b78ba9ffb862c655873f9025cb6db94e&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=08a17fa4b78ba9ffb862c655873f9025cb6db94e&newProject=comm-central&newRevision=66fb0dcc4dcfc54be23ec7e48b97cf7d64849e4e&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=08a17fa4b78ba9ffb862c655873f9025cb6db94e&newProject=comm-central&newRevision=66fb0dcc4dcfc54be23ec7e48b97cf7d64849e4e&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=08a17fa4b78ba9ffb862c655873f9025cb6db94e&newProject=comm-central&newRevision=66fb0dcc4dcfc54be23ec7e48b97cf7d64849e4e&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439868">1439868</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1439868">Bug 1439868</a> - Move email/scheduling related functions into calEmailUtils.jsm and calItipUtils.jsm - automatic changes itip. r=MakeMyDay

MozReview-Commit-ID: 80Hil54sz5u</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-common-sets.js">calendar/base/content/calendar-common-sets.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-common-sets.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-common-sets.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-common-sets.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-common-sets.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-common-sets.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-invitations-manager.js">calendar/base/content/calendar-invitations-manager.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-invitations-manager.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-invitations-manager.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-invitations-manager.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-invitations-manager.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-invitations-manager.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-item-editing.js">calendar/base/content/calendar-item-editing.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-item-editing.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-item-editing.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-item-editing.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-item-editing.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-item-editing.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-ui-utils.js">calendar/base/content/calendar-ui-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-ui-utils.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-ui-utils.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-ui-utils.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-ui-utils.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-ui-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-view-core.xml">calendar/base/content/calendar-view-core.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-view-core.xml">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-view-core.xml">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-view-core.xml">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-view-core.xml">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/calendar-view-core.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-dialog-utils.js">calendar/base/content/dialogs/calendar-dialog-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-dialog-utils.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-dialog-utils.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-dialog-utils.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-dialog-utils.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-dialog-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-invitations-list.xml">calendar/base/content/dialogs/calendar-invitations-list.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-invitations-list.xml">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-invitations-list.xml">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-invitations-list.xml">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-invitations-list.xml">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/content/dialogs/calendar-invitations-list.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/modules/calItipUtils.jsm">calendar/base/modules/calItipUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/modules/calItipUtils.jsm">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/modules/calItipUtils.jsm">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/modules/calItipUtils.jsm">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/modules/calItipUtils.jsm">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/base/modules/calItipUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/itip/calItipEmailTransport.js">calendar/itip/calItipEmailTransport.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/itip/calItipEmailTransport.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/itip/calItipEmailTransport.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/itip/calItipEmailTransport.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/itip/calItipEmailTransport.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/itip/calItipEmailTransport.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/content/imip-bar.js">calendar/lightning/content/imip-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/content/imip-bar.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/content/imip-bar.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/content/imip-bar.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/content/imip-bar.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/content/imip-bar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/modules/ltnInvitationUtils.jsm">calendar/lightning/modules/ltnInvitationUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/modules/ltnInvitationUtils.jsm">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/modules/ltnInvitationUtils.jsm">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/modules/ltnInvitationUtils.jsm">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/modules/ltnInvitationUtils.jsm">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/lightning/modules/ltnInvitationUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/providers/gdata/components/calGoogleCalendar.js">calendar/providers/gdata/components/calGoogleCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/providers/gdata/components/calGoogleCalendar.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/providers/gdata/components/calGoogleCalendar.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/providers/gdata/components/calGoogleCalendar.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/providers/gdata/components/calGoogleCalendar.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/providers/gdata/components/calGoogleCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_calutils.js">calendar/test/unit/test_calutils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_calutils.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_calutils.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_calutils.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_calutils.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_calutils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_gdata_provider.js">calendar/test/unit/test_gdata_provider.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_gdata_provider.js">file</a> |
<a href="/comm-central/annotate/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_gdata_provider.js">annotate</a> |
<a href="/comm-central/diff/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_gdata_provider.js">diff</a> |
<a href="/comm-central/comparison/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_gdata_provider.js">comparison</a> |
<a href="/comm-central/log/8a671d3d80cf556be029cf40952f3ac6a479ed96/calendar/test/unit/test_gdata_provider.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/base/content/calendar-common-sets.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/base/content/calendar-common-sets.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -475,17 +475,17 @@ var calendarController = {</span>
<a href="#l1.4"></a><span id="l1.4">                     selected_events_readonly++;</span>
<a href="#l1.5"></a><span id="l1.5">                 }</span>
<a href="#l1.6"></a><span id="l1.6">                 if (item.calendar.getProperty(&quot;requiresNetwork&quot;) &amp;&amp;</span>
<a href="#l1.7"></a><span id="l1.7">                     !item.calendar.getProperty(&quot;cache.enabled&quot;) &amp;&amp;</span>
<a href="#l1.8"></a><span id="l1.8">                     !item.calendar.getProperty(&quot;cache.always&quot;)) {</span>
<a href="#l1.9"></a><span id="l1.9">                     selected_events_requires_network++;</span>
<a href="#l1.10"></a><span id="l1.10">                 }</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-                if (cal.isInvitation(item)) {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+                if (cal.itip.isInvitation(item)) {</span>
<a href="#l1.14"></a><span id="l1.14">                     selected_events_invitation++;</span>
<a href="#l1.15"></a><span id="l1.15">                 } else if (item.organizer) {</span>
<a href="#l1.16"></a><span id="l1.16">                     // If we are the organizer and there are attendees, then</span>
<a href="#l1.17"></a><span id="l1.17">                     // this is likely also an invitation.</span>
<a href="#l1.18"></a><span id="l1.18">                     let calOrgId = item.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l1.19"></a><span id="l1.19">                     if (item.organizer.id == calOrgId &amp;&amp; item.getAttendees({}).length) {</span>
<a href="#l1.20"></a><span id="l1.20">                         selected_events_invitation++;</span>
<a href="#l1.21"></a><span id="l1.21">                     }</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -614,17 +614,17 @@ var calendarController = {</span>
<a href="#l1.23"></a><span id="l1.23">     },</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26">     get todo_items_invitation() {</span>
<a href="#l1.27"></a><span id="l1.27">         let selectedTasks = getSelectedTasks();</span>
<a href="#l1.28"></a><span id="l1.28">         let selected_tasks_invitation = 0;</span>
<a href="#l1.29"></a><span id="l1.29"> </span>
<a href="#l1.30"></a><span id="l1.30">         for (let item of selectedTasks) {</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-            if (cal.isInvitation(item)) {</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+            if (cal.itip.isInvitation(item)) {</span>
<a href="#l1.33"></a><span id="l1.33">                 selected_tasks_invitation++;</span>
<a href="#l1.34"></a><span id="l1.34">             } else if (item.organizer) {</span>
<a href="#l1.35"></a><span id="l1.35">                 // If we are the organizer and there are attendees, then</span>
<a href="#l1.36"></a><span id="l1.36">                 // this is likely also an invitation.</span>
<a href="#l1.37"></a><span id="l1.37">                 let calOrgId = item.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l1.38"></a><span id="l1.38">                 if (item.organizer.id == calOrgId &amp;&amp; item.getAttendees({}).length) {</span>
<a href="#l1.39"></a><span id="l1.39">                     selected_tasks_invitation++;</span>
<a href="#l1.40"></a><span id="l1.40">                 }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/calendar-invitations-manager.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/calendar-invitations-manager.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -333,17 +333,17 @@ InvitationsManager.prototype = {</span>
<a href="#l2.4"></a><span id="l2.4">     /**</span>
<a href="#l2.5"></a><span id="l2.5">      * Adds an item to the internal item list.</span>
<a href="#l2.6"></a><span id="l2.6">      * XXXdbo       Please document these correctly.</span>
<a href="#l2.7"></a><span id="l2.7">      *</span>
<a href="#l2.8"></a><span id="l2.8">      * @param item      The item to add.</span>
<a href="#l2.9"></a><span id="l2.9">      */</span>
<a href="#l2.10"></a><span id="l2.10">     addItem: function(item) {</span>
<a href="#l2.11"></a><span id="l2.11">         let recInfo = item.recurrenceInfo;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-        if (recInfo &amp;&amp; !cal.isOpenInvitation(item)) {</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+        if (recInfo &amp;&amp; !cal.itip.isOpenInvitation(item)) {</span>
<a href="#l2.14"></a><span id="l2.14">             // scan exceptions:</span>
<a href="#l2.15"></a><span id="l2.15">             let ids = recInfo.getExceptionIds({});</span>
<a href="#l2.16"></a><span id="l2.16">             for (let id of ids) {</span>
<a href="#l2.17"></a><span id="l2.17">                 let ex = recInfo.getExceptionFor(id);</span>
<a href="#l2.18"></a><span id="l2.18">                 if (ex &amp;&amp; this.validateItem(ex) &amp;&amp; !this.hasItem(ex)) {</span>
<a href="#l2.19"></a><span id="l2.19">                     this.mItemList.push(ex);</span>
<a href="#l2.20"></a><span id="l2.20">                 }</span>
<a href="#l2.21"></a><span id="l2.21">             }</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineat">@@ -410,11 +410,11 @@ InvitationsManager.prototype = {</span>
<a href="#l2.23"></a><span id="l2.23">      * @return          A boolean indicating if the item is a valid invitation.</span>
<a href="#l2.24"></a><span id="l2.24">      */</span>
<a href="#l2.25"></a><span id="l2.25">     validateItem: function(item) {</span>
<a href="#l2.26"></a><span id="l2.26">         if (item.calendar instanceof Components.interfaces.calISchedulingSupport &amp;&amp;</span>
<a href="#l2.27"></a><span id="l2.27">             !item.calendar.isInvitation(item)) {</span>
<a href="#l2.28"></a><span id="l2.28">             return false; // exclude if organizer has invited himself</span>
<a href="#l2.29"></a><span id="l2.29">         }</span>
<a href="#l2.30"></a><span id="l2.30">         let start = item[cal.dtz.startDateProp(item)] || item[cal.dtz.endDateProp(item)];</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-        return cal.isOpenInvitation(item) &amp;&amp; start.compare(this.mStartDate) &gt;= 0;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+        return cal.itip.isOpenInvitation(item) &amp;&amp; start.compare(this.mStartDate) &gt;= 0;</span>
<a href="#l2.33"></a><span id="l2.33">     }</span>
<a href="#l2.34"></a><span id="l2.34"> };</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-item-editing.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-item-editing.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -724,18 +724,18 @@ function setContextPartstat(aTarget, aIt</span>
<a href="#l3.4"></a><span id="l3.4">      * Provides the participation representing the user for a provided item</span>
<a href="#l3.5"></a><span id="l3.5">      *</span>
<a href="#l3.6"></a><span id="l3.6">      * @param   {calEvent|calTodo}  aItem  The calendar item to inspect</span>
<a href="#l3.7"></a><span id="l3.7">      * @returns {?calIAttendee}            An calIAttendee object or null if no</span>
<a href="#l3.8"></a><span id="l3.8">      *                                       participant was detected</span>
<a href="#l3.9"></a><span id="l3.9">      */</span>
<a href="#l3.10"></a><span id="l3.10">     function getParticipant(aItem) {</span>
<a href="#l3.11"></a><span id="l3.11">         let party = null;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        if (cal.isInvitation(aItem)) {</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-            party = cal.getInvitedAttendee(aItem);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+        if (cal.itip.isInvitation(aItem)) {</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+            party = cal.itip.getInvitedAttendee(aItem);</span>
<a href="#l3.16"></a><span id="l3.16">         } else if (aItem.organizer &amp;&amp; aItem.getAttendees({}).length) {</span>
<a href="#l3.17"></a><span id="l3.17">             let calOrgId = aItem.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l3.18"></a><span id="l3.18">             if (calOrgId.toLowerCase() == aItem.organizer.id.toLowerCase()) {</span>
<a href="#l3.19"></a><span id="l3.19">                 party = aItem.organizer;</span>
<a href="#l3.20"></a><span id="l3.20">             }</span>
<a href="#l3.21"></a><span id="l3.21">         }</span>
<a href="#l3.22"></a><span id="l3.22">         return party;</span>
<a href="#l3.23"></a><span id="l3.23">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -799,18 +799,18 @@ function setupAttendanceMenu(aMenu, aIte</span>
<a href="#l4.4"></a><span id="l4.4">      *</span>
<a href="#l4.5"></a><span id="l4.5">      * @param   {calEvent|calTodo}  aItem  The calendar item to inspect</span>
<a href="#l4.6"></a><span id="l4.6">      * @returns {?String}                  The participation status string</span>
<a href="#l4.7"></a><span id="l4.7">      *                                       as per RfC 5545 or null if no</span>
<a href="#l4.8"></a><span id="l4.8">      *                                       participant was detected</span>
<a href="#l4.9"></a><span id="l4.9">      */</span>
<a href="#l4.10"></a><span id="l4.10">     function getInvitationStatus(aItem) {</span>
<a href="#l4.11"></a><span id="l4.11">         let party = null;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        if (cal.isInvitation(aItem)) {</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-            party = cal.getInvitedAttendee(aItem);</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+        if (cal.itip.isInvitation(aItem)) {</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+            party = cal.itip.getInvitedAttendee(aItem);</span>
<a href="#l4.16"></a><span id="l4.16">         } else if (aItem.organizer &amp;&amp; aItem.getAttendees({}).length) {</span>
<a href="#l4.17"></a><span id="l4.17">             let calOrgId = aItem.calendar.getProperty(&quot;organizerId&quot;);</span>
<a href="#l4.18"></a><span id="l4.18">             if (calOrgId.toLowerCase() == aItem.organizer.id.toLowerCase()) {</span>
<a href="#l4.19"></a><span id="l4.19">                 party = aItem.organizer;</span>
<a href="#l4.20"></a><span id="l4.20">             }</span>
<a href="#l4.21"></a><span id="l4.21">         }</span>
<a href="#l4.22"></a><span id="l4.22">         return party &amp;&amp; (party.participationStatus || &quot;NEEDS-ACTION&quot;);</span>
<a href="#l4.23"></a><span id="l4.23">     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-view-core.xml</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-view-core.xml</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -238,18 +238,18 @@</span>
<a href="#l5.4"></a><span id="l5.4">             if (item.hasProperty(&quot;CLASS&quot;)) {</span>
<a href="#l5.5"></a><span id="l5.5">                 this.setAttribute(&quot;itemclass&quot;, item.getProperty(&quot;CLASS&quot;));</span>
<a href="#l5.6"></a><span id="l5.6">             }</span>
<a href="#l5.7"></a><span id="l5.7"> </span>
<a href="#l5.8"></a><span id="l5.8">             // calendar name</span>
<a href="#l5.9"></a><span id="l5.9">             this.setAttribute(&quot;calendar&quot;, item.calendar.name.toLowerCase());</span>
<a href="#l5.10"></a><span id="l5.10"> </span>
<a href="#l5.11"></a><span id="l5.11">             // Invitation</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-            if (cal.isInvitation(item)) {</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineminus">-                this.setAttribute(&quot;invitation-status&quot;, cal.getInvitedAttendee(item).participationStatus);</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+            if (cal.itip.isInvitation(item)) {</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+                this.setAttribute(&quot;invitation-status&quot;, cal.itip.getInvitedAttendee(item).participationStatus);</span>
<a href="#l5.16"></a><span id="l5.16">                 this.setAttribute(&quot;readonly&quot;, &quot;true&quot;);</span>
<a href="#l5.17"></a><span id="l5.17">             } else if (!cal.acl.isCalendarWritable(item.calendar)) {</span>
<a href="#l5.18"></a><span id="l5.18">                 this.setAttribute(&quot;readonly&quot;, &quot;true&quot;);</span>
<a href="#l5.19"></a><span id="l5.19">             }</span>
<a href="#l5.20"></a><span id="l5.20">         ]]&gt;&lt;/body&gt;</span>
<a href="#l5.21"></a><span id="l5.21">       &lt;/method&gt;</span>
<a href="#l5.22"></a><span id="l5.22"> </span>
<a href="#l5.23"></a><span id="l5.23">       &lt;method name=&quot;startEditing&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -617,17 +617,17 @@ function setupAttendees() {</span>
<a href="#l6.4"></a><span id="l6.4">                                                       [attendee.toString()]);</span>
<a href="#l6.5"></a><span id="l6.5">                 let roleString = cal.calGetString(&quot;calendar&quot;, &quot;dialog.tooltip.attendeeRole2.&quot; + role,</span>
<a href="#l6.6"></a><span id="l6.6">                                                   [userTypeString]);</span>
<a href="#l6.7"></a><span id="l6.7">                 let partstatString = cal.calGetString(&quot;calendar&quot;, &quot;dialog.tooltip.attendeePartStat2.&quot; + partstat,</span>
<a href="#l6.8"></a><span id="l6.8">                                                       [label]);</span>
<a href="#l6.9"></a><span id="l6.9">                 let tooltip = cal.calGetString(&quot;calendar&quot;, &quot;dialog.tooltip.attendee.combined&quot;,</span>
<a href="#l6.10"></a><span id="l6.10">                                                [roleString, partstatString]);</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-                let del = cal.resolveDelegation(attendee, window.attendees);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+                let del = cal.itip.resolveDelegation(attendee, window.attendees);</span>
<a href="#l6.14"></a><span id="l6.14">                 if (del.delegators != &quot;&quot;) {</span>
<a href="#l6.15"></a><span id="l6.15">                     del.delegators = cal.calGetString(&quot;calendar&quot;,</span>
<a href="#l6.16"></a><span id="l6.16">                                                       &quot;dialog.attendee.append.delegatedFrom&quot;,</span>
<a href="#l6.17"></a><span id="l6.17">                                                       [del.delegators]);</span>
<a href="#l6.18"></a><span id="l6.18">                     label += &quot; &quot; + del.delegators;</span>
<a href="#l6.19"></a><span id="l6.19">                     tooltip += &quot; &quot; + del.delegators;</span>
<a href="#l6.20"></a><span id="l6.20">                 }</span>
<a href="#l6.21"></a><span id="l6.21">                 if (del.delegatees != &quot;&quot;) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-invitations-list.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-invitations-list.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -176,33 +176,33 @@</span>
<a href="#l7.4"></a><span id="l7.4">                     organizerString += org.id.replace(/^mailto:/i, &quot;&quot;);</span>
<a href="#l7.5"></a><span id="l7.5">                 }</span>
<a href="#l7.6"></a><span id="l7.6">             }</span>
<a href="#l7.7"></a><span id="l7.7">             organizerLabel.setAttribute(&quot;value&quot;, organizerString);</span>
<a href="#l7.8"></a><span id="l7.8"> </span>
<a href="#l7.9"></a><span id="l7.9">             let attendeeLabel = document.getAnonymousElementByAttribute(</span>
<a href="#l7.10"></a><span id="l7.10">                 this, &quot;anonid&quot;, &quot;attendee&quot;);</span>
<a href="#l7.11"></a><span id="l7.11">             let attendeeString = this.mStrings.attendee;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-            let att = cal.getInvitedAttendee(aItem);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+            let att = cal.itip.getInvitedAttendee(aItem);</span>
<a href="#l7.14"></a><span id="l7.14">             if (att) {</span>
<a href="#l7.15"></a><span id="l7.15">                 if (att.commonName &amp;&amp; att.commonName.length &gt; 0) {</span>
<a href="#l7.16"></a><span id="l7.16">                     attendeeString += att.commonName;</span>
<a href="#l7.17"></a><span id="l7.17">                 } else if (att.id) {</span>
<a href="#l7.18"></a><span id="l7.18">                     attendeeString += att.id.replace(/^mailto:/i, &quot;&quot;);</span>
<a href="#l7.19"></a><span id="l7.19">                 }</span>
<a href="#l7.20"></a><span id="l7.20">             }</span>
<a href="#l7.21"></a><span id="l7.21">             attendeeLabel.setAttribute(&quot;value&quot;, attendeeString);</span>
<a href="#l7.22"></a><span id="l7.22">             this.setAttribute(&quot;itemId&quot;, aItem.hashId);</span>
<a href="#l7.23"></a><span id="l7.23">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.24"></a><span id="l7.24">       &lt;/method&gt;</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26">       &lt;method name=&quot;getCalendarItemParticipationStatus&quot;&gt;</span>
<a href="#l7.27"></a><span id="l7.27">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l7.28"></a><span id="l7.28">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineminus">-            let att = cal.getInvitedAttendee(aItem);</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+            let att = cal.itip.getInvitedAttendee(aItem);</span>
<a href="#l7.31"></a><span id="l7.31">             return (att ? att.participationStatus : null);</span>
<a href="#l7.32"></a><span id="l7.32">         ]]&gt;&lt;/body&gt;</span>
<a href="#l7.33"></a><span id="l7.33">       &lt;/method&gt;</span>
<a href="#l7.34"></a><span id="l7.34"> </span>
<a href="#l7.35"></a><span id="l7.35">       &lt;method name=&quot;setCalendarItemParticipationStatus&quot;&gt;</span>
<a href="#l7.36"></a><span id="l7.36">         &lt;parameter name=&quot;aItem&quot;/&gt;</span>
<a href="#l7.37"></a><span id="l7.37">         &lt;parameter name=&quot;aStatus&quot;/&gt;</span>
<a href="#l7.38"></a><span id="l7.38">         &lt;body&gt;&lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/modules/calItipUtils.jsm</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/modules/calItipUtils.jsm</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -322,17 +322,17 @@ var calitip = {</span>
<a href="#l8.4"></a><span id="l8.4">             if (foundItems &amp;&amp; foundItems.length) {</span>
<a href="#l8.5"></a><span id="l8.5">                 data.showItems.push(&quot;imipDetailsButton&quot;);</span>
<a href="#l8.6"></a><span id="l8.6">                 if (itipItem.receivedMethod == &quot;COUNTER&quot; &amp;&amp; itipItem.sender) {</span>
<a href="#l8.7"></a><span id="l8.7">                     if (disallowedCounter) {</span>
<a href="#l8.8"></a><span id="l8.8">                         data.label = _gs(&quot;imipBarDisallowedCounterText&quot;);</span>
<a href="#l8.9"></a><span id="l8.9">                     } else {</span>
<a href="#l8.10"></a><span id="l8.10">                         let comparison;</span>
<a href="#l8.11"></a><span id="l8.11">                         for (let item of itipItem.getItemList({})) {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-                            let attendees = cal.getAttendeesBySender(</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+                            let attendees = cal.itip.getAttendeesBySender(</span>
<a href="#l8.14"></a><span id="l8.14">                                     item.getAttendees({}),</span>
<a href="#l8.15"></a><span id="l8.15">                                     itipItem.sender</span>
<a href="#l8.16"></a><span id="l8.16">                             );</span>
<a href="#l8.17"></a><span id="l8.17">                             if (attendees.length == 1) {</span>
<a href="#l8.18"></a><span id="l8.18">                                 comparison = calitip.compareSequence(item, foundItems[0]);</span>
<a href="#l8.19"></a><span id="l8.19">                                 if (comparison == 1) {</span>
<a href="#l8.20"></a><span id="l8.20">                                     data.label = _gs(&quot;imipBarCounterErrorText&quot;);</span>
<a href="#l8.21"></a><span id="l8.21">                                     break;</span>
<a href="#l8.22"></a><span id="l8.22" class="difflineat">@@ -1790,17 +1790,17 @@ ItipItemFinder.prototype = {</span>
<a href="#l8.23"></a><span id="l8.23">                                 case &quot;REPLY&quot;: {</span>
<a href="#l8.24"></a><span id="l8.24">                                     let attendees = itipItemItem.getAttendees({});</span>
<a href="#l8.25"></a><span id="l8.25">                                     if (method == &quot;REPLY&quot;) {</span>
<a href="#l8.26"></a><span id="l8.26">                                         cal.ASSERT(</span>
<a href="#l8.27"></a><span id="l8.27">                                             attendees.length == 1,</span>
<a href="#l8.28"></a><span id="l8.28">                                             &quot;invalid number of attendees in REPLY!&quot;</span>
<a href="#l8.29"></a><span id="l8.29">                                         );</span>
<a href="#l8.30"></a><span id="l8.30">                                     } else {</span>
<a href="#l8.31"></a><span id="l8.31" class="difflineminus">-                                        attendees = cal.getAttendeesBySender(</span>
<a href="#l8.32"></a><span id="l8.32" class="difflineplus">+                                        attendees = cal.itip.getAttendeesBySender(</span>
<a href="#l8.33"></a><span id="l8.33">                                             attendees,</span>
<a href="#l8.34"></a><span id="l8.34">                                             this.mItipItem.sender</span>
<a href="#l8.35"></a><span id="l8.35">                                         );</span>
<a href="#l8.36"></a><span id="l8.36">                                         cal.ASSERT(</span>
<a href="#l8.37"></a><span id="l8.37">                                             attendees.length == 1,</span>
<a href="#l8.38"></a><span id="l8.38">                                             &quot;ambiguous resolution of replying attendee in COUNTER!&quot;</span>
<a href="#l8.39"></a><span id="l8.39">                                         );</span>
<a href="#l8.40"></a><span id="l8.40">                                     }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/itip/calItipEmailTransport.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/itip/calItipEmailTransport.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -124,17 +124,17 @@ calItipEmailTransport.prototype = {</span>
<a href="#l9.4"></a><span id="l9.4">                     &quot;itipDeclineCounterBody&quot;,</span>
<a href="#l9.5"></a><span id="l9.5">                     [item.organizer ? item.organizer.toString() : &quot;&quot;, summary],</span>
<a href="#l9.6"></a><span id="l9.6">                     &quot;lightning&quot;</span>
<a href="#l9.7"></a><span id="l9.7">                 );</span>
<a href="#l9.8"></a><span id="l9.8">                 break;</span>
<a href="#l9.9"></a><span id="l9.9">             }</span>
<a href="#l9.10"></a><span id="l9.10">             case &quot;REPLY&quot;: {</span>
<a href="#l9.11"></a><span id="l9.11">                 // Get my participation status</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-                let att = cal.getInvitedAttendee(item, aItipItem.targetCalendar);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+                let att = cal.itip.getInvitedAttendee(item, aItipItem.targetCalendar);</span>
<a href="#l9.14"></a><span id="l9.14">                 if (!att &amp;&amp; aItipItem.identity) {</span>
<a href="#l9.15"></a><span id="l9.15">                     att = item.getAttendeeById(cal.email.prependMailTo(aItipItem.identity));</span>
<a href="#l9.16"></a><span id="l9.16">                 }</span>
<a href="#l9.17"></a><span id="l9.17">                 if (!att) { // should not happen anymore</span>
<a href="#l9.18"></a><span id="l9.18">                     return false;</span>
<a href="#l9.19"></a><span id="l9.19">                 }</span>
<a href="#l9.20"></a><span id="l9.20"> </span>
<a href="#l9.21"></a><span id="l9.21">                 // work around BUG 351589, the below just removes RSVP:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/lightning/content/imip-bar.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/lightning/content/imip-bar.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -318,17 +318,17 @@ var ltnImipBar = {</span>
<a href="#l10.4"></a><span id="l10.4">                     QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIOperationListener]),</span>
<a href="#l10.5"></a><span id="l10.5">                     onOperationComplete: function(aCalendar, aStatus, aOperationType, aId, aDetail) {</span>
<a href="#l10.6"></a><span id="l10.6">                         if (Components.isSuccessCode(aStatus) &amp;&amp; isDeclineCounter) {</span>
<a href="#l10.7"></a><span id="l10.7">                             // TODO: move the DECLINECOUNTER stuff to actionFunc</span>
<a href="#l10.8"></a><span id="l10.8">                             aItipItem.getItemList({}).forEach(aItem =&gt; {</span>
<a href="#l10.9"></a><span id="l10.9">                                 // we can rely on the received itipItem to reply at this stage</span>
<a href="#l10.10"></a><span id="l10.10">                                 // already, the checks have been done in cal.itip.processFoundItems</span>
<a href="#l10.11"></a><span id="l10.11">                                 // when setting up the respective aActionFunc</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-                                let attendees = cal.getAttendeesBySender(</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+                                let attendees = cal.itip.getAttendeesBySender(</span>
<a href="#l10.14"></a><span id="l10.14">                                     aItem.getAttendees({}),</span>
<a href="#l10.15"></a><span id="l10.15">                                     aItipItem.sender</span>
<a href="#l10.16"></a><span id="l10.16">                                 );</span>
<a href="#l10.17"></a><span id="l10.17">                                 let status = true;</span>
<a href="#l10.18"></a><span id="l10.18">                                 if (attendees.length == 1 &amp;&amp; ltnImipBar.foundItems &amp;&amp;</span>
<a href="#l10.19"></a><span id="l10.19">                                     ltnImipBar.foundItems.length) {</span>
<a href="#l10.20"></a><span id="l10.20">                                     // we must return a message with the same sequence number as the</span>
<a href="#l10.21"></a><span id="l10.21">                                     // counterproposal - to make it easy, we simply use the received</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -397,17 +397,17 @@ var ltnImipBar = {</span>
<a href="#l10.23"></a><span id="l10.23">                     let proposedItem = ltnImipBar.itipItem.getItemList({})[0];</span>
<a href="#l10.24"></a><span id="l10.24">                     let proposedRID = proposedItem.getProperty(&quot;RECURRENCE-ID&quot;);</span>
<a href="#l10.25"></a><span id="l10.25">                     if (proposedRID) {</span>
<a href="#l10.26"></a><span id="l10.26">                         // if this is a counterproposal for a specific occurrence, we use</span>
<a href="#l10.27"></a><span id="l10.27">                         // that to compare with</span>
<a href="#l10.28"></a><span id="l10.28">                         item = item.recurrenceInfo.getOccurrenceFor(proposedRID).clone();</span>
<a href="#l10.29"></a><span id="l10.29">                     }</span>
<a href="#l10.30"></a><span id="l10.30">                     let parsedProposal = ltn.invitation.parseCounter(proposedItem, item);</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-                    let potentialProposers = cal.getAttendeesBySender(</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+                    let potentialProposers = cal.itip.getAttendeesBySender(</span>
<a href="#l10.33"></a><span id="l10.33">                         proposedItem.getAttendees({}),</span>
<a href="#l10.34"></a><span id="l10.34">                         ltnImipBar.itipItem.sender</span>
<a href="#l10.35"></a><span id="l10.35">                     );</span>
<a href="#l10.36"></a><span id="l10.36">                     let proposingAttendee = potentialProposers.length == 1 ?</span>
<a href="#l10.37"></a><span id="l10.37">                                             potentialProposers[0] : null;</span>
<a href="#l10.38"></a><span id="l10.38">                     if (proposingAttendee &amp;&amp;</span>
<a href="#l10.39"></a><span id="l10.39">                         [&quot;OK&quot;, &quot;OUTDATED&quot;, &quot;NOTLATESTUPDATE&quot;].includes(parsedProposal.result.type)) {</span>
<a href="#l10.40"></a><span id="l10.40">                         counterProposal = {</span>
<a href="#l10.41"></a><span id="l10.41" class="difflineat">@@ -467,17 +467,17 @@ var ltnImipBar = {</span>
<a href="#l10.42"></a><span id="l10.42">                 let dialogTitle = ltnGetString(&quot;lightning&quot;, &quot;confirmProcessInvitationTitle&quot;);</span>
<a href="#l10.43"></a><span id="l10.43">                 if (delTime &amp;&amp; !Services.prompt.confirm(window, dialogTitle, dialogText)) {</span>
<a href="#l10.44"></a><span id="l10.44">                     return false;</span>
<a href="#l10.45"></a><span id="l10.45">                 }</span>
<a href="#l10.46"></a><span id="l10.46">             }</span>
<a href="#l10.47"></a><span id="l10.47"> </span>
<a href="#l10.48"></a><span id="l10.48">             if (aParticipantStatus == &quot;X-SAVECOPY&quot;) {</span>
<a href="#l10.49"></a><span id="l10.49">                 // we create and adopt copies of the respective events</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineminus">-                let saveitems = ltnImipBar.itipItem.getItemList({}).map(cal.getPublishLikeItemCopy.bind(cal));</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineplus">+                let saveitems = ltnImipBar.itipItem.getItemList({}).map(cal.itip.getPublishLikeItemCopy.bind(cal));</span>
<a href="#l10.52"></a><span id="l10.52">                 if (saveitems.length &gt; 0) {</span>
<a href="#l10.53"></a><span id="l10.53">                     let methods = { receivedMethod: &quot;PUBLISH&quot;, responseMethod: &quot;PUBLISH&quot; };</span>
<a href="#l10.54"></a><span id="l10.54">                     let newItipItem = cal.itip.getModifiedItipItem(ltnImipBar.itipItem,</span>
<a href="#l10.55"></a><span id="l10.55">                                                                    saveitems, methods);</span>
<a href="#l10.56"></a><span id="l10.56">                     // control to avoid processing _execAction on later user changes on the item</span>
<a href="#l10.57"></a><span id="l10.57">                     let isFirstProcessing = true;</span>
<a href="#l10.58"></a><span id="l10.58">                     // setup callback and trigger re-processing</span>
<a href="#l10.59"></a><span id="l10.59">                     let storeCopy = function(aItipItem, aRc, aActionFunc, aFoundItems) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -36,17 +36,17 @@ ltn.invitation = {</span>
<a href="#l11.4"></a><span id="l11.4">                     header = ltn.getString(&quot;lightning&quot;,</span>
<a href="#l11.5"></a><span id="l11.5">                                            &quot;itipCancelBody&quot;,</span>
<a href="#l11.6"></a><span id="l11.6">                                            [organizerString, summary]);</span>
<a href="#l11.7"></a><span id="l11.7">                     break;</span>
<a href="#l11.8"></a><span id="l11.8">                 case &quot;COUNTER&quot;:</span>
<a href="#l11.9"></a><span id="l11.9">                     // falls through</span>
<a href="#l11.10"></a><span id="l11.10">                 case &quot;REPLY&quot;: {</span>
<a href="#l11.11"></a><span id="l11.11">                     let attendees = item.getAttendees({});</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-                    let sender = cal.getAttendeesBySender(attendees, aItipItem.sender);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+                    let sender = cal.itip.getAttendeesBySender(attendees, aItipItem.sender);</span>
<a href="#l11.14"></a><span id="l11.14">                     if (sender.length == 1) {</span>
<a href="#l11.15"></a><span id="l11.15">                         if (aItipItem.responseMethod == &quot;COUNTER&quot;) {</span>
<a href="#l11.16"></a><span id="l11.16">                             header = cal.calGetString(&quot;lightning&quot;,</span>
<a href="#l11.17"></a><span id="l11.17">                                                       &quot;itipCounterBody&quot;,</span>
<a href="#l11.18"></a><span id="l11.18">                                                       [sender[0].toString(), summary],</span>
<a href="#l11.19"></a><span id="l11.19">                                                       &quot;lightning&quot;);</span>
<a href="#l11.20"></a><span id="l11.20">                         } else {</span>
<a href="#l11.21"></a><span id="l11.21">                             let statusString = (sender[0].participationStatus == &quot;DECLINED&quot; ?</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -231,17 +231,17 @@ ltn.invitation = {</span>
<a href="#l11.23"></a><span id="l11.23">         doc.getElementById(&quot;imipHtml-organizer-row&quot;).hidden = !aEvent.organizer;</span>
<a href="#l11.24"></a><span id="l11.24"> </span>
<a href="#l11.25"></a><span id="l11.25">         let setupAttendee = function(aAttendee) {</span>
<a href="#l11.26"></a><span id="l11.26">             let row = attendeeTemplate.cloneNode(true);</span>
<a href="#l11.27"></a><span id="l11.27">             row.removeAttribute(&quot;id&quot;);</span>
<a href="#l11.28"></a><span id="l11.28">             row.removeAttribute(&quot;hidden&quot;);</span>
<a href="#l11.29"></a><span id="l11.29"> </span>
<a href="#l11.30"></a><span id="l11.30">             // resolve delegatees/delegators to display also the CN</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineminus">-            let del = cal.resolveDelegation(aAttendee, attendees);</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+            let del = cal.itip.resolveDelegation(aAttendee, attendees);</span>
<a href="#l11.33"></a><span id="l11.33">             if (del.delegators != &quot;&quot;) {</span>
<a href="#l11.34"></a><span id="l11.34">                 del.delegators = &quot; &quot; + ltn.getString(&quot;lightning&quot;, &quot;imipHtml.attendeeDelegatedFrom&quot;,</span>
<a href="#l11.35"></a><span id="l11.35">                                                      [del.delegators]);</span>
<a href="#l11.36"></a><span id="l11.36">             }</span>
<a href="#l11.37"></a><span id="l11.37"> </span>
<a href="#l11.38"></a><span id="l11.38">             // display itip icon</span>
<a href="#l11.39"></a><span id="l11.39">             let role = aAttendee.role || &quot;REQ-PARTICIPANT&quot;;</span>
<a href="#l11.40"></a><span id="l11.40">             let partstat = aAttendee.participationStatus || &quot;NEEDS-ACTION&quot;;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/providers/gdata/components/calGoogleCalendar.js</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -434,17 +434,17 @@ calGoogleCalendar.prototype = {</span>
<a href="#l12.4"></a><span id="l12.4">             request.calendar = this;</span>
<a href="#l12.5"></a><span id="l12.5">             if (cal.item.isEvent(aNewItem)) {</span>
<a href="#l12.6"></a><span id="l12.6">                 let googleId = getGoogleId(aNewItem, this.offlineStorage);</span>
<a href="#l12.7"></a><span id="l12.7">                 request.uri = this.createEventsURI(&quot;events&quot;, googleId);</span>
<a href="#l12.8"></a><span id="l12.8"> </span>
<a href="#l12.9"></a><span id="l12.9">                 // Updating invitations often causes a forbidden error becase</span>
<a href="#l12.10"></a><span id="l12.10">                 // some parts are not writable. Using PATCH ignores anything</span>
<a href="#l12.11"></a><span id="l12.11">                 // that isn't allowed.</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-                if (cal.isInvitation(aNewItem)) {</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+                if (cal.itip.isInvitation(aNewItem)) {</span>
<a href="#l12.14"></a><span id="l12.14">                     request.type = request.PATCH;</span>
<a href="#l12.15"></a><span id="l12.15">                 }</span>
<a href="#l12.16"></a><span id="l12.16"> </span>
<a href="#l12.17"></a><span id="l12.17">                 if (Preferences.get(&quot;calendar.google.sendEventNotifications&quot;, false)) {</span>
<a href="#l12.18"></a><span id="l12.18">                     request.addQueryParameter(&quot;sendNotifications&quot;, &quot;true&quot;);</span>
<a href="#l12.19"></a><span id="l12.19">                 }</span>
<a href="#l12.20"></a><span id="l12.20">             } else if (cal.item.isToDo(aNewItem)) {</span>
<a href="#l12.21"></a><span id="l12.21">                 request.uri = this.createTasksURI(&quot;tasks&quot;, aNewItem.id);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/test/unit/test_calutils.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/test/unit/test_calutils.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -115,17 +115,17 @@ function getAttendeesBySender_test() {</span>
<a href="#l13.4"></a><span id="l13.4">             let attendee = cal.createAttendee();</span>
<a href="#l13.5"></a><span id="l13.5">             attendee.id = att.id;</span>
<a href="#l13.6"></a><span id="l13.6">             if (att.sentBy) {</span>
<a href="#l13.7"></a><span id="l13.7">                 attendee.setProperty(&quot;SENT-BY&quot;, att.sentBy);</span>
<a href="#l13.8"></a><span id="l13.8">             }</span>
<a href="#l13.9"></a><span id="l13.9">             attendees.push(attendee);</span>
<a href="#l13.10"></a><span id="l13.10">         }</span>
<a href="#l13.11"></a><span id="l13.11">         let detected = [];</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-        cal.getAttendeesBySender(attendees, test.input.sender).forEach(att =&gt; {</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+        cal.itip.getAttendeesBySender(attendees, test.input.sender).forEach(att =&gt; {</span>
<a href="#l13.14"></a><span id="l13.14">             detected.push(att.id);</span>
<a href="#l13.15"></a><span id="l13.15">         });</span>
<a href="#l13.16"></a><span id="l13.16">         ok(detected.every(aId =&gt; test.expected.includes(aId)), &quot;(test #&quot; + i + &quot; ok1)&quot;);</span>
<a href="#l13.17"></a><span id="l13.17">         ok(test.expected.every(aId =&gt; detected.includes(aId)), &quot;(test #&quot; + i + &quot; ok2)&quot;);</span>
<a href="#l13.18"></a><span id="l13.18">     }</span>
<a href="#l13.19"></a><span id="l13.19"> }</span>
<a href="#l13.20"></a><span id="l13.20"> </span>
<a href="#l13.21"></a><span id="l13.21"> function getRecipientList_test() {</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -293,17 +293,17 @@ function resolveDelegation_test() {</span>
<a href="#l13.23"></a><span id="l13.23">         let attendees = [];</span>
<a href="#l13.24"></a><span id="l13.24">         for (let att of test.input.attendees) {</span>
<a href="#l13.25"></a><span id="l13.25">             let attendee = cal.createAttendee();</span>
<a href="#l13.26"></a><span id="l13.26">             attendee.icalString = att;</span>
<a href="#l13.27"></a><span id="l13.27">             attendees.push(attendee);</span>
<a href="#l13.28"></a><span id="l13.28">         }</span>
<a href="#l13.29"></a><span id="l13.29">         let attendee = cal.createAttendee();</span>
<a href="#l13.30"></a><span id="l13.30">         attendee.icalString = test.input.attendee;</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-        let result = cal.resolveDelegation(attendee, attendees);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+        let result = cal.itip.resolveDelegation(attendee, attendees);</span>
<a href="#l13.33"></a><span id="l13.33">         equal(result.delegatees, test.expected.delegatees, &quot;(test #&quot; + i + &quot; - delegatees)&quot;);</span>
<a href="#l13.34"></a><span id="l13.34">         equal(result.delegators, test.expected.delegators, &quot;(test #&quot; + i + &quot; - delegators)&quot;);</span>
<a href="#l13.35"></a><span id="l13.35">     }</span>
<a href="#l13.36"></a><span id="l13.36"> }</span>
<a href="#l13.37"></a><span id="l13.37"> </span>
<a href="#l13.38"></a><span id="l13.38"> function validateRecipientList_test() {</span>
<a href="#l13.39"></a><span id="l13.39">     let data = [{</span>
<a href="#l13.40"></a><span id="l13.40">         input: &quot;first.last@example.net&quot;,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/test/unit/test_gdata_provider.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1282,17 +1282,17 @@ add_task(function* test_modify_invitatio</span>
<a href="#l14.4"></a><span id="l14.4">     // Case #1: User is attendee</span>
<a href="#l14.5"></a><span id="l14.5">     let client = yield gServer.getClient();</span>
<a href="#l14.6"></a><span id="l14.6">     let pclient = cal.async.promisifyCalendar(client.wrappedJSObject);</span>
<a href="#l14.7"></a><span id="l14.7"> </span>
<a href="#l14.8"></a><span id="l14.8">     let items = yield pclient.getAllItems();</span>
<a href="#l14.9"></a><span id="l14.9">     equal(items.length, 1);</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11">     let item = items[0];</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    let att = cal.getInvitedAttendee(item);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+    let att = cal.itip.getInvitedAttendee(item);</span>
<a href="#l14.14"></a><span id="l14.14">     let newItem = item.clone();</span>
<a href="#l14.15"></a><span id="l14.15"> </span>
<a href="#l14.16"></a><span id="l14.16">     notEqual(att, null);</span>
<a href="#l14.17"></a><span id="l14.17">     equal(att.id, &quot;mailto:&quot; + attendee.email);</span>
<a href="#l14.18"></a><span id="l14.18">     equal(att.participationStatus, &quot;NEEDS-ACTION&quot;);</span>
<a href="#l14.19"></a><span id="l14.19"> </span>
<a href="#l14.20"></a><span id="l14.20">     newItem.removeAttendee(att);</span>
<a href="#l14.21"></a><span id="l14.21">     att = att.clone();</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

