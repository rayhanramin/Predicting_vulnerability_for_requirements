<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 14011:ef32e3668c1b404d514fe47f5e546b0650c14b5c</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ ef32e3668c1b404d514fe47f5e546b0650c14b5c" />
<meta property="og:url" content="/comm-central/rev/ef32e3668c1b404d514fe47f5e546b0650c14b5c" />
<meta property="og:description" content="Disable the message theme selector when there is only the default theme in the list, and simplify the code filling the theme selection menulist in both the Message Styles and Smileys windows." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / ef32e3668c1b404d514fe47f5e546b0650c14b5c 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/ef32e3668c1b404d514fe47f5e546b0650c14b5c">shortlog</a> |
<a href="/comm-central/log/ef32e3668c1b404d514fe47f5e546b0650c14b5c">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/ef32e3668c1b404d514fe47f5e546b0650c14b5c">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/ef32e3668c1b404d514fe47f5e546b0650c14b5c">files</a> |
changeset |
<a href="/comm-central/raw-rev/ef32e3668c1b404d514fe47f5e546b0650c14b5c">raw</a>  | <a href="/comm-central/archive/ef32e3668c1b404d514fe47f5e546b0650c14b5c.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
Disable the message theme selector when there is only the default theme in the list, and simplify the code filling the theme selection menulist in both the Message Styles and Smileys windows.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#70;&#108;&#111;&#114;&#105;&#97;&#110;&#32;&#81;&#117;&#232;&#122;&#101;&#32;&#60;&#102;&#108;&#111;&#114;&#105;&#97;&#110;&#64;&#105;&#110;&#115;&#116;&#97;&#110;&#116;&#98;&#105;&#114;&#100;&#46;&#111;&#114;&#103;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 10 Jul 2009 23:50:05 +0200</td></tr>

<tr>
 <td>changeset 14011</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/ef32e3668c1b404d514fe47f5e546b0650c14b5c">ef32e3668c1b404d514fe47f5e546b0650c14b5c</a></td>
</tr>



<tr>
<td>parent 14010</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/76a19ebfe41c3f03fee2f0a1c3306da3ddef64a1">76a19ebfe41c3f03fee2f0a1c3306da3ddef64a1</a>
</td>
</tr>

<tr>
<td>child 14012</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9d3506abe0202f436280abeb5c82d853d8b5b3a8">9d3506abe0202f436280abeb5c82d853d8b5b3a8</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=ef32e3668c1b404d514fe47f5e546b0650c14b5c">9778</a></td></tr>
<tr><td>push user</td><td>florian@queze.net</td></tr>
<tr><td>push date</td><td class="date age">Sun, 12 Jan 2014 18:25:45 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@f81a23bfefcd [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=f81a23bfefcd0f6ec6215fbde12f8af2bc7749f1&newProject=comm-central&newRevision=279a7aa9624ffb41326b021ff7d8bc68b9b89551&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>






</table></div>

<div class="page_body description">Disable the message theme selector when there is only the default theme in the list, and simplify the code filling the theme selection menulist in both the Message Styles and Smileys windows.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.js">im/base/content/instantbird/messagestyle.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.js">file</a> |
<a href="/comm-central/annotate/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.js">annotate</a> |
<a href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.js">diff</a> |
<a href="/comm-central/comparison/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.js">comparison</a> |
<a href="/comm-central/log/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.xul">im/base/content/instantbird/messagestyle.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.xul">file</a> |
<a href="/comm-central/annotate/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.xul">annotate</a> |
<a href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.xul">diff</a> |
<a href="/comm-central/comparison/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.xul">comparison</a> |
<a href="/comm-central/log/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/messagestyle.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/smileys.js">im/base/content/instantbird/smileys.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/smileys.js">file</a> |
<a href="/comm-central/annotate/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/smileys.js">annotate</a> |
<a href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/smileys.js">diff</a> |
<a href="/comm-central/comparison/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/smileys.js">comparison</a> |
<a href="/comm-central/log/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/base/content/instantbird/smileys.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/locales/en-US/chrome/instantbird/messagestyle.dtd">im/locales/en-US/chrome/instantbird/messagestyle.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/locales/en-US/chrome/instantbird/messagestyle.dtd">file</a> |
<a href="/comm-central/annotate/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/locales/en-US/chrome/instantbird/messagestyle.dtd">annotate</a> |
<a href="/comm-central/diff/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/locales/en-US/chrome/instantbird/messagestyle.dtd">diff</a> |
<a href="/comm-central/comparison/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/locales/en-US/chrome/instantbird/messagestyle.dtd">comparison</a> |
<a href="/comm-central/log/ef32e3668c1b404d514fe47f5e546b0650c14b5c/im/locales/en-US/chrome/instantbird/messagestyle.dtd">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/im/base/content/instantbird/messagestyle.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/im/base/content/instantbird/messagestyle.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -113,34 +113,28 @@ const showHeaderPref = &quot;showHeader&quot;;</span>
<a href="#l1.4"></a><span id="l1.4"> </span>
<a href="#l1.5"></a><span id="l1.5"> var previewObserver = {</span>
<a href="#l1.6"></a><span id="l1.6">   buildThemeList: function() {</span>
<a href="#l1.7"></a><span id="l1.7">     let themeList =</span>
<a href="#l1.8"></a><span id="l1.8">       Components.classes[&quot;@mozilla.org/extensions/manager;1&quot;]</span>
<a href="#l1.9"></a><span id="l1.9">                 .getService(Components.interfaces.nsIExtensionManager)</span>
<a href="#l1.10"></a><span id="l1.10">                 .getItemList(Components.interfaces.nsIUpdateItem.TYPE_EXTENSION, {})</span>
<a href="#l1.11"></a><span id="l1.11">                 .filter(function(item) /^messagestyle-/.test(item.id));</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    let createMenuItem = function(aItem) {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineminus">-      let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineminus">-      item.setAttribute(&quot;label&quot;, aItem.name);</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-      item.setAttribute(&quot;value&quot;,</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-                        aItem.id.replace(/^messagestyle-([^@]+)@.*/, &quot;$1&quot;));</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineminus">-      return item;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineminus">-    };</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+</span>
<a href="#l1.20"></a><span id="l1.20">     let menulist = document.getElementById(&quot;themename&quot;);</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineminus">-    let popup = menulist.appendChild(document.createElement(&quot;menupopup&quot;));</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineminus">-    let menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineminus">-    let defaultText = document.getElementById(&quot;messageStyleBundle&quot;)</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineminus">-                              .getString(&quot;default&quot;);</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineminus">-    menuitem.setAttribute(&quot;label&quot;, defaultText);</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineminus">-    menuitem.setAttribute(&quot;value&quot;, &quot;default&quot;);</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineminus">-    popup.appendChild(menuitem);</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineminus">-    popup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineminus">-    themeList.map(createMenuItem)</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineminus">-             .forEach(function (e) { popup.appendChild(e); });</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+    if (!themeList.length) {</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+      menulist.disabled = true;</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+      return;</span>
<a href="#l1.34"></a><span id="l1.34" class="difflineplus">+    }</span>
<a href="#l1.35"></a><span id="l1.35" class="difflineplus">+</span>
<a href="#l1.36"></a><span id="l1.36" class="difflineplus">+    menulist.menupopup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l1.37"></a><span id="l1.37" class="difflineplus">+    themeList.forEach(function(aItem) {</span>
<a href="#l1.38"></a><span id="l1.38" class="difflineplus">+      menulist.appendItem(aItem.name,</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineplus">+                          aItem.id.replace(/^messagestyle-([^@]+)@.*/, &quot;$1&quot;));</span>
<a href="#l1.40"></a><span id="l1.40" class="difflineplus">+    });</span>
<a href="#l1.41"></a><span id="l1.41">   },</span>
<a href="#l1.42"></a><span id="l1.42">   load: function() {</span>
<a href="#l1.43"></a><span id="l1.43">     previewObserver.buildThemeList();</span>
<a href="#l1.44"></a><span id="l1.44">     previewObserver.prefs =</span>
<a href="#l1.45"></a><span id="l1.45">       Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span>
<a href="#l1.46"></a><span id="l1.46">                 .getService(Components.interfaces.nsIPrefService)</span>
<a href="#l1.47"></a><span id="l1.47">                 .getBranch(messagesStylePrefBranch);</span>
<a href="#l1.48"></a><span id="l1.48"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/im/base/content/instantbird/messagestyle.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/im/base/content/instantbird/messagestyle.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -64,17 +64,23 @@</span>
<a href="#l2.4"></a><span id="l2.4">   &lt;/stringbundleset&gt;</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6">   &lt;label value=&quot;&amp;previewLabel;&quot;/&gt;</span>
<a href="#l2.7"></a><span id="l2.7">   &lt;browser flex=&quot;1&quot; id=&quot;browser&quot; type=&quot;content-conversation&quot;/&gt;</span>
<a href="#l2.8"></a><span id="l2.8"> </span>
<a href="#l2.9"></a><span id="l2.9">   &lt;hbox align=&quot;baseline&quot;&gt;</span>
<a href="#l2.10"></a><span id="l2.10">     &lt;label value=&quot;&amp;themeLabel;&quot; control=&quot;themename&quot;/&gt;</span>
<a href="#l2.11"></a><span id="l2.11">     &lt;menulist id=&quot;themename&quot;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-              oncommand=&quot;previewObserver.currentThemeChanged();&quot;/&gt;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+              oncommand=&quot;previewObserver.currentThemeChanged();&quot;&gt;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+      &lt;menupopup id=&quot;theme-menupopup&quot;&gt;</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+        &lt;menuitem id=&quot;default-menuitem&quot;</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+                  label=&quot;&amp;defaultThemeLabel;&quot;</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+                  value=&quot;default&quot;/&gt;</span>
<a href="#l2.18"></a><span id="l2.18" class="difflineplus">+      &lt;/menupopup&gt;</span>
<a href="#l2.19"></a><span id="l2.19" class="difflineplus">+    &lt;/menulist&gt;</span>
<a href="#l2.20"></a><span id="l2.20">   &lt;/hbox&gt;</span>
<a href="#l2.21"></a><span id="l2.21">   &lt;hbox align=&quot;baseline&quot;&gt;</span>
<a href="#l2.22"></a><span id="l2.22">     &lt;label value=&quot;&amp;variantLabel;&quot; control=&quot;themevariant&quot;/&gt;</span>
<a href="#l2.23"></a><span id="l2.23">     &lt;menulist id=&quot;themevariant&quot;</span>
<a href="#l2.24"></a><span id="l2.24">               oncommand=&quot;previewObserver.currentVariantChanged();&quot;/&gt;</span>
<a href="#l2.25"></a><span id="l2.25">   &lt;/hbox&gt;</span>
<a href="#l2.26"></a><span id="l2.26">   &lt;checkbox id=&quot;showHeaderCheckbox&quot; label=&quot;&amp;showHeaderLabel;&quot;</span>
<a href="#l2.27"></a><span id="l2.27">             oncommand=&quot;previewObserver.showHeaderChanged()&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/im/base/content/instantbird/smileys.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/im/base/content/instantbird/smileys.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -42,25 +42,21 @@ var smileysPreview = {</span>
<a href="#l3.4"></a><span id="l3.4">     let themeList =</span>
<a href="#l3.5"></a><span id="l3.5">       Components.classes[&quot;@mozilla.org/extensions/manager;1&quot;]</span>
<a href="#l3.6"></a><span id="l3.6">                 .getService(Components.interfaces.nsIExtensionManager)</span>
<a href="#l3.7"></a><span id="l3.7">                 .getItemList(Components.interfaces.nsIUpdateItem.TYPE_EXTENSION, {})</span>
<a href="#l3.8"></a><span id="l3.8">                 .filter(function(item) /^emoticons-/.test(item.id));</span>
<a href="#l3.9"></a><span id="l3.9">     if (!themeList.length)</span>
<a href="#l3.10"></a><span id="l3.10">       return;</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-    let popup = document.getElementById(&quot;theme-menupopup&quot;);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineminus">-    popup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineminus">-</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+    let menulist = document.getElementById(&quot;themename&quot;);</span>
<a href="#l3.16"></a><span id="l3.16" class="difflineplus">+    menulist.menupopup.appendChild(document.createElement(&quot;menuseparator&quot;));</span>
<a href="#l3.17"></a><span id="l3.17">     themeList.forEach(function(aItem) {</span>
<a href="#l3.18"></a><span id="l3.18" class="difflineminus">-      let item = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l3.19"></a><span id="l3.19" class="difflineminus">-      item.setAttribute(&quot;label&quot;, aItem.name);</span>
<a href="#l3.20"></a><span id="l3.20" class="difflineminus">-      item.setAttribute(&quot;value&quot;,</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineminus">-                        aItem.id.replace(/^emoticons-([^@]+)@.*/, &quot;$1&quot;));</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineminus">-      popup.appendChild(item);</span>
<a href="#l3.23"></a><span id="l3.23" class="difflineplus">+      menulist.appendItem(aItem.name,</span>
<a href="#l3.24"></a><span id="l3.24" class="difflineplus">+                          aItem.id.replace(/^emoticons-([^@]+)@.*/, &quot;$1&quot;));</span>
<a href="#l3.25"></a><span id="l3.25">     });</span>
<a href="#l3.26"></a><span id="l3.26">   },</span>
<a href="#l3.27"></a><span id="l3.27">   load: function() {</span>
<a href="#l3.28"></a><span id="l3.28">     Components.utils.import(&quot;resource://app/modules/imSmileys.jsm&quot;);</span>
<a href="#l3.29"></a><span id="l3.29"> </span>
<a href="#l3.30"></a><span id="l3.30">     smileysPreview.buildThemeList();</span>
<a href="#l3.31"></a><span id="l3.31">     smileysPreview.prefs =</span>
<a href="#l3.32"></a><span id="l3.32">       Components.classes[&quot;@mozilla.org/preferences-service;1&quot;]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/im/locales/en-US/chrome/instantbird/messagestyle.dtd</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/im/locales/en-US/chrome/instantbird/messagestyle.dtd</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -1,5 +1,6 @@</span>
<a href="#l4.4"></a><span id="l4.4"> &lt;!ENTITY messageStyleWindow.title &quot;Message Styles - &amp;brandShortName;&quot;&gt;</span>
<a href="#l4.5"></a><span id="l4.5"> &lt;!ENTITY previewLabel &quot;Preview:&quot;&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> &lt;!ENTITY themeLabel   &quot;Theme:&quot;&gt;</span>
<a href="#l4.7"></a><span id="l4.7" class="difflineplus">+&lt;!ENTITY defaultThemeLabel &quot;Default&quot;&gt;</span>
<a href="#l4.8"></a><span id="l4.8"> &lt;!ENTITY variantLabel &quot;Variant:&quot;&gt;</span>
<a href="#l4.9"></a><span id="l4.9"> &lt;!ENTITY showHeaderLabel &quot;Show Header&quot;&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

