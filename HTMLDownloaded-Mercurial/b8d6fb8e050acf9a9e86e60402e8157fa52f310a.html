<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 7372:b8d6fb8e050acf9a9e86e60402e8157fa52f310a</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ b8d6fb8e050acf9a9e86e60402e8157fa52f310a" />
<meta property="og:url" content="/comm-central/rev/b8d6fb8e050acf9a9e86e60402e8157fa52f310a" />
<meta property="og:description" content="Bug 464653 Toolbar context menu improvements and fixes. r=Neil." />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / b8d6fb8e050acf9a9e86e60402e8157fa52f310a 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/b8d6fb8e050acf9a9e86e60402e8157fa52f310a">shortlog</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/b8d6fb8e050acf9a9e86e60402e8157fa52f310a">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a">files</a> |
changeset |
<a href="/comm-central/raw-rev/b8d6fb8e050acf9a9e86e60402e8157fa52f310a">raw</a>  | <a href="/comm-central/archive/b8d6fb8e050acf9a9e86e60402e8157fa52f310a.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=464653">Bug 464653</a> Toolbar context menu improvements and fixes. r=Neil.
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#80;&#104;&#105;&#108;&#105;&#112;&#32;&#67;&#104;&#101;&#101;&#32;&#60;&#112;&#104;&#105;&#108;&#105;&#112;&#46;&#99;&#104;&#101;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 18 Mar 2011 22:54:01 +0800</td></tr>

<tr>
 <td>changeset 7372</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/b8d6fb8e050acf9a9e86e60402e8157fa52f310a">b8d6fb8e050acf9a9e86e60402e8157fa52f310a</a></td>
</tr>



<tr>
<td>parent 7371</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f7715f57e4d3785200161ada08f312437f46601f">f7715f57e4d3785200161ada08f312437f46601f</a>
</td>
</tr>

<tr>
<td>child 7373</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/1e62cbf1840c43eaf2f2248e3943a28879d44297">1e62cbf1840c43eaf2f2248e3943a28879d44297</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=b8d6fb8e050acf9a9e86e60402e8157fa52f310a">5651</a></td></tr>
<tr><td>push user</td><td>philip.chee@gmail.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 18 Mar 2011 15:02:32 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b8d6fb8e050a [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b8d6fb8e050acf9a9e86e60402e8157fa52f310a">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b8d6fb8e050acf9a9e86e60402e8157fa52f310a&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b8d6fb8e050acf9a9e86e60402e8157fa52f310a&newProject=comm-central&newRevision=f7715f57e4d3785200161ada08f312437f46601f&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b8d6fb8e050acf9a9e86e60402e8157fa52f310a&newProject=comm-central&newRevision=f7715f57e4d3785200161ada08f312437f46601f&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b8d6fb8e050acf9a9e86e60402e8157fa52f310a&newProject=comm-central&newRevision=f7715f57e4d3785200161ada08f312437f46601f&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Neil%29&revcount=50">Neil</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=464653">464653</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=464653">Bug 464653</a> Toolbar context menu improvements and fixes. r=Neil.</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/linkToolbarOverlay.xul">suite/browser/linkToolbarOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/linkToolbarOverlay.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/linkToolbarOverlay.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/linkToolbarOverlay.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/linkToolbarOverlay.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/linkToolbarOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.js">suite/browser/navigator.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.js">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.js">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.js">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.js">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.xul">suite/browser/navigator.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigator.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigatorOverlay.xul">suite/browser/navigatorOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigatorOverlay.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigatorOverlay.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigatorOverlay.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigatorOverlay.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/browser/navigatorOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.js">suite/common/utilityOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.js">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.js">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.js">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.js">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.xul">suite/common/utilityOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/common/utilityOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/addrbook/addressbook.xul">suite/mailnews/addrbook/addressbook.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/addrbook/addressbook.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/addrbook/addressbook.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/addrbook/addressbook.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/addrbook/addressbook.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/addrbook/addressbook.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/compose/messengercompose.xul">suite/mailnews/compose/messengercompose.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/compose/messengercompose.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/compose/messengercompose.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/compose/messengercompose.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/compose/messengercompose.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/compose/messengercompose.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/mailWindowOverlay.xul">suite/mailnews/mailWindowOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/mailWindowOverlay.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/mailWindowOverlay.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/mailWindowOverlay.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/mailWindowOverlay.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/mailWindowOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/messenger.xul">suite/mailnews/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/messenger.xul">file</a> |
<a href="/comm-central/annotate/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/messenger.xul">annotate</a> |
<a href="/comm-central/diff/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/messenger.xul">diff</a> |
<a href="/comm-central/comparison/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/messenger.xul">comparison</a> |
<a href="/comm-central/log/b8d6fb8e050acf9a9e86e60402e8157fa52f310a/suite/mailnews/messenger.xul">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/browser/linkToolbarOverlay.xul</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/browser/linkToolbarOverlay.xul</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -60,20 +60,21 @@</span>
<a href="#l1.4"></a><span id="l1.4">   &lt;/script&gt;</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6">   &lt;stringbundleset&gt;</span>
<a href="#l1.7"></a><span id="l1.7">     &lt;stringbundle id=&quot;languageBundle&quot;</span>
<a href="#l1.8"></a><span id="l1.8">                   src=&quot;chrome://global/locale/languageNames.properties&quot;/&gt;</span>
<a href="#l1.9"></a><span id="l1.9">   &lt;/stringbundleset&gt;</span>
<a href="#l1.10"></a><span id="l1.10"> </span>
<a href="#l1.11"></a><span id="l1.11">   &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    &lt;menu label=&quot;&amp;linkToolbar.label;&quot; position=&quot;3&quot;</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    &lt;menu label=&quot;&amp;linkToolbar.label;&quot;</span>
<a href="#l1.14"></a><span id="l1.14">           accesskey=&quot;&amp;linkToolbar.accesskey;&quot;</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineminus">-          oncommand=&quot;linkToolbarUI.toggleLinkToolbar(event.target)&quot;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-          onpopupshowing=&quot;linkToolbarUI.initLinkbarVisibilityMenu()&quot;&gt;</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+          insertbefore=&quot;menuitem_showhide_tabbar&quot;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+          onpopupshowing=&quot;linkToolbarUI.initLinkbarVisibilityMenu();&quot;</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+          oncommand=&quot;linkToolbarUI.toggleLinkToolbar(event.target);&quot;&gt;</span>
<a href="#l1.20"></a><span id="l1.20">       &lt;menupopup&gt;</span>
<a href="#l1.21"></a><span id="l1.21">         &lt;menuitem label=&quot;&amp;linkToolbarAlways.label;&quot;</span>
<a href="#l1.22"></a><span id="l1.22">                   accesskey=&quot;&amp;linkToolbarAlways.accesskey;&quot;</span>
<a href="#l1.23"></a><span id="l1.23">                   class=&quot;menuitem-iconic&quot; type=&quot;radio&quot; value=&quot;false&quot;</span>
<a href="#l1.24"></a><span id="l1.24">                   name=&quot;cmd_viewlinktoolbar&quot; id=&quot;cmd_viewlinktoolbar_false&quot; /&gt;</span>
<a href="#l1.25"></a><span id="l1.25">         &lt;menuitem label=&quot;&amp;linkToolbarAsNeeded.label;&quot;</span>
<a href="#l1.26"></a><span id="l1.26">                   accesskey=&quot;&amp;linkToolbarAsNeeded.accesskey;&quot;</span>
<a href="#l1.27"></a><span id="l1.27">                   class=&quot;menuitem-iconic&quot; type=&quot;radio&quot; value=&quot;maybe&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/browser/navigator.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/browser/navigator.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -2373,18 +2373,19 @@ function updateComponentBarBroadcaster()</span>
<a href="#l2.4"></a><span id="l2.4">       compBarBroadcaster.setAttribute('checked', 'true');</span>
<a href="#l2.5"></a><span id="l2.5">   }</span>
<a href="#l2.6"></a><span id="l2.6">   else {</span>
<a href="#l2.7"></a><span id="l2.7">     compBarBroadcaster.setAttribute('disabled', 'true');</span>
<a href="#l2.8"></a><span id="l2.8">     compBarBroadcaster.removeAttribute('checked');</span>
<a href="#l2.9"></a><span id="l2.9">   }</span>
<a href="#l2.10"></a><span id="l2.10"> }</span>
<a href="#l2.11"></a><span id="l2.11"> </span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-function updateToolbarStates(toolbarMenuElt)</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+function updateToolbarStates(aEvent)</span>
<a href="#l2.14"></a><span id="l2.14"> {</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+  onViewToolbarsPopupShowing(aEvent);</span>
<a href="#l2.16"></a><span id="l2.16">   updateComponentBarBroadcaster();</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18">   const tabbarMenuItem = document.getElementById(&quot;menuitem_showhide_tabbar&quot;);</span>
<a href="#l2.19"></a><span id="l2.19">   // Make show/hide menu item reflect current state</span>
<a href="#l2.20"></a><span id="l2.20">   const visibility = gBrowser.getStripVisibility();</span>
<a href="#l2.21"></a><span id="l2.21">   tabbarMenuItem.setAttribute(&quot;checked&quot;, visibility);</span>
<a href="#l2.22"></a><span id="l2.22"> </span>
<a href="#l2.23"></a><span id="l2.23">   // Don't allow the tab bar to be shown/hidden when more than one tab is open</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/browser/navigator.xul</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/browser/navigator.xul</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -196,17 +196,16 @@</span>
<a href="#l3.4"></a><span id="l3.4">         &lt;menubar id=&quot;main-menubar&quot;/&gt;</span>
<a href="#l3.5"></a><span id="l3.5">       &lt;/toolbaritem&gt;</span>
<a href="#l3.6"></a><span id="l3.6">     &lt;/toolbar&gt;</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8">     &lt;toolbar class=&quot;toolbar-primary chromeclass-toolbar&quot; id=&quot;nav-bar&quot; persist=&quot;collapsed&quot; </span>
<a href="#l3.9"></a><span id="l3.9">              grippytooltiptext=&quot;&amp;navigationToolbar.tooltip;&quot;</span>
<a href="#l3.10"></a><span id="l3.10">              fullscreentoolbar=&quot;true&quot; customizable=&quot;true&quot;</span>
<a href="#l3.11"></a><span id="l3.11">              toolbarname=&quot;&amp;navbarCmd.label;&quot; accesskey=&quot;&amp;navbarCmd.accesskey;&quot;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-             togglemenuitem=&quot;cmd_viewnavbar&quot;</span>
<a href="#l3.13"></a><span id="l3.13">              defaultset=&quot;back-button,forward-button,reload-button,stop-button,nav-bar-inner,search-button-container,print-button,throbber-box,window-controls&quot;</span>
<a href="#l3.14"></a><span id="l3.14">              context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16">       &lt;hbox id=&quot;window-controls&quot; hidden=&quot;true&quot; fullscreencontrol=&quot;true&quot;&gt;</span>
<a href="#l3.17"></a><span id="l3.17">         &lt;toolbarbutton id=&quot;minimize-button&quot;</span>
<a href="#l3.18"></a><span id="l3.18">                        tooltiptext=&quot;&amp;minimizeButton.tooltip;&quot;</span>
<a href="#l3.19"></a><span id="l3.19">                        oncommand=&quot;window.minimize();&quot;/&gt;</span>
<a href="#l3.20"></a><span id="l3.20"> </span>
<a href="#l3.21"></a><span id="l3.21" class="difflineat">@@ -224,17 +223,16 @@</span>
<a href="#l3.22"></a><span id="l3.22"> </span>
<a href="#l3.23"></a><span id="l3.23">     &lt;toolbar id=&quot;PersonalToolbar&quot;</span>
<a href="#l3.24"></a><span id="l3.24">              accesskey=&quot;&amp;personalbarCmd.accesskey;&quot;</span>
<a href="#l3.25"></a><span id="l3.25">              class=&quot;chromeclass-directories&quot;</span>
<a href="#l3.26"></a><span id="l3.26">              persist=&quot;collapsed&quot;</span>
<a href="#l3.27"></a><span id="l3.27">              grippytooltiptext=&quot;&amp;personalToolbar.tooltip;&quot;</span>
<a href="#l3.28"></a><span id="l3.28">              toolbarname=&quot;&amp;personalbarCmd.label;&quot;</span>
<a href="#l3.29"></a><span id="l3.29">              nowindowdrag=&quot;true&quot;</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-             togglemenuitem=&quot;cmd_viewpersonaltoolbar&quot;</span>
<a href="#l3.31"></a><span id="l3.31">              customizable=&quot;true&quot;</span>
<a href="#l3.32"></a><span id="l3.32">              defaultset=&quot;home-button,separator,bookmarks-button,personal-bookmarks&quot;</span>
<a href="#l3.33"></a><span id="l3.33">              mode=&quot;full&quot;</span>
<a href="#l3.34"></a><span id="l3.34">              iconsize=&quot;small&quot;</span>
<a href="#l3.35"></a><span id="l3.35">              labelalign=&quot;end&quot;</span>
<a href="#l3.36"></a><span id="l3.36">              defaultmode=&quot;full&quot;</span>
<a href="#l3.37"></a><span id="l3.37">              defaulticonsize=&quot;small&quot;</span>
<a href="#l3.38"></a><span id="l3.38">              defaultlabelalign=&quot;end&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/browser/navigatorOverlay.xul</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/browser/navigatorOverlay.xul</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -217,18 +217,16 @@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5">   &lt;/commandset&gt;</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7">   &lt;broadcasterset id=&quot;navBroadcasters&quot;&gt;</span>
<a href="#l4.8"></a><span id="l4.8">     &lt;broadcaster id=&quot;canGoBack&quot;    disabled=&quot;true&quot;/&gt;</span>
<a href="#l4.9"></a><span id="l4.9">     &lt;broadcaster id=&quot;canGoForward&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l4.10"></a><span id="l4.10">     &lt;broadcaster id=&quot;canGoUp&quot;      disabled=&quot;true&quot;/&gt;</span>
<a href="#l4.11"></a><span id="l4.11">     &lt;broadcaster id=&quot;Communicator:WorkMode&quot;/&gt;</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    &lt;broadcaster id=&quot;cmd_viewnavbar&quot; oncommand=&quot;goToggleToolbar( 'nav-bar','cmd_viewnavbar');&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-    &lt;broadcaster id=&quot;cmd_viewpersonaltoolbar&quot; oncommand=&quot;goToggleToolbar('PersonalToolbar','cmd_viewpersonaltoolbar');&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l4.14"></a><span id="l4.14">     &lt;broadcaster id=&quot;cmd_viewtaskbar&quot; oncommand=&quot;goToggleToolbar('status-bar','cmd_viewtaskbar'); updateWindowResizer();&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l4.15"></a><span id="l4.15">     &lt;broadcaster id=&quot;cmd_viewcomponentbar&quot; oncommand=&quot;goToggleToolbar('component-bar', 'cmd_viewcomponentbar');&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l4.16"></a><span id="l4.16">     &lt;broadcaster id=&quot;isImage&quot;/&gt;</span>
<a href="#l4.17"></a><span id="l4.17">   &lt;/broadcasterset&gt;</span>
<a href="#l4.18"></a><span id="l4.18">          </span>
<a href="#l4.19"></a><span id="l4.19">   &lt;!-- bookmarks context menu --&gt;</span>
<a href="#l4.20"></a><span id="l4.20">   &lt;popupset id=&quot;bookmarksPopupset&quot;&gt;</span>
<a href="#l4.21"></a><span id="l4.21">     &lt;menupopup id=&quot;bookmarks-context-menu&quot; </span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -312,19 +310,19 @@</span>
<a href="#l4.23"></a><span id="l4.23">         &lt;menuseparator id=&quot;menu_PrefsSeparator&quot;/&gt; </span>
<a href="#l4.24"></a><span id="l4.24">         &lt;menuitem id=&quot;menu_preferences&quot; oncommand=&quot;goPreferences('navigator_pane')&quot;/&gt;</span>
<a href="#l4.25"></a><span id="l4.25">       &lt;/menupopup&gt;</span>
<a href="#l4.26"></a><span id="l4.26">     &lt;/menu&gt;</span>
<a href="#l4.27"></a><span id="l4.27"> </span>
<a href="#l4.28"></a><span id="l4.28">     &lt;menu id=&quot;menu_View&quot; accesskey=&quot;&amp;viewMenu.accesskey;&quot; label=&quot;&amp;viewMenu.label;&quot;&gt;</span>
<a href="#l4.29"></a><span id="l4.29">       &lt;menupopup id=&quot;menu_View_Popup&quot;&gt;</span>
<a href="#l4.30"></a><span id="l4.30">         &lt;menu label=&quot;&amp;toolbarsCmd.label;&quot; accesskey=&quot;&amp;toolbarsCmd.accesskey;&quot; id=&quot;menu_Toolbars&quot;&gt;</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-          &lt;menupopup id=&quot;view_toolbars_popup&quot; onpopupshowing=&quot;updateToolbarStates(this);&quot;&gt; </span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">-            &lt;menuitem label=&quot;&amp;navbarCmd.label;&quot; accesskey=&quot;&amp;navbarCmd.accesskey;&quot; class=&quot;menuitem-iconic&quot; type=&quot;checkbox&quot; observes=&quot;cmd_viewnavbar&quot;  /&gt;</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-            &lt;menuitem label=&quot;&amp;personalbarCmd.label;&quot; accesskey=&quot;&amp;personalbarCmd.accesskey;&quot; class=&quot;menuitem-iconic&quot; type=&quot;checkbox&quot; observes=&quot;cmd_viewpersonaltoolbar&quot; /&gt;</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineplus">+          &lt;menupopup id=&quot;view_toolbars_popup&quot;</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineplus">+                     onpopupshowing=&quot;updateToolbarStates(event);&quot;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+                     oncommand=&quot;onViewToolbarCommand(event);&quot;&gt;</span>
<a href="#l4.37"></a><span id="l4.37">             &lt;menuitem id=&quot;menuitem_showhide_tabbar&quot; label=&quot;&amp;tabbarCmd.label;&quot; accesskey=&quot;&amp;tabbarCmd.accesskey;&quot; class=&quot;menuitem-iconic&quot; type=&quot;checkbox&quot; oncommand=&quot;showHideTabbar();&quot; checked=&quot;true&quot;/&gt;</span>
<a href="#l4.38"></a><span id="l4.38">             &lt;menuitem label=&quot;&amp;taskbarCmd.label;&quot; accesskey=&quot;&amp;taskbarCmd.accesskey;&quot; class=&quot;menuitem-iconic&quot; type=&quot;checkbox&quot; observes=&quot;cmd_viewtaskbar&quot; /&gt;</span>
<a href="#l4.39"></a><span id="l4.39">             &lt;menuitem label=&quot;&amp;componentbarCmd.label;&quot; accesskey=&quot;&amp;componentbarCmd.accesskey;&quot; class=&quot;menuitem-iconic&quot; type=&quot;checkbox&quot; observes=&quot;cmd_viewcomponentbar&quot;/&gt;</span>
<a href="#l4.40"></a><span id="l4.40">           &lt;/menupopup&gt;</span>
<a href="#l4.41"></a><span id="l4.41">         &lt;/menu&gt;   </span>
<a href="#l4.42"></a><span id="l4.42">         &lt;menuitem id=&quot;menuitem_fullScreen&quot;</span>
<a href="#l4.43"></a><span id="l4.43">                   label=&quot;&amp;fullScreenCmd.label;&quot;</span>
<a href="#l4.44"></a><span id="l4.44">                   accesskey=&quot;&amp;fullScreenCmd.accesskey;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/common/utilityOverlay.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/common/utilityOverlay.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -313,46 +313,60 @@ function goCustomizeToolbar(toolbox)</span>
<a href="#l5.4"></a><span id="l5.4">   else {</span>
<a href="#l5.5"></a><span id="l5.5">     return window.openDialog(customizeURL,</span>
<a href="#l5.6"></a><span id="l5.6">                              &quot;&quot;,</span>
<a href="#l5.7"></a><span id="l5.7">                              &quot;chrome,all,dependent&quot;,</span>
<a href="#l5.8"></a><span id="l5.8">                              toolbox);</span>
<a href="#l5.9"></a><span id="l5.9">   }</span>
<a href="#l5.10"></a><span id="l5.10"> }</span>
<a href="#l5.11"></a><span id="l5.11"> </span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-function onViewToolbarsPopupShowing(aEvent)</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+function onViewToolbarsPopupShowing(aEvent, aInsertPoint)</span>
<a href="#l5.14"></a><span id="l5.14"> {</span>
<a href="#l5.15"></a><span id="l5.15">   var popup = aEvent.target;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+  if (popup != aEvent.currentTarget)</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+    return;</span>
<a href="#l5.18"></a><span id="l5.18"> </span>
<a href="#l5.19"></a><span id="l5.19">   // Empty the menu</span>
<a href="#l5.20"></a><span id="l5.20">   var deadItems = popup.getElementsByAttribute(&quot;toolbarid&quot;, &quot;*&quot;);</span>
<a href="#l5.21"></a><span id="l5.21">   for (let i = deadItems.length - 1; i &gt;= 0; --i)</span>
<a href="#l5.22"></a><span id="l5.22">     popup.removeChild(deadItems[i]);</span>
<a href="#l5.23"></a><span id="l5.23"> </span>
<a href="#l5.24"></a><span id="l5.24" class="difflineminus">-  var firstMenuItem = popup.firstChild;</span>
<a href="#l5.25"></a><span id="l5.25" class="difflineplus">+  var firstMenuItem = aInsertPoint || popup.firstChild;</span>
<a href="#l5.26"></a><span id="l5.26"> </span>
<a href="#l5.27"></a><span id="l5.27" class="difflineminus">-  var toolbar = document.popupNode;</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineplus">+  var toolbar = document.popupNode || popup;</span>
<a href="#l5.29"></a><span id="l5.29">   while (toolbar.localName != &quot;toolbar&quot;)</span>
<a href="#l5.30"></a><span id="l5.30">     toolbar = toolbar.parentNode;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineminus">-  var toolbox = toolbar.parentNode;</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+  var toolbox = toolbar.toolbox;</span>
<a href="#l5.33"></a><span id="l5.33"> </span>
<a href="#l5.34"></a><span id="l5.34" class="difflineminus">-  var toolbars = toolbox.getElementsByAttribute(&quot;toolbarname&quot;, &quot;*&quot;);</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineminus">-  for (let i = 0; i &lt; toolbars.length; ++i) {</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineminus">-    let bar = toolbars[i];</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+  var toolbars = Array.slice(toolbox.getElementsByAttribute(&quot;toolbarname&quot;, &quot;*&quot;));</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+  toolbars = toolbars.concat(toolbox.externalToolbars);</span>
<a href="#l5.39"></a><span id="l5.39" class="difflineplus">+</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+  toolbars.forEach(function(bar) {</span>
<a href="#l5.41"></a><span id="l5.41">     let menuItem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+    menuItem.setAttribute(&quot;id&quot;, &quot;toggle_&quot; + bar.id);</span>
<a href="#l5.43"></a><span id="l5.43">     menuItem.setAttribute(&quot;toolbarid&quot;, bar.id);</span>
<a href="#l5.44"></a><span id="l5.44">     menuItem.setAttribute(&quot;type&quot;, &quot;checkbox&quot;);</span>
<a href="#l5.45"></a><span id="l5.45">     menuItem.setAttribute(&quot;label&quot;, bar.getAttribute(&quot;toolbarname&quot;));</span>
<a href="#l5.46"></a><span id="l5.46">     menuItem.setAttribute(&quot;accesskey&quot;, bar.getAttribute(&quot;accesskey&quot;));</span>
<a href="#l5.47"></a><span id="l5.47">     menuItem.setAttribute(&quot;checked&quot;, !bar.hidden);</span>
<a href="#l5.48"></a><span id="l5.48">     popup.insertBefore(menuItem, firstMenuItem);</span>
<a href="#l5.49"></a><span id="l5.49" class="difflineminus">-  }</span>
<a href="#l5.50"></a><span id="l5.50" class="difflineplus">+  });</span>
<a href="#l5.51"></a><span id="l5.51" class="difflineplus">+}</span>
<a href="#l5.52"></a><span id="l5.52" class="difflineplus">+</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineplus">+function onToolbarModePopupShowing(aEvent)</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+{</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+  var popup = aEvent.target;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+  var toolbar = document.popupNode;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+  while (toolbar.localName != &quot;toolbar&quot;)</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+    toolbar = toolbar.parentNode;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+  var toolbox = toolbar.toolbox;</span>
<a href="#l5.61"></a><span id="l5.61"> </span>
<a href="#l5.62"></a><span id="l5.62">   var mode = toolbar.getAttribute(&quot;mode&quot;) || &quot;full&quot;;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-  var modePopup = document.getElementById(&quot;toolbarmodePopup&quot;);</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+  var modePopup = document.getElementById(&quot;toolbarModePopup&quot;);</span>
<a href="#l5.65"></a><span id="l5.65">   var radio = modePopup.getElementsByAttribute(&quot;value&quot;, mode);</span>
<a href="#l5.66"></a><span id="l5.66">   radio[0].setAttribute(&quot;checked&quot;, &quot;true&quot;);</span>
<a href="#l5.67"></a><span id="l5.67"> </span>
<a href="#l5.68"></a><span id="l5.68">   var small = toolbar.getAttribute(&quot;iconsize&quot;) == &quot;small&quot;;</span>
<a href="#l5.69"></a><span id="l5.69">   var smallicons = document.getElementById(&quot;toolbarmode-smallicons&quot;);</span>
<a href="#l5.70"></a><span id="l5.70">   smallicons.setAttribute(&quot;checked&quot;, small);</span>
<a href="#l5.71"></a><span id="l5.71">   smallicons.setAttribute(&quot;disabled&quot;, mode == &quot;text&quot;);</span>
<a href="#l5.72"></a><span id="l5.72"> </span>
<a href="#l5.73"></a><span id="l5.73" class="difflineat">@@ -384,18 +398,18 @@ function onViewToolbarsPopupShowing(aEve</span>
<a href="#l5.74"></a><span id="l5.74">   var menuitem  = document.getElementById(&quot;customize_toolbars&quot;);</span>
<a href="#l5.75"></a><span id="l5.75">   menuitem.hidden = !command;</span>
<a href="#l5.76"></a><span id="l5.76">   menuitem.previousSibling.hidden = !command;</span>
<a href="#l5.77"></a><span id="l5.77"> }</span>
<a href="#l5.78"></a><span id="l5.78"> </span>
<a href="#l5.79"></a><span id="l5.79"> function onViewToolbarCommand(aEvent)</span>
<a href="#l5.80"></a><span id="l5.80"> {</span>
<a href="#l5.81"></a><span id="l5.81">   var toolbar = aEvent.originalTarget.getAttribute(&quot;toolbarid&quot;);</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineminus">-  var menuitem = document.getElementById(toolbar).getAttribute(&quot;togglemenuitem&quot;);</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineminus">-  goToggleToolbar(toolbar, menuitem);</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+  if (toolbar)</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+    goToggleToolbar(toolbar);</span>
<a href="#l5.86"></a><span id="l5.86"> }</span>
<a href="#l5.87"></a><span id="l5.87"> </span>
<a href="#l5.88"></a><span id="l5.88"> function goSetToolbarState(aEvent)</span>
<a href="#l5.89"></a><span id="l5.89"> {</span>
<a href="#l5.90"></a><span id="l5.90">   aEvent.stopPropagation();</span>
<a href="#l5.91"></a><span id="l5.91">   var toolbar = document.popupNode;</span>
<a href="#l5.92"></a><span id="l5.92">   while (toolbar.localName != &quot;toolbar&quot;)</span>
<a href="#l5.93"></a><span id="l5.93">     toolbar = toolbar.parentNode;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/common/utilityOverlay.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/common/utilityOverlay.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -76,18 +76,18 @@</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5">   &lt;menupopup id=&quot;toolbar-context-menu&quot;</span>
<a href="#l6.6"></a><span id="l6.6">          onpopupshowing=&quot;onViewToolbarsPopupShowing(event);&quot;</span>
<a href="#l6.7"></a><span id="l6.7">          oncommand=&quot;onViewToolbarCommand(event);&quot;&gt;</span>
<a href="#l6.8"></a><span id="l6.8">     &lt;menuseparator id=&quot;toolbarmode-sep&quot;/&gt;</span>
<a href="#l6.9"></a><span id="l6.9">     &lt;menu id=&quot;toolbarmode-context-menu&quot;</span>
<a href="#l6.10"></a><span id="l6.10">           label=&quot;&amp;customizeToolbar.toolbarmode.label;&quot;</span>
<a href="#l6.11"></a><span id="l6.11">           accesskey=&quot;&amp;customizeToolbar.toolbarmode.accesskey;&quot;&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-      &lt;menupopup id=&quot;toolbarmodePopup&quot;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-                 onpopupshowing=&quot;event.stopPropagation();&quot;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+      &lt;menupopup id=&quot;toolbarModePopup&quot;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+                 onpopupshowing=&quot;onToolbarModePopupShowing(event);&quot;</span>
<a href="#l6.16"></a><span id="l6.16">                  oncommand=&quot;goSetToolbarState(event);&quot;&gt;</span>
<a href="#l6.17"></a><span id="l6.17">         &lt;menuitem type=&quot;radio&quot; name=&quot;mode&quot; value=&quot;icons&quot;</span>
<a href="#l6.18"></a><span id="l6.18">                   label=&quot;&amp;customizeToolbar.icons.label;&quot;</span>
<a href="#l6.19"></a><span id="l6.19">                   accesskey=&quot;&amp;customizeToolbar.icons.accesskey;&quot;/&gt;</span>
<a href="#l6.20"></a><span id="l6.20">         &lt;menuitem type=&quot;radio&quot; name=&quot;mode&quot; value=&quot;full&quot;</span>
<a href="#l6.21"></a><span id="l6.21">                   label=&quot;&amp;customizeToolbar.iconsAndText.label;&quot;</span>
<a href="#l6.22"></a><span id="l6.22">                   accesskey=&quot;&amp;customizeToolbar.iconsAndText.accesskey;&quot;/&gt;</span>
<a href="#l6.23"></a><span id="l6.23">         &lt;menuitem type=&quot;radio&quot; name=&quot;mode&quot; value=&quot;text&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/mailnews/addrbook/addressbook.xul</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/mailnews/addrbook/addressbook.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -284,22 +284,19 @@</span>
<a href="#l7.4"></a><span id="l7.4">                       command=&quot;cmd_properties&quot;/&gt;</span>
<a href="#l7.5"></a><span id="l7.5">             &lt;menuitem id=&quot;menu_preferences&quot;</span>
<a href="#l7.6"></a><span id="l7.6">                       oncommand=&quot;goPreferences('addressing_pane')&quot;/&gt;</span>
<a href="#l7.7"></a><span id="l7.7">           &lt;/menupopup&gt;</span>
<a href="#l7.8"></a><span id="l7.8">         &lt;/menu&gt;</span>
<a href="#l7.9"></a><span id="l7.9">         &lt;menu id=&quot;menu_View&quot;&gt;</span>
<a href="#l7.10"></a><span id="l7.10">             &lt;menupopup id=&quot;menu_View_Popup&quot;&gt;</span>
<a href="#l7.11"></a><span id="l7.11">                 &lt;menu id=&quot;menu_Toolbars&quot;&gt;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-                    &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-                        &lt;menuitem id=&quot;menu_showAbToolbar&quot;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-                                  label=&quot;&amp;showAbToolbarCmd.label;&quot;</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-                                  accesskey=&quot;&amp;showAbToolbarCmd.accesskey;&quot;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-                                  oncommand=&quot;goToggleToolbar('ab-bar2', 'menu_showAbToolbar')&quot;</span>
<a href="#l7.17"></a><span id="l7.17" class="difflineminus">-                                  checked=&quot;true&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineplus">+                    &lt;menupopup id=&quot;view_toolbars_popup&quot;</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineplus">+                               onpopupshowing=&quot;onViewToolbarsPopupShowing(event)&quot;</span>
<a href="#l7.20"></a><span id="l7.20" class="difflineplus">+                               oncommand=&quot;onViewToolbarCommand(event);&quot;&gt;</span>
<a href="#l7.21"></a><span id="l7.21">                         &lt;menuitem id=&quot;menu_showTaskbar&quot;/&gt;</span>
<a href="#l7.22"></a><span id="l7.22">                         &lt;menuseparator/&gt;</span>
<a href="#l7.23"></a><span id="l7.23">                         &lt;menuitem id=&quot;menu_showCardPane&quot;</span>
<a href="#l7.24"></a><span id="l7.24">                                   label=&quot;&amp;showCardPane.label;&quot;</span>
<a href="#l7.25"></a><span id="l7.25">                                   accesskey=&quot;&amp;showCardPane.accesskey;&quot;</span>
<a href="#l7.26"></a><span id="l7.26">                                   oncommand=&quot;goToggleSplitter('results-splitter', 'menu_showCardPane')&quot;</span>
<a href="#l7.27"></a><span id="l7.27">                                   checked=&quot;true&quot; type=&quot;checkbox&quot;/&gt;</span>
<a href="#l7.28"></a><span id="l7.28">                     &lt;/menupopup&gt;</span>
<a href="#l7.29"></a><span id="l7.29" class="difflineat">@@ -415,17 +412,16 @@</span>
<a href="#l7.30"></a><span id="l7.30">   &lt;toolbar class=&quot;chromeclass-toolbar toolbar-primary&quot;</span>
<a href="#l7.31"></a><span id="l7.31">            id=&quot;ab-bar2&quot;</span>
<a href="#l7.32"></a><span id="l7.32">            persist=&quot;collapsed&quot;</span>
<a href="#l7.33"></a><span id="l7.33">            customizable=&quot;true&quot;</span>
<a href="#l7.34"></a><span id="l7.34">            grippytooltiptext=&quot;&amp;addressbookToolbar.tooltip;&quot;</span>
<a href="#l7.35"></a><span id="l7.35">            toolbarname=&quot;&amp;showAbToolbarCmd.label;&quot;</span>
<a href="#l7.36"></a><span id="l7.36">            accesskey=&quot;&amp;showAbToolbarCmd.accesskey;&quot;</span>
<a href="#l7.37"></a><span id="l7.37">            defaultset=&quot;button-newcard,button-newlist,separator,button-editcard,button-newmessage,button-newim,button-abdelete,spring,searchBox,throbber-box&quot;</span>
<a href="#l7.38"></a><span id="l7.38" class="difflineminus">-           togglemenuitem=&quot;menu_showAbToolbar&quot;</span>
<a href="#l7.39"></a><span id="l7.39">            context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l7.40"></a><span id="l7.40">     &lt;toolbarbutton id=&quot;button-newcard&quot;</span>
<a href="#l7.41"></a><span id="l7.41">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l7.42"></a><span id="l7.42">                    label=&quot;&amp;newContactButton.label;&quot;</span>
<a href="#l7.43"></a><span id="l7.43">                    tooltiptext=&quot;&amp;newContactButton.tooltip;&quot;</span>
<a href="#l7.44"></a><span id="l7.44">                    removable=&quot;true&quot;</span>
<a href="#l7.45"></a><span id="l7.45">                    oncommand=&quot;AbNewCard();&quot;/&gt;</span>
<a href="#l7.46"></a><span id="l7.46">     &lt;toolbarbutton id=&quot;button-newlist&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/mailnews/compose/messengercompose.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/mailnews/compose/messengercompose.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -134,21 +134,16 @@</span>
<a href="#l8.4"></a><span id="l8.4">   &lt;!--command id=&quot;cmd_pasteQuote&quot;/  DO NOT INCLUDE THOSE COMMANDS ELSE THE EDIT MENU WILL BE BROKEN! --&gt;</span>
<a href="#l8.5"></a><span id="l8.5">   &lt;!--command id=&quot;cmd_find&quot;/--&gt;</span>
<a href="#l8.6"></a><span id="l8.6">   &lt;!--command id=&quot;cmd_findNext&quot;/--&gt;</span>
<a href="#l8.7"></a><span id="l8.7">   &lt;command id=&quot;cmd_rewrap&quot;  oncommand=&quot;goDoCommand('cmd_rewrap')&quot;/&gt;</span>
<a href="#l8.8"></a><span id="l8.8">   &lt;command id=&quot;cmd_renameAttachment&quot; oncommand=&quot;goDoCommand('cmd_renameAttachment')&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l8.9"></a><span id="l8.9">   &lt;command id=&quot;cmd_openAttachment&quot; oncommand=&quot;goDoCommand('cmd_openAttachment')&quot;/&gt;</span>
<a href="#l8.10"></a><span id="l8.10">   &lt;command id=&quot;cmd_account&quot; oncommand=&quot;goDoCommand('cmd_account')&quot;/&gt;</span>
<a href="#l8.11"></a><span id="l8.11"> </span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-  &lt;!-- View Menu --&gt;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineminus">-  &lt;command id=&quot;cmd_viewComposeToolbar&quot;</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineminus">-           oncommand=&quot;goToggleToolbar('composeToolbar', 'cmd_viewComposeToolbar');&quot;</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-           checked=&quot;true&quot;/&gt;</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineminus">-</span>
<a href="#l8.17"></a><span id="l8.17">   &lt;!-- Options Menu --&gt;</span>
<a href="#l8.18"></a><span id="l8.18">   &lt;command id=&quot;cmd_selectAddress&quot; oncommand=&quot;goDoCommand('cmd_selectAddress')&quot;/&gt;</span>
<a href="#l8.19"></a><span id="l8.19">   &lt;command id=&quot;cmd_outputFormat&quot; oncommand=&quot;OutputFormatMenuSelect(event.target)&quot;/&gt;</span>
<a href="#l8.20"></a><span id="l8.20">   &lt;command id=&quot;cmd_quoteMessage&quot; oncommand=&quot;goDoCommand('cmd_quoteMessage')&quot;/&gt;</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22">   &lt;command id=&quot;cmd_CustomizeToolbars&quot; oncommand=&quot;goCustomizeToolbar(getMailToolbox());&quot;/&gt;</span>
<a href="#l8.23"></a><span id="l8.23"> &lt;/commandset&gt;</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25" class="difflineat">@@ -411,22 +406,19 @@</span>
<a href="#l8.26"></a><span id="l8.26">                         command=&quot;cmd_account&quot;/&gt;</span>
<a href="#l8.27"></a><span id="l8.27">               &lt;menuitem id=&quot;menu_preferences&quot;</span>
<a href="#l8.28"></a><span id="l8.28">                         oncommand=&quot;goDoCommand('cmd_preferences')&quot;/&gt;</span>
<a href="#l8.29"></a><span id="l8.29">             &lt;/menupopup&gt;</span>
<a href="#l8.30"></a><span id="l8.30">           &lt;/menu&gt;</span>
<a href="#l8.31"></a><span id="l8.31">           &lt;menu id=&quot;menu_View&quot;&gt;</span>
<a href="#l8.32"></a><span id="l8.32">             &lt;menupopup id=&quot;menu_View_Popup&quot;&gt;</span>
<a href="#l8.33"></a><span id="l8.33">               &lt;menu id=&quot;menu_Toolbars&quot;&gt;</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineminus">-                &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineminus">-                  &lt;menuitem id=&quot;menu_showComposeToolbar&quot;</span>
<a href="#l8.36"></a><span id="l8.36" class="difflineminus">-                            type=&quot;checkbox&quot;</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-                            label=&quot;&amp;showComposeToolbarCmd.label;&quot;</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineminus">-                            accesskey=&quot;&amp;showComposeToolbarCmd.accesskey;&quot;</span>
<a href="#l8.39"></a><span id="l8.39" class="difflineminus">-                            command=&quot;cmd_viewComposeToolbar&quot;/&gt;</span>
<a href="#l8.40"></a><span id="l8.40" class="difflineplus">+                &lt;menupopup id=&quot;view_toolbars_popup&quot;</span>
<a href="#l8.41"></a><span id="l8.41" class="difflineplus">+                           onpopupshowing=&quot;onViewToolbarsPopupShowing(event)&quot;</span>
<a href="#l8.42"></a><span id="l8.42" class="difflineplus">+                           oncommand=&quot;onViewToolbarCommand(event);&quot;&gt;</span>
<a href="#l8.43"></a><span id="l8.43">                   &lt;menuitem id=&quot;menu_showFormatToolbar&quot;</span>
<a href="#l8.44"></a><span id="l8.44">                             type=&quot;checkbox&quot;</span>
<a href="#l8.45"></a><span id="l8.45">                             label=&quot;&amp;showFormatToolbarCmd.label;&quot;</span>
<a href="#l8.46"></a><span id="l8.46">                             accesskey=&quot;&amp;showFormatToolbarCmd.accesskey;&quot;</span>
<a href="#l8.47"></a><span id="l8.47">                             command=&quot;cmd_viewFormatToolbar&quot;/&gt;</span>
<a href="#l8.48"></a><span id="l8.48">                   &lt;menuitem id=&quot;menu_showTaskbar&quot;/&gt;</span>
<a href="#l8.49"></a><span id="l8.49">                 &lt;/menupopup&gt;</span>
<a href="#l8.50"></a><span id="l8.50">               &lt;/menu&gt;</span>
<a href="#l8.51"></a><span id="l8.51" class="difflineat">@@ -575,17 +567,16 @@</span>
<a href="#l8.52"></a><span id="l8.52">     &lt;toolbar id=&quot;composeToolbar&quot;</span>
<a href="#l8.53"></a><span id="l8.53">              class=&quot;toolbar-primary chromeclass-toolbar&quot;</span>
<a href="#l8.54"></a><span id="l8.54">              persist=&quot;collapsed&quot;</span>
<a href="#l8.55"></a><span id="l8.55">              grippytooltiptext=&quot;&amp;mailToolbar.tooltip;&quot;</span>
<a href="#l8.56"></a><span id="l8.56">              toolbarname=&quot;&amp;showComposeToolbarCmd.label;&quot;</span>
<a href="#l8.57"></a><span id="l8.57">              accesskey=&quot;&amp;showComposeToolbarCmd.accesskey;&quot;</span>
<a href="#l8.58"></a><span id="l8.58">              customizable=&quot;true&quot;</span>
<a href="#l8.59"></a><span id="l8.59">              defaultset=&quot;button-send,separator,button-address,button-attach,spellingButton,button-security,separator,button-save,spring,throbber-box&quot;</span>
<a href="#l8.60"></a><span id="l8.60" class="difflineminus">-             togglemenuitem=&quot;cmd_viewComposeToolbar&quot;</span>
<a href="#l8.61"></a><span id="l8.61">              context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l8.62"></a><span id="l8.62">     &lt;/toolbar&gt;</span>
<a href="#l8.63"></a><span id="l8.63"> </span>
<a href="#l8.64"></a><span id="l8.64">     &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l8.65"></a><span id="l8.65"> </span>
<a href="#l8.66"></a><span id="l8.66">     &lt;toolbar id=&quot;MsgHeadersToolbar&quot;</span>
<a href="#l8.67"></a><span id="l8.67">              persist=&quot;collapsed&quot;</span>
<a href="#l8.68"></a><span id="l8.68">              flex=&quot;1&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/mailnews/mailWindowOverlay.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/mailnews/mailWindowOverlay.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -1147,30 +1147,19 @@</span>
<a href="#l9.4"></a><span id="l9.4">                 oncommand=&quot;MsgAccountManager(null);&quot;/&gt;</span>
<a href="#l9.5"></a><span id="l9.5">       &lt;menuitem id=&quot;menu_preferences&quot; oncommand=&quot;goPreferences('mailnews_pane')&quot;/&gt;</span>
<a href="#l9.6"></a><span id="l9.6">     &lt;/menupopup&gt;</span>
<a href="#l9.7"></a><span id="l9.7">   &lt;/menu&gt;</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9">   &lt;menu id=&quot;menu_View&quot;&gt;</span>
<a href="#l9.10"></a><span id="l9.10">     &lt;menupopup id=&quot;menu_View_Popup&quot; onpopupshowing=&quot;view_init()&quot;&gt;</span>
<a href="#l9.11"></a><span id="l9.11">       &lt;menu id=&quot;menu_Toolbars&quot;&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-        &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineminus">-          &lt;menuitem id=&quot;menu_showMessengerToolbar&quot;</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineminus">-                    type=&quot;checkbox&quot;</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineminus">-                    checked=&quot;true&quot;</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineminus">-                    label=&quot;&amp;showMessengerToolbarCmd.label;&quot;</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineminus">-                    accesskey=&quot;&amp;showMessengerToolbarCmd.accesskey;&quot;</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineminus">-                    oncommand=&quot;goToggleToolbar('msgToolbar', 'menu_showMessengerToolbar');&quot;/&gt;</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineminus">-          &lt;menuitem id=&quot;menu_showSearchToolbar&quot;</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineminus">-                    type=&quot;checkbox&quot;</span>
<a href="#l9.21"></a><span id="l9.21" class="difflineminus">-                    checked=&quot;true&quot;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineminus">-                    label=&quot;&amp;showSearchToolbarCmd.label;&quot;</span>
<a href="#l9.23"></a><span id="l9.23" class="difflineminus">-                    accesskey=&quot;&amp;showSearchToolbarCmd.accesskey;&quot;</span>
<a href="#l9.24"></a><span id="l9.24" class="difflineminus">-                    observes=&quot;mailHideMenus&quot;</span>
<a href="#l9.25"></a><span id="l9.25" class="difflineminus">-                    oncommand=&quot;goToggleToolbar('searchToolbar', 'menu_showSearchToolbar');&quot;/&gt;</span>
<a href="#l9.26"></a><span id="l9.26" class="difflineplus">+        &lt;menupopup id=&quot;view_toolbars_popup&quot;</span>
<a href="#l9.27"></a><span id="l9.27" class="difflineplus">+                   onpopupshowing=&quot;onViewToolbarsPopupShowing(event)&quot;</span>
<a href="#l9.28"></a><span id="l9.28" class="difflineplus">+                   oncommand=&quot;onViewToolbarCommand(event);&quot;&gt;</span>
<a href="#l9.29"></a><span id="l9.29">           &lt;menuitem id=&quot;menu_showTaskbar&quot;/&gt;</span>
<a href="#l9.30"></a><span id="l9.30">         &lt;/menupopup&gt;</span>
<a href="#l9.31"></a><span id="l9.31">       &lt;/menu&gt;</span>
<a href="#l9.32"></a><span id="l9.32">       &lt;menu id=&quot;menu_MessagePaneLayout&quot; label=&quot;&amp;messagePaneLayoutStyle.label;&quot;</span>
<a href="#l9.33"></a><span id="l9.33">             accesskey=&quot;&amp;messagePaneLayoutStyle.accesskey;&quot; observes=&quot;mailHideMenus&quot;&gt;</span>
<a href="#l9.34"></a><span id="l9.34">         &lt;menupopup id=&quot;view_layout_popup&quot; onpopupshowing=&quot;InitViewLayoutStyleMenu(event)&quot;&gt;</span>
<a href="#l9.35"></a><span id="l9.35">           &lt;menuitem id=&quot;messagePaneClassic&quot; type=&quot;radio&quot; label=&quot;&amp;messagePaneClassic.label;&quot; name=&quot;viewlayoutgroup&quot;</span>
<a href="#l9.36"></a><span id="l9.36">                     accesskey=&quot;&amp;messagePaneClassic.accesskey;&quot; oncommand=&quot;ChangeMailLayout(kClassicMailLayout);&quot;/&gt;</span>
<a href="#l9.37"></a><span id="l9.37" class="difflineat">@@ -1932,17 +1921,16 @@</span>
<a href="#l9.38"></a><span id="l9.38">   &lt;toolbar class=&quot;toolbar-primary chromeclass-toolbar&quot;</span>
<a href="#l9.39"></a><span id="l9.39">            id=&quot;msgToolbar&quot;</span>
<a href="#l9.40"></a><span id="l9.40">            persist=&quot;collapsed&quot;</span>
<a href="#l9.41"></a><span id="l9.41">            grippytooltiptext=&quot;&amp;mailToolbar.tooltip;&quot;</span>
<a href="#l9.42"></a><span id="l9.42">            toolbarname=&quot;&amp;showMessengerToolbarCmd.label;&quot;</span>
<a href="#l9.43"></a><span id="l9.43">            accesskey=&quot;&amp;showMessengerToolbarCmd.accesskey;&quot;</span>
<a href="#l9.44"></a><span id="l9.44">            customizable=&quot;true&quot;</span>
<a href="#l9.45"></a><span id="l9.45">            defaultset=&quot;button-getmsg,button-newmsg,separator,button-reply,button-replyall,button-forward,separator,button-goback,button-goforward,button-next,button-junk,button-delete,button-mark,spring,throbber-box&quot;</span>
<a href="#l9.46"></a><span id="l9.46" class="difflineminus">-           togglemenuitem=&quot;menu_showMessengerToolbar&quot;</span>
<a href="#l9.47"></a><span id="l9.47">            context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l9.48"></a><span id="l9.48">   &lt;/toolbar&gt;</span>
<a href="#l9.49"></a><span id="l9.49">   &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l9.50"></a><span id="l9.50"> </span>
<a href="#l9.51"></a><span id="l9.51">   &lt;toolbarpalette id=&quot;MailToolbarPalette&quot;&gt;</span>
<a href="#l9.52"></a><span id="l9.52">     &lt;toolbarbutton id=&quot;button-getmsg&quot;</span>
<a href="#l9.53"></a><span id="l9.53">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l9.54"></a><span id="l9.54">                    type=&quot;menu-button&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/mailnews/messenger.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/mailnews/messenger.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -163,17 +163,16 @@</span>
<a href="#l10.4"></a><span id="l10.4">              nowindowdrag=&quot;true&quot;</span>
<a href="#l10.5"></a><span id="l10.5">              mode=&quot;full&quot;</span>
<a href="#l10.6"></a><span id="l10.6">              iconsize=&quot;small&quot;</span>
<a href="#l10.7"></a><span id="l10.7">              labelalign=&quot;end&quot;</span>
<a href="#l10.8"></a><span id="l10.8">              defaultmode=&quot;full&quot;</span>
<a href="#l10.9"></a><span id="l10.9">              defaulticonsize=&quot;small&quot;</span>
<a href="#l10.10"></a><span id="l10.10">              defaultlabelalign=&quot;end&quot;</span>
<a href="#l10.11"></a><span id="l10.11">              defaultset=&quot;mailviews-container,spring,search-container,button-search-container&quot;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-             togglemenuitem=&quot;menu_showSearchToolbar&quot;</span>
<a href="#l10.13"></a><span id="l10.13">              context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l10.14"></a><span id="l10.14">   &lt;/toolbox&gt;</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16">   &lt;!-- XXX This extension point (tabmail-container) is only temporary!</span>
<a href="#l10.17"></a><span id="l10.17">            (See bug 460252 for details.)</span>
<a href="#l10.18"></a><span id="l10.18">            We will readd a mechanism for sidebar panes in bug 178003.</span>
<a href="#l10.19"></a><span id="l10.19">     --&gt;</span>
<a href="#l10.20"></a><span id="l10.20">   &lt;hbox id=&quot;tabmail-container&quot; flex=&quot;1&quot;&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

