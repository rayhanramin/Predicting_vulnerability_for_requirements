<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/4b0de666d1a4/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/4b0de666d1a4/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/4b0de666d1a4/mercurial.js"></script>

<meta property="og:image" content="/static/4b0de666d1a4/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 29720:ad9902d060b0ab0a74854ca24ef3571ea4077470</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ ad9902d060b0ab0a74854ca24ef3571ea4077470" />
<meta property="og:url" content="/comm-central/rev/ad9902d060b0ab0a74854ca24ef3571ea4077470" />
<meta property="og:description" content="Bug 378224 - Implement optional Return Receipt button for Composition Toolbar. ui-r=aleca, r=darktrojan" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/4b0de666d1a4/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / ad9902d060b0ab0a74854ca24ef3571ea4077470 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/ad9902d060b0ab0a74854ca24ef3571ea4077470">shortlog</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/ad9902d060b0ab0a74854ca24ef3571ea4077470">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470">files</a> |
changeset |
<a href="/comm-central/raw-rev/ad9902d060b0ab0a74854ca24ef3571ea4077470">raw</a>  | <a href="/comm-central/archive/ad9902d060b0ab0a74854ca24ef3571ea4077470.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=378224">Bug 378224</a> - Implement optional Return Receipt button for Composition Toolbar. ui-r=aleca, r=darktrojan
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#84;&#104;&#111;&#109;&#97;&#115;&#32;&#68;&#117;&#101;&#108;&#108;&#109;&#97;&#110;&#110;&#32;&#60;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#50;&#48;&#48;&#55;&#64;&#100;&#117;&#101;&#108;&#108;&#109;&#97;&#110;&#110;&#50;&#52;&#46;&#110;&#101;&#116;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 31 May 2020 20:43:39 +0300</td></tr>

<tr>
 <td>changeset 29720</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/ad9902d060b0ab0a74854ca24ef3571ea4077470">ad9902d060b0ab0a74854ca24ef3571ea4077470</a></td>
</tr>



<tr>
<td>parent 29719</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/41e929c17e1b7074022c82f1c3616689961eaed7">41e929c17e1b7074022c82f1c3616689961eaed7</a>
</td>
</tr>

<tr>
<td>child 29721</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd">9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=ad9902d060b0ab0a74854ca24ef3571ea4077470">17499</a></td></tr>
<tr><td>push user</td><td>mkmelin@iki.fi</td></tr>
<tr><td>push date</td><td class="date age">Sun, 31 May 2020 17:48:51 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@9f4a9f7ce106 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd&newProject=comm-central&newRevision=894c67ced89cc5c864d24eba23a6c4cc6f60fbc4&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd&newProject=comm-central&newRevision=894c67ced89cc5c864d24eba23a6c4cc6f60fbc4&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=9f4a9f7ce10651f40e6788c3c1d648f4fb99d9dd&newProject=comm-central&newRevision=894c67ced89cc5c864d24eba23a6c4cc6f60fbc4&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28aleca%29&revcount=50">aleca</a>, <a href="/comm-central/log?rev=reviewer%28darktrojan%29&revcount=50">darktrojan</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=378224">378224</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=378224">Bug 378224</a> - Implement optional Return Receipt button for Composition Toolbar. ui-r=aleca, r=darktrojan</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/MsgComposeCommands.js">mail/components/compose/content/MsgComposeCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/MsgComposeCommands.js">file</a> |
<a href="/comm-central/annotate/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/MsgComposeCommands.js">annotate</a> |
<a href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/MsgComposeCommands.js">diff</a> |
<a href="/comm-central/comparison/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/MsgComposeCommands.js">comparison</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/MsgComposeCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/messengercompose.xhtml">mail/components/compose/content/messengercompose.xhtml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/messengercompose.xhtml">file</a> |
<a href="/comm-central/annotate/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/messengercompose.xhtml">annotate</a> |
<a href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/messengercompose.xhtml">diff</a> |
<a href="/comm-central/comparison/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/messengercompose.xhtml">comparison</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/components/compose/content/messengercompose.xhtml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl">mail/locales/en-US/messenger/messengercompose/messengercompose.ftl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl">file</a> |
<a href="/comm-central/annotate/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl">annotate</a> |
<a href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl">diff</a> |
<a href="/comm-central/comparison/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl">comparison</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/jar.inc.mn">mail/themes/shared/jar.inc.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/jar.inc.mn">file</a> |
<a href="/comm-central/annotate/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/jar.inc.mn">annotate</a> |
<a href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/jar.inc.mn">diff</a> |
<a href="/comm-central/comparison/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/jar.inc.mn">comparison</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/jar.inc.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/icons/return-receipt.svg">mail/themes/shared/mail/icons/return-receipt.svg</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/icons/return-receipt.svg">file</a> |
<a href="/comm-central/annotate/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/icons/return-receipt.svg">annotate</a> |
<a href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/icons/return-receipt.svg">diff</a> |
<a href="/comm-central/comparison/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/icons/return-receipt.svg">comparison</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/icons/return-receipt.svg">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/messengercompose.css">mail/themes/shared/mail/messengercompose.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/messengercompose.css">file</a> |
<a href="/comm-central/annotate/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/messengercompose.css">annotate</a> |
<a href="/comm-central/diff/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/messengercompose.css">diff</a> |
<a href="/comm-central/comparison/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/messengercompose.css">comparison</a> |
<a href="/comm-central/log/ad9902d060b0ab0a74854ca24ef3571ea4077470/mail/themes/shared/mail/messengercompose.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/components/compose/content/MsgComposeCommands.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1051,16 +1051,35 @@ var defaultController = {</span>
<a href="#l1.4"></a><span id="l1.4">         let selectedURIs = GetSelectedMessages();</span>
<a href="#l1.5"></a><span id="l1.5">         return selectedURIs &amp;&amp; selectedURIs.length &gt; 0;</span>
<a href="#l1.6"></a><span id="l1.6">       },</span>
<a href="#l1.7"></a><span id="l1.7">       doCommand() {</span>
<a href="#l1.8"></a><span id="l1.8">         QuoteSelectedMessage();</span>
<a href="#l1.9"></a><span id="l1.9">       },</span>
<a href="#l1.10"></a><span id="l1.10">     },</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    cmd_toggleReturnReceipt: {</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+      isEnabled() {</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+        let cmdToggleReturnReceipt = document.getElementById(</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+          &quot;cmd_toggleReturnReceipt&quot;</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+        );</span>
<a href="#l1.17"></a><span id="l1.17" class="difflineplus">+        let msgCompFields = gMsgCompose.compFields;</span>
<a href="#l1.18"></a><span id="l1.18" class="difflineplus">+        // Update checkmarks on all UI elements associated with the command.</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineplus">+        cmdToggleReturnReceipt.setAttribute(</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+          &quot;checked&quot;,</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineplus">+          msgCompFields.returnReceipt</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineplus">+        );</span>
<a href="#l1.23"></a><span id="l1.23" class="difflineplus">+</span>
<a href="#l1.24"></a><span id="l1.24" class="difflineplus">+        return !gWindowLocked;</span>
<a href="#l1.25"></a><span id="l1.25" class="difflineplus">+      },</span>
<a href="#l1.26"></a><span id="l1.26" class="difflineplus">+      doCommand() {</span>
<a href="#l1.27"></a><span id="l1.27" class="difflineplus">+        ToggleReturnReceipt();</span>
<a href="#l1.28"></a><span id="l1.28" class="difflineplus">+      },</span>
<a href="#l1.29"></a><span id="l1.29" class="difflineplus">+    },</span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+</span>
<a href="#l1.31"></a><span id="l1.31">     cmd_fullZoomReduce: {</span>
<a href="#l1.32"></a><span id="l1.32">       isEnabled() {</span>
<a href="#l1.33"></a><span id="l1.33">         return true;</span>
<a href="#l1.34"></a><span id="l1.34">       },</span>
<a href="#l1.35"></a><span id="l1.35">       doCommand() {</span>
<a href="#l1.36"></a><span id="l1.36">         ZoomManager.reduce();</span>
<a href="#l1.37"></a><span id="l1.37">       },</span>
<a href="#l1.38"></a><span id="l1.38">     },</span>
<a href="#l1.39"></a><span id="l1.39" class="difflineat">@@ -1542,16 +1561,17 @@ function updateComposeItems() {</span>
<a href="#l1.40"></a><span id="l1.40">       goUpdateCommand(&quot;cmd_smiley&quot;);</span>
<a href="#l1.41"></a><span id="l1.41">     }</span>
<a href="#l1.42"></a><span id="l1.42"> </span>
<a href="#l1.43"></a><span id="l1.43">     // Options Menu</span>
<a href="#l1.44"></a><span id="l1.44">     goUpdateCommand(&quot;cmd_spelling&quot;);</span>
<a href="#l1.45"></a><span id="l1.45"> </span>
<a href="#l1.46"></a><span id="l1.46">     // Workaround to update 'Quote' toolbar button. (See bug 609926.)</span>
<a href="#l1.47"></a><span id="l1.47">     goUpdateCommand(&quot;cmd_quoteMessage&quot;);</span>
<a href="#l1.48"></a><span id="l1.48" class="difflineplus">+    goUpdateCommand(&quot;cmd_toggleReturnReceipt&quot;);</span>
<a href="#l1.49"></a><span id="l1.49">   } catch (e) {}</span>
<a href="#l1.50"></a><span id="l1.50"> }</span>
<a href="#l1.51"></a><span id="l1.51"> </span>
<a href="#l1.52"></a><span id="l1.52"> /**</span>
<a href="#l1.53"></a><span id="l1.53">  * Disables or restores all toolbar items (menus/buttons) in the window.</span>
<a href="#l1.54"></a><span id="l1.54">  *</span>
<a href="#l1.55"></a><span id="l1.55">  * @param aDisable  true = disable all items. false = restore items to the state</span>
<a href="#l1.56"></a><span id="l1.56">  *                  stored before disabling them.</span>
<a href="#l1.57"></a><span id="l1.57" class="difflineat">@@ -1862,16 +1882,21 @@ function updateEditItems() {</span>
<a href="#l1.58"></a><span id="l1.58">   goUpdateCommand(&quot;cmd_findNext&quot;);</span>
<a href="#l1.59"></a><span id="l1.59">   goUpdateCommand(&quot;cmd_findPrev&quot;);</span>
<a href="#l1.60"></a><span id="l1.60"> }</span>
<a href="#l1.61"></a><span id="l1.61"> </span>
<a href="#l1.62"></a><span id="l1.62"> function updateViewItems() {</span>
<a href="#l1.63"></a><span id="l1.63">   goUpdateCommand(&quot;cmd_toggleAttachmentPane&quot;);</span>
<a href="#l1.64"></a><span id="l1.64"> }</span>
<a href="#l1.65"></a><span id="l1.65"> </span>
<a href="#l1.66"></a><span id="l1.66" class="difflineplus">+function updateOptionItems() {</span>
<a href="#l1.67"></a><span id="l1.67" class="difflineplus">+  goUpdateCommand(&quot;cmd_quoteMessage&quot;);</span>
<a href="#l1.68"></a><span id="l1.68" class="difflineplus">+  goUpdateCommand(&quot;cmd_toggleReturnReceipt&quot;);</span>
<a href="#l1.69"></a><span id="l1.69" class="difflineplus">+}</span>
<a href="#l1.70"></a><span id="l1.70" class="difflineplus">+</span>
<a href="#l1.71"></a><span id="l1.71"> function updateAttachmentItems() {</span>
<a href="#l1.72"></a><span id="l1.72">   goUpdateCommand(&quot;cmd_toggleAttachmentPane&quot;);</span>
<a href="#l1.73"></a><span id="l1.73">   goUpdateCommand(&quot;cmd_attachCloud&quot;);</span>
<a href="#l1.74"></a><span id="l1.74">   goUpdateCommand(&quot;cmd_convertCloud&quot;);</span>
<a href="#l1.75"></a><span id="l1.75">   goUpdateCommand(&quot;cmd_convertAttachment&quot;);</span>
<a href="#l1.76"></a><span id="l1.76">   goUpdateCommand(&quot;cmd_cancelUpload&quot;);</span>
<a href="#l1.77"></a><span id="l1.77">   goUpdateCommand(&quot;cmd_delete&quot;);</span>
<a href="#l1.78"></a><span id="l1.78">   goUpdateCommand(&quot;cmd_removeAllAttachments&quot;);</span>
<a href="#l1.79"></a><span id="l1.79" class="difflineat">@@ -2431,20 +2456,16 @@ function convertToRegularAttachment(aAtt</span>
<a href="#l1.80"></a><span id="l1.80">     if (item) {</span>
<a href="#l1.81"></a><span id="l1.81">       items.push(item);</span>
<a href="#l1.82"></a><span id="l1.82">     }</span>
<a href="#l1.83"></a><span id="l1.83">   }</span>
<a href="#l1.84"></a><span id="l1.84"> </span>
<a href="#l1.85"></a><span id="l1.85">   convertListItemsToRegularAttachment(items);</span>
<a href="#l1.86"></a><span id="l1.86"> }</span>
<a href="#l1.87"></a><span id="l1.87"> </span>
<a href="#l1.88"></a><span id="l1.88" class="difflineminus">-function updateOptionItems() {</span>
<a href="#l1.89"></a><span id="l1.89" class="difflineminus">-  goUpdateCommand(&quot;cmd_quoteMessage&quot;);</span>
<a href="#l1.90"></a><span id="l1.90" class="difflineminus">-}</span>
<a href="#l1.91"></a><span id="l1.91" class="difflineminus">-</span>
<a href="#l1.92"></a><span id="l1.92"> /* messageComposeOfflineQuitObserver is notified whenever the network</span>
<a href="#l1.93"></a><span id="l1.93">  * connection status has switched to offline, or when the application</span>
<a href="#l1.94"></a><span id="l1.94">  * has received a request to quit.</span>
<a href="#l1.95"></a><span id="l1.95">  */</span>
<a href="#l1.96"></a><span id="l1.96"> var messageComposeOfflineQuitObserver = {</span>
<a href="#l1.97"></a><span id="l1.97">   observe(aSubject, aTopic, aData) {</span>
<a href="#l1.98"></a><span id="l1.98">     // sanity checks</span>
<a href="#l1.99"></a><span id="l1.99">     if (aTopic == &quot;network:offline-status-changed&quot;) {</span>
<a href="#l1.100"></a><span id="l1.100" class="difflineat">@@ -4230,19 +4251,19 @@ function SetComposeDetails(newValues) {</span>
<a href="#l1.101"></a><span id="l1.101">  * Handles message sending operations.</span>
<a href="#l1.102"></a><span id="l1.102">  *</span>
<a href="#l1.103"></a><span id="l1.103">  * @param {nsIMsgCompDeliverMode} mode - The delivery mode of the operation.</span>
<a href="#l1.104"></a><span id="l1.104">  */</span>
<a href="#l1.105"></a><span id="l1.105"> function GenericSendMessage(msgType) {</span>
<a href="#l1.106"></a><span id="l1.106">   let msgCompFields = GetComposeDetails();</span>
<a href="#l1.107"></a><span id="l1.107">   let subject = msgCompFields.subject;</span>
<a href="#l1.108"></a><span id="l1.108"> </span>
<a href="#l1.109"></a><span id="l1.109" class="difflineminus">-  // Some other msgCompFields have already been updated instantly in their respective</span>
<a href="#l1.110"></a><span id="l1.110" class="difflineminus">-  // toggle functions, e.g. ToggleReturnReceipt(), ToggleDSN(),  ToggleAttachVCard(),</span>
<a href="#l1.111"></a><span id="l1.111" class="difflineminus">-  // and toggleAttachmentReminder().</span>
<a href="#l1.112"></a><span id="l1.112" class="difflineplus">+  // Some other msgCompFields have already been updated instantly in their</span>
<a href="#l1.113"></a><span id="l1.113" class="difflineplus">+  // respective toggle functions, e.g. ToggleReturnReceipt(), ToggleDSN(),</span>
<a href="#l1.114"></a><span id="l1.114" class="difflineplus">+  // ToggleAttachVCard(), and toggleAttachmentReminder().</span>
<a href="#l1.115"></a><span id="l1.115"> </span>
<a href="#l1.116"></a><span id="l1.116">   let sending =</span>
<a href="#l1.117"></a><span id="l1.117">     msgType == Ci.nsIMsgCompDeliverMode.Now ||</span>
<a href="#l1.118"></a><span id="l1.118">     msgType == Ci.nsIMsgCompDeliverMode.Later ||</span>
<a href="#l1.119"></a><span id="l1.119">     msgType == Ci.nsIMsgCompDeliverMode.Background;</span>
<a href="#l1.120"></a><span id="l1.120">   if (sending) {</span>
<a href="#l1.121"></a><span id="l1.121">     expandRecipients();</span>
<a href="#l1.122"></a><span id="l1.122">     // Check if e-mail addresses are complete, in case user turned off</span>
<a href="#l1.123"></a><span id="l1.123" class="difflineat">@@ -5238,27 +5259,30 @@ function updateEncodingInStatusBar() {</span>
<a href="#l1.124"></a><span id="l1.124">   if (!encodingStatusPanel) {</span>
<a href="#l1.125"></a><span id="l1.125">     return;</span>
<a href="#l1.126"></a><span id="l1.126">   }</span>
<a href="#l1.127"></a><span id="l1.127"> </span>
<a href="#l1.128"></a><span id="l1.128">   // Update status display; no status display for default text encoding.</span>
<a href="#l1.129"></a><span id="l1.129">   encodingStatusPanel.collapsed = !(encodingStatusPanel.value = encodingUIString);</span>
<a href="#l1.130"></a><span id="l1.130"> }</span>
<a href="#l1.131"></a><span id="l1.131"> </span>
<a href="#l1.132"></a><span id="l1.132" class="difflineminus">-function ToggleReturnReceipt(target) {</span>
<a href="#l1.133"></a><span id="l1.133" class="difflineminus">-  var msgCompFields = gMsgCompose.compFields;</span>
<a href="#l1.134"></a><span id="l1.134" class="difflineplus">+/**</span>
<a href="#l1.135"></a><span id="l1.135" class="difflineplus">+ * Toggle Return Receipt (Disposition-Notification-To: header).</span>
<a href="#l1.136"></a><span id="l1.136" class="difflineplus">+ */</span>
<a href="#l1.137"></a><span id="l1.137" class="difflineplus">+function ToggleReturnReceipt() {</span>
<a href="#l1.138"></a><span id="l1.138" class="difflineplus">+  let msgCompFields = gMsgCompose.compFields;</span>
<a href="#l1.139"></a><span id="l1.139">   if (msgCompFields) {</span>
<a href="#l1.140"></a><span id="l1.140">     msgCompFields.returnReceipt = !msgCompFields.returnReceipt;</span>
<a href="#l1.141"></a><span id="l1.141" class="difflineminus">-    target.setAttribute(&quot;checked&quot;, msgCompFields.returnReceipt);</span>
<a href="#l1.142"></a><span id="l1.142" class="difflineplus">+    goUpdateCommand(&quot;cmd_toggleReturnReceipt&quot;);</span>
<a href="#l1.143"></a><span id="l1.143">     gReceiptOptionChanged = true;</span>
<a href="#l1.144"></a><span id="l1.144">   }</span>
<a href="#l1.145"></a><span id="l1.145"> }</span>
<a href="#l1.146"></a><span id="l1.146"> </span>
<a href="#l1.147"></a><span id="l1.147"> function ToggleDSN(target) {</span>
<a href="#l1.148"></a><span id="l1.148" class="difflineminus">-  var msgCompFields = gMsgCompose.compFields;</span>
<a href="#l1.149"></a><span id="l1.149" class="difflineplus">+  let msgCompFields = gMsgCompose.compFields;</span>
<a href="#l1.150"></a><span id="l1.150">   if (msgCompFields) {</span>
<a href="#l1.151"></a><span id="l1.151">     msgCompFields.DSN = !msgCompFields.DSN;</span>
<a href="#l1.152"></a><span id="l1.152">     target.setAttribute(&quot;checked&quot;, msgCompFields.DSN);</span>
<a href="#l1.153"></a><span id="l1.153">     gDSNOptionChanged = true;</span>
<a href="#l1.154"></a><span id="l1.154">   }</span>
<a href="#l1.155"></a><span id="l1.155"> }</span>
<a href="#l1.156"></a><span id="l1.156"> </span>
<a href="#l1.157"></a><span id="l1.157"> function ToggleAttachVCard(target) {</span>
<a href="#l1.158"></a><span id="l1.158" class="difflineat">@@ -5474,17 +5498,23 @@ function ComposeCanClose() {</span>
<a href="#l1.159"></a><span id="l1.159">     if (result == 1) {</span>
<a href="#l1.160"></a><span id="l1.160">       gMsgCompose.abort();</span>
<a href="#l1.161"></a><span id="l1.161">       return true;</span>
<a href="#l1.162"></a><span id="l1.162">     }</span>
<a href="#l1.163"></a><span id="l1.163">     return false;</span>
<a href="#l1.164"></a><span id="l1.164">   }</span>
<a href="#l1.165"></a><span id="l1.165"> </span>
<a href="#l1.166"></a><span id="l1.166">   // Returns FALSE only if user cancels save action</span>
<a href="#l1.167"></a><span id="l1.167" class="difflineminus">-  if (gContentChanged || gMsgCompose.bodyModified || gAutoSaveKickedIn) {</span>
<a href="#l1.168"></a><span id="l1.168" class="difflineplus">+  if (</span>
<a href="#l1.169"></a><span id="l1.169" class="difflineplus">+    gContentChanged ||</span>
<a href="#l1.170"></a><span id="l1.170" class="difflineplus">+    gMsgCompose.bodyModified ||</span>
<a href="#l1.171"></a><span id="l1.171" class="difflineplus">+    gAutoSaveKickedIn ||</span>
<a href="#l1.172"></a><span id="l1.172" class="difflineplus">+    gReceiptOptionChanged ||</span>
<a href="#l1.173"></a><span id="l1.173" class="difflineplus">+    gDSNOptionChanged</span>
<a href="#l1.174"></a><span id="l1.174" class="difflineplus">+  ) {</span>
<a href="#l1.175"></a><span id="l1.175">     // call window.focus, since we need to pop up a dialog</span>
<a href="#l1.176"></a><span id="l1.176">     // and therefore need to be visible (to prevent user confusion)</span>
<a href="#l1.177"></a><span id="l1.177">     window.focus();</span>
<a href="#l1.178"></a><span id="l1.178">     let draftFolderURI = gCurrentIdentity.draftFolder;</span>
<a href="#l1.179"></a><span id="l1.179">     let draftFolderName = MailUtils.getOrCreateFolder(draftFolderURI)</span>
<a href="#l1.180"></a><span id="l1.180">       .prettyName;</span>
<a href="#l1.181"></a><span id="l1.181">     let result = Services.prompt.confirmEx(</span>
<a href="#l1.182"></a><span id="l1.182">       window,</span>
<a href="#l1.183"></a><span id="l1.183" class="difflineat">@@ -6926,19 +6956,17 @@ function LoadIdentity(startup) {</span>
<a href="#l1.184"></a><span id="l1.184">       Recipients2CompFields(msgCompFields);</span>
<a href="#l1.185"></a><span id="l1.185"> </span>
<a href="#l1.186"></a><span id="l1.186">       if (</span>
<a href="#l1.187"></a><span id="l1.187">         !gReceiptOptionChanged &amp;&amp;</span>
<a href="#l1.188"></a><span id="l1.188">         prevReceipt == msgCompFields.returnReceipt &amp;&amp;</span>
<a href="#l1.189"></a><span id="l1.189">         prevReceipt != newReceipt</span>
<a href="#l1.190"></a><span id="l1.190">       ) {</span>
<a href="#l1.191"></a><span id="l1.191">         msgCompFields.returnReceipt = newReceipt;</span>
<a href="#l1.192"></a><span id="l1.192" class="difflineminus">-        document</span>
<a href="#l1.193"></a><span id="l1.193" class="difflineminus">-          .getElementById(&quot;returnReceiptMenu&quot;)</span>
<a href="#l1.194"></a><span id="l1.194" class="difflineminus">-          .setAttribute(&quot;checked&quot;, msgCompFields.returnReceipt);</span>
<a href="#l1.195"></a><span id="l1.195" class="difflineplus">+        goUpdateCommand(&quot;cmd_toggleReturnReceipt&quot;);</span>
<a href="#l1.196"></a><span id="l1.196">       }</span>
<a href="#l1.197"></a><span id="l1.197"> </span>
<a href="#l1.198"></a><span id="l1.198">       if (</span>
<a href="#l1.199"></a><span id="l1.199">         !gDSNOptionChanged &amp;&amp;</span>
<a href="#l1.200"></a><span id="l1.200">         prevDSN == msgCompFields.DSN &amp;&amp;</span>
<a href="#l1.201"></a><span id="l1.201">         prevDSN != newDSN</span>
<a href="#l1.202"></a><span id="l1.202">       ) {</span>
<a href="#l1.203"></a><span id="l1.203">         msgCompFields.DSN = newDSN;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/components/compose/content/messengercompose.xhtml</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/components/compose/content/messengercompose.xhtml</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -347,16 +347,18 @@</span>
<a href="#l2.4"></a><span id="l2.4">     &lt;command id=&quot;cmd_fullZoomReset&quot;</span>
<a href="#l2.5"></a><span id="l2.5">              oncommand=&quot;goDoCommand('cmd_fullZoomReset');&quot;/&gt;</span>
<a href="#l2.6"></a><span id="l2.6">     &lt;command id=&quot;cmd_fullZoomToggle&quot;</span>
<a href="#l2.7"></a><span id="l2.7">              oncommand=&quot;goDoCommand('cmd_fullZoomToggle');&quot;/&gt;</span>
<a href="#l2.8"></a><span id="l2.8">   &lt;/commandset&gt;</span>
<a href="#l2.9"></a><span id="l2.9"> </span>
<a href="#l2.10"></a><span id="l2.10">   &lt;!-- Options Menu --&gt;</span>
<a href="#l2.11"></a><span id="l2.11">   &lt;command id=&quot;cmd_quoteMessage&quot; oncommand=&quot;goDoCommand('cmd_quoteMessage')&quot;/&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+  &lt;command id=&quot;cmd_toggleReturnReceipt&quot;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+           oncommand=&quot;goDoCommand('cmd_toggleReturnReceipt')&quot;/&gt;</span>
<a href="#l2.14"></a><span id="l2.14">   &lt;command id=&quot;cmd_insert&quot;/&gt;</span>
<a href="#l2.15"></a><span id="l2.15">   &lt;command id=&quot;cmd_viewSecurityStatus&quot;</span>
<a href="#l2.16"></a><span id="l2.16">            oncommand=&quot;showMessageComposeSecurityStatus();&quot;/&gt;</span>
<a href="#l2.17"></a><span id="l2.17"> </span>
<a href="#l2.18"></a><span id="l2.18"> #ifdef XP_MACOSX</span>
<a href="#l2.19"></a><span id="l2.19">   &lt;!-- Mac Window menu --&gt;</span>
<a href="#l2.20"></a><span id="l2.20">   &lt;command id=&quot;minimizeWindow&quot; label=&quot;&amp;minimizeWindow.label;&quot; oncommand=&quot;window.minimize();&quot;/&gt;</span>
<a href="#l2.21"></a><span id="l2.21">   &lt;command id=&quot;zoomWindow&quot; label=&quot;&amp;zoomWindow.label;&quot; oncommand=&quot;zoomWindow();&quot;/&gt;</span>
<a href="#l2.22"></a><span id="l2.22" class="difflineat">@@ -1697,17 +1699,21 @@</span>
<a href="#l2.23"></a><span id="l2.23">           &lt;menuitem label=&quot;&amp;enableInlineSpellChecker.label;&quot; id=&quot;menu_inlineSpellCheck&quot;</span>
<a href="#l2.24"></a><span id="l2.24">                     accesskey=&quot;&amp;enableInlineSpellChecker.accesskey;&quot; checked=&quot;false&quot;</span>
<a href="#l2.25"></a><span id="l2.25">                     type=&quot;checkbox&quot;</span>
<a href="#l2.26"></a><span id="l2.26">                     oncommand=&quot;enableInlineSpellCheck(!gSpellChecker.enabled);&quot;/&gt;</span>
<a href="#l2.27"></a><span id="l2.27">           &lt;menuitem label=&quot;&amp;quoteCmd.label;&quot;</span>
<a href="#l2.28"></a><span id="l2.28">                     accesskey=&quot;&amp;quoteCmd.accesskey;&quot;</span>
<a href="#l2.29"></a><span id="l2.29">                     command=&quot;cmd_quoteMessage&quot;/&gt;</span>
<a href="#l2.30"></a><span id="l2.30">           &lt;menuseparator/&gt;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineminus">-          &lt;menuitem id=&quot;returnReceiptMenu&quot; type=&quot;checkbox&quot; label=&quot;&amp;returnReceiptMenu.label;&quot; accesskey=&quot;&amp;returnReceiptMenu.accesskey;&quot; checked=&quot;false&quot; oncommand=&quot;ToggleReturnReceipt(event.target)&quot;/&gt;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+          &lt;menuitem id=&quot;returnReceiptMenu&quot; type=&quot;checkbox&quot;</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+                    label=&quot;&amp;returnReceiptMenu.label;&quot;</span>
<a href="#l2.34"></a><span id="l2.34" class="difflineplus">+                    accesskey=&quot;&amp;returnReceiptMenu.accesskey;&quot;</span>
<a href="#l2.35"></a><span id="l2.35" class="difflineplus">+                    checked=&quot;false&quot;</span>
<a href="#l2.36"></a><span id="l2.36" class="difflineplus">+                    command=&quot;cmd_toggleReturnReceipt&quot;/&gt;</span>
<a href="#l2.37"></a><span id="l2.37">           &lt;menuitem id=&quot;dsnMenu&quot; type=&quot;checkbox&quot; label=&quot;&amp;dsnMenu.label;&quot; accesskey=&quot;&amp;dsnMenu.accesskey;&quot; oncommand=&quot;ToggleDSN(event.target)&quot;/&gt;</span>
<a href="#l2.38"></a><span id="l2.38">           &lt;menuseparator/&gt;</span>
<a href="#l2.39"></a><span id="l2.39">           &lt;menu id=&quot;charsetMenu&quot;</span>
<a href="#l2.40"></a><span id="l2.40">                 data-l10n-id=&quot;menu-view-charset&quot;</span>
<a href="#l2.41"></a><span id="l2.41">                 oncommand=&quot;SetDocumentCharacterSet(event.target.getAttribute('charset'));&quot;</span>
<a href="#l2.42"></a><span id="l2.42">                 onpopupshowing=&quot;UpdateCharsetMenu(gMsgCompose.compFields.characterSet, this);&quot;&gt;</span>
<a href="#l2.43"></a><span id="l2.43">             &lt;menupopup id=&quot;charsetPopup&quot; detectors=&quot;false&quot;</span>
<a href="#l2.44"></a><span id="l2.44">                        onpopupshowing=&quot;CharsetMenu.build(this, true, this.getAttribute('detectors') != 'false');&quot;/&gt;</span>
<a href="#l2.45"></a><span id="l2.45" class="difflineat">@@ -2077,16 +2083,21 @@</span>
<a href="#l2.46"></a><span id="l2.46">           &lt;menuitem id=&quot;list_priority_lowest&quot;</span>
<a href="#l2.47"></a><span id="l2.47">                     name=&quot;priority&quot;</span>
<a href="#l2.48"></a><span id="l2.48">                     label=&quot;&amp;lowestPriorityCmd.label;&quot;</span>
<a href="#l2.49"></a><span id="l2.49">                     value=&quot;Lowest&quot;/&gt;</span>
<a href="#l2.50"></a><span id="l2.50">         &lt;/menupopup&gt;</span>
<a href="#l2.51"></a><span id="l2.51">       &lt;/menulist&gt;</span>
<a href="#l2.52"></a><span id="l2.52">     &lt;/toolbaritem&gt;</span>
<a href="#l2.53"></a><span id="l2.53"> </span>
<a href="#l2.54"></a><span id="l2.54" class="difflineplus">+    &lt;toolbarbutton id=&quot;button-returnReceipt&quot;</span>
<a href="#l2.55"></a><span id="l2.55" class="difflineplus">+                   class=&quot;toolbarbutton-1&quot;</span>
<a href="#l2.56"></a><span id="l2.56" class="difflineplus">+                   data-l10n-id=&quot;button-return-receipt&quot;</span>
<a href="#l2.57"></a><span id="l2.57" class="difflineplus">+                   type=&quot;checkbox&quot; autoCheck=&quot;false&quot;</span>
<a href="#l2.58"></a><span id="l2.58" class="difflineplus">+                   command=&quot;cmd_toggleReturnReceipt&quot;/&gt;</span>
<a href="#l2.59"></a><span id="l2.59">   &lt;/toolbarpalette&gt;</span>
<a href="#l2.60"></a><span id="l2.60">   &lt;toolbar is=&quot;customizable-toolbar&quot; id=&quot;composeToolbar2&quot; class=&quot;chromeclass-toolbar&quot;</span>
<a href="#l2.61"></a><span id="l2.61">            toolbarname=&quot;&amp;showCompositionToolbarCmd.label;&quot;</span>
<a href="#l2.62"></a><span id="l2.62">            accesskey=&quot;&amp;showCompositionToolbarCmd.accesskey;&quot;</span>
<a href="#l2.63"></a><span id="l2.63">            fullscreentoolbar=&quot;true&quot; mode=&quot;full&quot;</span>
<a href="#l2.64"></a><span id="l2.64"> #ifdef XP_MACOSX</span>
<a href="#l2.65"></a><span id="l2.65">            iconsize=&quot;small&quot;</span>
<a href="#l2.66"></a><span id="l2.66"> #endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/locales/en-US/messenger/messengercompose/messengercompose.ftl</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -32,8 +32,12 @@ pill-action-move-to =</span>
<a href="#l3.4"></a><span id="l3.4"> </span>
<a href="#l3.5"></a><span id="l3.5"> pill-action-move-cc =</span>
<a href="#l3.6"></a><span id="l3.6">     .label = Move to Cc</span>
<a href="#l3.7"></a><span id="l3.7">     .accesskey = C</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9"> pill-action-move-bcc =</span>
<a href="#l3.10"></a><span id="l3.10">     .label = Move to Bcc</span>
<a href="#l3.11"></a><span id="l3.11">     .accesskey = B</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+button-return-receipt =</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+    .label = Receipt</span>
<a href="#l3.15"></a><span id="l3.15" class="difflineplus">+    .tooltiptext = Request a return receipt for this message</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/themes/shared/jar.inc.mn</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/themes/shared/jar.inc.mn</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -134,22 +134,23 @@</span>
<a href="#l4.4"></a><span id="l4.4">   skin/classic/messenger/icons/previousunread.svg             (../shared/mail/icons/previousunread.svg)</span>
<a href="#l4.5"></a><span id="l4.5">   skin/classic/messenger/icons/print.svg                      (../shared/mail/icons/print.svg)</span>
<a href="#l4.6"></a><span id="l4.6">   skin/classic/messenger/icons/popular.svg                    (../shared/mail/icons/popular.svg)</span>
<a href="#l4.7"></a><span id="l4.7">   skin/classic/messenger/icons/quit.svg                       (../shared/mail/icons/quit.svg)</span>
<a href="#l4.8"></a><span id="l4.8">   skin/classic/messenger/icons/quote.svg                      (../shared/mail/icons/quote.svg)</span>
<a href="#l4.9"></a><span id="l4.9">   skin/classic/messenger/icons/read.svg                       (../shared/mail/icons/read.svg)</span>
<a href="#l4.10"></a><span id="l4.10">   skin/classic/messenger/icons/reader-mode.svg                (../shared/mail/icons/reader-mode.svg)</span>
<a href="#l4.11"></a><span id="l4.11">   skin/classic/messenger/icons/readcol.svg                    (../shared/mail/icons/readcol.svg)</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-  skin/classic/messenger/icons/restore.svg                    (../shared/mail/icons/restore.svg)</span>
<a href="#l4.13"></a><span id="l4.13">   skin/classic/messenger/icons/remote-blocked.svg             (../shared/mail/icons/remote-blocked.svg)</span>
<a href="#l4.14"></a><span id="l4.14">   skin/classic/messenger/icons/reply.svg                      (../shared/mail/icons/reply.svg)</span>
<a href="#l4.15"></a><span id="l4.15">   skin/classic/messenger/icons/replyall.svg                   (../shared/mail/icons/replyall.svg)</span>
<a href="#l4.16"></a><span id="l4.16">   skin/classic/messenger/icons/replylist.svg                  (../shared/mail/icons/replylist.svg)</span>
<a href="#l4.17"></a><span id="l4.17">   skin/classic/messenger/icons/reply-forward.svg              (../shared/mail/icons/reply-forward.svg)</span>
<a href="#l4.18"></a><span id="l4.18" class="difflineplus">+  skin/classic/messenger/icons/restore.svg                    (../shared/mail/icons/restore.svg)</span>
<a href="#l4.19"></a><span id="l4.19" class="difflineplus">+  skin/classic/messenger/icons/return-receipt.svg             (../shared/mail/icons/return-receipt.svg)</span>
<a href="#l4.20"></a><span id="l4.20">   skin/classic/messenger/icons/right-align.svg                (../shared/mail/icons/right-align.svg)</span>
<a href="#l4.21"></a><span id="l4.21">   skin/classic/messenger/icons/search-folder.svg              (../shared/mail/icons/search-folder.svg)</span>
<a href="#l4.22"></a><span id="l4.22">   skin/classic/messenger/icons/search-glass.svg               (../shared/mail/icons/search-glass.svg)</span>
<a href="#l4.23"></a><span id="l4.23">   skin/classic/messenger/icons/save.svg                       (../shared/mail/icons/save.svg)</span>
<a href="#l4.24"></a><span id="l4.24">   skin/classic/messenger/icons/save-as.svg                    (../shared/mail/icons/save-as.svg)</span>
<a href="#l4.25"></a><span id="l4.25">   skin/classic/messenger/icons/search-not-found.svg           (../shared/mail/icons/search-not-found.svg)</span>
<a href="#l4.26"></a><span id="l4.26">   skin/classic/messenger/icons/search-spinner.svg             (../shared/mail/icons/search-spinner.svg)</span>
<a href="#l4.27"></a><span id="l4.27">   skin/classic/messenger/icons/security.svg                   (../shared/mail/icons/security.svg)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1">new file mode 100644</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineminus">--- /dev/null</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineplus">+++ b/mail/themes/shared/mail/icons/return-receipt.svg</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineat">@@ -0,0 +1,7 @@</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineplus">+&lt;!-- This Source Code Form is subject to the terms of the Mozilla Public</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineplus">+   - License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineplus">+   - file, You can obtain one at http://mozilla.org/MPL/2.0/. --&gt;</span>
<a href="#l5.8"></a><span id="l5.8" class="difflineplus">+&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;16&quot; height=&quot;16&quot; viewBox=&quot;0 0 16 16&quot; fill=&quot;context-fill&quot; fill-opacity=&quot;context-fill-opacity&quot;&gt;</span>
<a href="#l5.9"></a><span id="l5.9" class="difflineplus">+  &lt;path d=&quot;M6 16a.99.99 0 01-.7-.29l-3-3c-.95-.94.46-2.36 1.4-1.42l2.16 2.16 5.32-7.62c.76-1.1 2.4.05 1.64 1.14l-6 8.6c-.17.24-.44.4-.73.43H6z&quot;/&gt;</span>
<a href="#l5.10"></a><span id="l5.10" class="difflineplus">+  &lt;path d=&quot;M5.6 11.01a.99.99 0 01-.71-.29l-3-3c-.94-.95.46-2.35 1.41-1.43l2.16 2.17L10.77.83c.76-1.1 2.41.05 1.65 1.15l-6 8.6c-.17.24-.44.4-.74.43H5.6z&quot;/&gt;</span>
<a href="#l5.11"></a><span id="l5.11" class="difflineplus">+&lt;/svg&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/themes/shared/mail/messengercompose.css</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/themes/shared/mail/messengercompose.css</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -341,16 +341,20 @@</span>
<a href="#l6.4"></a><span id="l6.4"> #button-save {</span>
<a href="#l6.5"></a><span id="l6.5">   list-style-image: url(&quot;chrome://messenger/skin/icons/save.svg&quot;);</span>
<a href="#l6.6"></a><span id="l6.6"> }</span>
<a href="#l6.7"></a><span id="l6.7"> </span>
<a href="#l6.8"></a><span id="l6.8"> #quoteButton {</span>
<a href="#l6.9"></a><span id="l6.9">   list-style-image: url(&quot;chrome://messenger/skin/icons/quote.svg&quot;);</span>
<a href="#l6.10"></a><span id="l6.10"> }</span>
<a href="#l6.11"></a><span id="l6.11"> </span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+#button-returnReceipt {</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/return-receipt.svg&quot;);</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+}</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+</span>
<a href="#l6.16"></a><span id="l6.16"> #cut-button {</span>
<a href="#l6.17"></a><span id="l6.17">   list-style-image: url(&quot;chrome://messenger/skin/icons/cut.svg&quot;);</span>
<a href="#l6.18"></a><span id="l6.18"> }</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20"> #copy-button {</span>
<a href="#l6.21"></a><span id="l6.21">   list-style-image: url(&quot;chrome://messenger/skin/icons/copy.svg&quot;);</span>
<a href="#l6.22"></a><span id="l6.22"> }</span>
<a href="#l6.23"></a><span id="l6.23"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/4b0de666d1a4">4b0de666d1a4</a> at 2020-07-30T19:32:33Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

