<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 2089:b5562be0758b6242eb16e7449a9b424925326865</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ b5562be0758b6242eb16e7449a9b424925326865" />
<meta property="og:url" content="/comm-central/rev/b5562be0758b6242eb16e7449a9b424925326865" />
<meta property="og:description" content="Bug 477192 - Add ifdef MOZ_UPDATER for the app update preferences UI and Help menu. r=philringnalda" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / b5562be0758b6242eb16e7449a9b424925326865 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/b5562be0758b6242eb16e7449a9b424925326865">shortlog</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/b5562be0758b6242eb16e7449a9b424925326865">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865">files</a> |
changeset |
<a href="/comm-central/raw-rev/b5562be0758b6242eb16e7449a9b424925326865">raw</a>  | <a href="/comm-central/archive/b5562be0758b6242eb16e7449a9b424925326865.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=477192">Bug 477192</a> - Add ifdef MOZ_UPDATER for the app update preferences UI and Help menu. r=philringnalda
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#82;&#111;&#98;&#101;&#114;&#116;&#32;&#83;&#116;&#114;&#111;&#110;&#103;&#32;&#60;&#114;&#111;&#98;&#101;&#114;&#116;&#46;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 26 Feb 2009 11:30:04 -0800</td></tr>

<tr>
 <td>changeset 2089</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/b5562be0758b6242eb16e7449a9b424925326865">b5562be0758b6242eb16e7449a9b424925326865</a></td>
</tr>



<tr>
<td>parent 2088</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9a661e3ae8fc02e6697024341735d78d9be57e19">9a661e3ae8fc02e6697024341735d78d9be57e19</a>
</td>
</tr>

<tr>
<td>child 2090</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/81b62dba7723f5139682c9a2bc12b2871e60ec00">81b62dba7723f5139682c9a2bc12b2871e60ec00</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=b5562be0758b6242eb16e7449a9b424925326865">1686</a></td></tr>
<tr><td>push user</td><td>rstrong@mozilla.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 26 Feb 2009 19:30:47 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@b5562be0758b [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b5562be0758b6242eb16e7449a9b424925326865">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=b5562be0758b6242eb16e7449a9b424925326865&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b5562be0758b6242eb16e7449a9b424925326865&newProject=comm-central&newRevision=b5562be0758b6242eb16e7449a9b424925326865&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b5562be0758b6242eb16e7449a9b424925326865&newProject=comm-central&newRevision=b5562be0758b6242eb16e7449a9b424925326865&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=b5562be0758b6242eb16e7449a9b424925326865&newProject=comm-central&newRevision=b5562be0758b6242eb16e7449a9b424925326865&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28philringnalda%29&revcount=50">philringnalda</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=477192">477192</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=477192">Bug 477192</a> - Add ifdef MOZ_UPDATER for the app update preferences UI and Help menu. r=philringnalda</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/base/Makefile.in">mail/base/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865/mail/base/Makefile.in">file</a> |
<a href="/comm-central/annotate/b5562be0758b6242eb16e7449a9b424925326865/mail/base/Makefile.in">annotate</a> |
<a href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/base/Makefile.in">diff</a> |
<a href="/comm-central/comparison/b5562be0758b6242eb16e7449a9b424925326865/mail/base/Makefile.in">comparison</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865/mail/base/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/baseMenuOverlay.xul">mail/base/content/baseMenuOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/baseMenuOverlay.xul">file</a> |
<a href="/comm-central/annotate/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/baseMenuOverlay.xul">annotate</a> |
<a href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/baseMenuOverlay.xul">diff</a> |
<a href="/comm-central/comparison/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/baseMenuOverlay.xul">comparison</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/baseMenuOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/utilityOverlay.js">mail/base/content/utilityOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/utilityOverlay.js">file</a> |
<a href="/comm-central/annotate/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/utilityOverlay.js">annotate</a> |
<a href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/utilityOverlay.js">diff</a> |
<a href="/comm-central/comparison/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/utilityOverlay.js">comparison</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865/mail/base/content/utilityOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/Makefile.in">mail/components/preferences/Makefile.in</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/Makefile.in">file</a> |
<a href="/comm-central/annotate/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/Makefile.in">annotate</a> |
<a href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/Makefile.in">diff</a> |
<a href="/comm-central/comparison/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/Makefile.in">comparison</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/Makefile.in">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.js">mail/components/preferences/advanced.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.js">file</a> |
<a href="/comm-central/annotate/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.js">annotate</a> |
<a href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.js">diff</a> |
<a href="/comm-central/comparison/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.js">comparison</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.xul">mail/components/preferences/advanced.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.xul">file</a> |
<a href="/comm-central/annotate/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.xul">annotate</a> |
<a href="/comm-central/diff/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.xul">diff</a> |
<a href="/comm-central/comparison/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.xul">comparison</a> |
<a href="/comm-central/log/b5562be0758b6242eb16e7449a9b424925326865/mail/components/preferences/advanced.xul">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/Makefile.in</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/Makefile.in</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -47,13 +47,17 @@ DEFINES += -DMOZ_APP_VERSION=$(MOZ_APP_V</span>
<a href="#l1.4"></a><span id="l1.4"> ifneq (,$(BUILD_OFFICIAL)$(MOZILLA_OFFICIAL))</span>
<a href="#l1.5"></a><span id="l1.5"> DEFINES += -DOFFICIAL_BUILD=1</span>
<a href="#l1.6"></a><span id="l1.6"> endif</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8"> ifneq (,$(filter windows gtk2 mac cocoa, $(MOZ_WIDGET_TOOLKIT)))</span>
<a href="#l1.9"></a><span id="l1.9"> DEFINES += -DHAVE_SHELL_SERVICE=1</span>
<a href="#l1.10"></a><span id="l1.10"> endif</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+ifdef MOZ_UPDATER</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+DEFINES += -DMOZ_UPDATER=1</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+endif</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+</span>
<a href="#l1.16"></a><span id="l1.16"> ifeq (cocoa, $(MOZ_WIDGET_TOOLKIT))</span>
<a href="#l1.17"></a><span id="l1.17"> DEFINES += -DTOOLBAR_CUSTOMIZATION_SHEET</span>
<a href="#l1.18"></a><span id="l1.18"> endif</span>
<a href="#l1.19"></a><span id="l1.19"> </span>
<a href="#l1.20"></a><span id="l1.20"> include $(topsrcdir)/config/rules.mk</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/baseMenuOverlay.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/baseMenuOverlay.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -70,18 +70,22 @@</span>
<a href="#l2.4"></a><span id="l2.4">                 oncommand=&quot;openSupportURL();&quot;</span>
<a href="#l2.5"></a><span id="l2.5">                 key=&quot;key_openHelp&quot;/&gt;</span>
<a href="#l2.6"></a><span id="l2.6"> #endif</span>
<a href="#l2.7"></a><span id="l2.7">       &lt;menuitem id=&quot;releaseNotes&quot;</span>
<a href="#l2.8"></a><span id="l2.8">                 label=&quot;&amp;releaseCmd.label;&quot; accesskey=&quot;&amp;releaseCmd.accesskey;&quot;</span>
<a href="#l2.9"></a><span id="l2.9">                 oncommand=&quot;openFormattedURL('app.releaseNotesURL');&quot;/&gt;</span>
<a href="#l2.10"></a><span id="l2.10">       &lt;menuseparator id=&quot;menu_HelpAboutSeparator&quot;/&gt;</span>
<a href="#l2.11"></a><span id="l2.11">       &lt;menuitem id=&quot;checkForUpdates&quot; class=&quot;menuitem-iconic&quot;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l2.13"></a><span id="l2.13">                 label=&quot;&amp;updateCmd.label;&quot; accesskey=&quot;&amp;updateCmd.accesskey;&quot;</span>
<a href="#l2.14"></a><span id="l2.14">                 oncommand=&quot;checkForUpdates();&quot;/&gt;</span>
<a href="#l2.15"></a><span id="l2.15" class="difflineplus">+#else</span>
<a href="#l2.16"></a><span id="l2.16" class="difflineplus">+                hidden=&quot;true&quot;/&gt;</span>
<a href="#l2.17"></a><span id="l2.17" class="difflineplus">+#endif</span>
<a href="#l2.18"></a><span id="l2.18"> #ifndef XP_MACOSX</span>
<a href="#l2.19"></a><span id="l2.19">       &lt;menuseparator id=&quot;menu_HelpAfterUpdatesSeparator&quot;/&gt;</span>
<a href="#l2.20"></a><span id="l2.20"> #endif</span>
<a href="#l2.21"></a><span id="l2.21">       &lt;menuitem id=&quot;aboutName&quot;</span>
<a href="#l2.22"></a><span id="l2.22">                 label=&quot;&amp;aboutCmd.label;&quot; accesskey=&quot;&amp;aboutCmd.accesskey;&quot;</span>
<a href="#l2.23"></a><span id="l2.23"> #ifdef XP_MACOSX</span>
<a href="#l2.24"></a><span id="l2.24">                 hidden=&quot;true&quot;</span>
<a href="#l2.25"></a><span id="l2.25"> #endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/utilityOverlay.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/utilityOverlay.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -191,16 +191,17 @@ function goToggleToolbar( id, elementID </span>
<a href="#l3.4"></a><span id="l3.4">     toolbar.setAttribute(&quot;hidden&quot;, !isHidden);</span>
<a href="#l3.5"></a><span id="l3.5">     if ( element )</span>
<a href="#l3.6"></a><span id="l3.6">       element.setAttribute(&quot;checked&quot;, isHidden)</span>
<a href="#l3.7"></a><span id="l3.7">     document.persist(id, 'hidden');</span>
<a href="#l3.8"></a><span id="l3.8">     document.persist(elementID, 'checked');</span>
<a href="#l3.9"></a><span id="l3.9">   }</span>
<a href="#l3.10"></a><span id="l3.10"> }</span>
<a href="#l3.11"></a><span id="l3.11"> </span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l3.13"></a><span id="l3.13"> /**</span>
<a href="#l3.14"></a><span id="l3.14">  * Opens the update manager and checks for updates to the application.</span>
<a href="#l3.15"></a><span id="l3.15">  */</span>
<a href="#l3.16"></a><span id="l3.16"> function checkForUpdates()</span>
<a href="#l3.17"></a><span id="l3.17"> {</span>
<a href="#l3.18"></a><span id="l3.18">   var um =</span>
<a href="#l3.19"></a><span id="l3.19">       Components.classes[&quot;@mozilla.org/updates/update-manager;1&quot;].</span>
<a href="#l3.20"></a><span id="l3.20">       getService(Components.interfaces.nsIUpdateManager);</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineat">@@ -211,23 +212,25 @@ function checkForUpdates()</span>
<a href="#l3.22"></a><span id="l3.22">   // If there's an update ready to be applied, show the &quot;Update Downloaded&quot;</span>
<a href="#l3.23"></a><span id="l3.23">   // UI instead and let the user know they have to restart the application for</span>
<a href="#l3.24"></a><span id="l3.24">   // the changes to be applied.</span>
<a href="#l3.25"></a><span id="l3.25">   if (um.activeUpdate &amp;&amp; um.activeUpdate.state == &quot;pending&quot;)</span>
<a href="#l3.26"></a><span id="l3.26">     prompter.showUpdateDownloaded(um.activeUpdate);</span>
<a href="#l3.27"></a><span id="l3.27">   else</span>
<a href="#l3.28"></a><span id="l3.28">     prompter.checkForUpdates();</span>
<a href="#l3.29"></a><span id="l3.29"> }</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineplus">+#endif</span>
<a href="#l3.31"></a><span id="l3.31"> </span>
<a href="#l3.32"></a><span id="l3.32"> /**</span>
<a href="#l3.33"></a><span id="l3.33">  * Set up the help menu software update items to show proper status,</span>
<a href="#l3.34"></a><span id="l3.34">  * also disabling the items if update is disabled.</span>
<a href="#l3.35"></a><span id="l3.35">  */</span>
<a href="#l3.36"></a><span id="l3.36"> function buildHelpMenu()</span>
<a href="#l3.37"></a><span id="l3.37"> {</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l3.39"></a><span id="l3.39">   var updates =</span>
<a href="#l3.40"></a><span id="l3.40">       Components.classes[&quot;@mozilla.org/updates/update-service;1&quot;].</span>
<a href="#l3.41"></a><span id="l3.41">       getService(Components.interfaces.nsIApplicationUpdateService);</span>
<a href="#l3.42"></a><span id="l3.42">   var um =</span>
<a href="#l3.43"></a><span id="l3.43">       Components.classes[&quot;@mozilla.org/updates/update-manager;1&quot;].</span>
<a href="#l3.44"></a><span id="l3.44">       getService(Components.interfaces.nsIUpdateManager);</span>
<a href="#l3.45"></a><span id="l3.45"> </span>
<a href="#l3.46"></a><span id="l3.46">   // Disable the UI if the update enabled pref has been locked by the</span>
<a href="#l3.47"></a><span id="l3.47" class="difflineat">@@ -242,17 +245,17 @@ function buildHelpMenu()</span>
<a href="#l3.48"></a><span id="l3.48">   var activeUpdate = um.activeUpdate;</span>
<a href="#l3.49"></a><span id="l3.49"> </span>
<a href="#l3.50"></a><span id="l3.50">   // If there's an active update, substitute its name into the label</span>
<a href="#l3.51"></a><span id="l3.51">   // we show for this item, otherwise display a generic label.</span>
<a href="#l3.52"></a><span id="l3.52">   function getStringWithUpdateName(key) {</span>
<a href="#l3.53"></a><span id="l3.53">     if (activeUpdate &amp;&amp; activeUpdate.name)</span>
<a href="#l3.54"></a><span id="l3.54">       return strings.getFormattedString(key, [activeUpdate.name]);</span>
<a href="#l3.55"></a><span id="l3.55">     return strings.getString(key + &quot;Fallback&quot;);</span>
<a href="#l3.56"></a><span id="l3.56" class="difflineminus">-    }</span>
<a href="#l3.57"></a><span id="l3.57" class="difflineplus">+  }</span>
<a href="#l3.58"></a><span id="l3.58"> </span>
<a href="#l3.59"></a><span id="l3.59">   // By default, show &quot;Check for Updates...&quot;</span>
<a href="#l3.60"></a><span id="l3.60">   var key = &quot;default&quot;;</span>
<a href="#l3.61"></a><span id="l3.61">   if (activeUpdate) {</span>
<a href="#l3.62"></a><span id="l3.62">     switch (activeUpdate.state) {</span>
<a href="#l3.63"></a><span id="l3.63">     case &quot;downloading&quot;:</span>
<a href="#l3.64"></a><span id="l3.64">       // If we're downloading an update at present, show the text:</span>
<a href="#l3.65"></a><span id="l3.65">       // &quot;Downloading Thunderbird x.x...&quot; otherwise we're paused, and show</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineat">@@ -267,16 +270,29 @@ function buildHelpMenu()</span>
<a href="#l3.67"></a><span id="l3.67">     }</span>
<a href="#l3.68"></a><span id="l3.68">   }</span>
<a href="#l3.69"></a><span id="l3.69"> </span>
<a href="#l3.70"></a><span id="l3.70">   checkForUpdates.label = getStringWithUpdateName(&quot;updatesItem_&quot; + key);</span>
<a href="#l3.71"></a><span id="l3.71">   if (um.activeUpdate &amp;&amp; updates.isDownloading)</span>
<a href="#l3.72"></a><span id="l3.72">     checkForUpdates.setAttribute(&quot;loading&quot;, &quot;true&quot;);</span>
<a href="#l3.73"></a><span id="l3.73">   else</span>
<a href="#l3.74"></a><span id="l3.74">     checkForUpdates.removeAttribute(&quot;loading&quot;);</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineplus">+#else</span>
<a href="#l3.76"></a><span id="l3.76" class="difflineplus">+#ifndef XP_MACOSX</span>
<a href="#l3.77"></a><span id="l3.77" class="difflineplus">+  // Some extensions may rely on these being present so only hide the updates</span>
<a href="#l3.78"></a><span id="l3.78" class="difflineplus">+  // separator when there are no elements besides the check for updates menuitem</span>
<a href="#l3.79"></a><span id="l3.79" class="difflineplus">+  // in between the about separator and the updates separator.</span>
<a href="#l3.80"></a><span id="l3.80" class="difflineplus">+  var aboutSeparator = document.getElementById(&quot;menu_HelpAboutSeparator&quot;);</span>
<a href="#l3.81"></a><span id="l3.81" class="difflineplus">+  var updatesSeparator = document.getElementById(&quot;menu_HelpAfterUpdatesSeparator&quot;);</span>
<a href="#l3.82"></a><span id="l3.82" class="difflineplus">+  var checkForUpdates = document.getElementById(&quot;checkForUpdates&quot;);</span>
<a href="#l3.83"></a><span id="l3.83" class="difflineplus">+  if (aboutSeparator.nextSibling === checkForUpdates &amp;&amp;</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineplus">+      checkForUpdates.nextSibling === updatesSeparator)</span>
<a href="#l3.85"></a><span id="l3.85" class="difflineplus">+    updatesSeparator.hidden = true;</span>
<a href="#l3.86"></a><span id="l3.86" class="difflineplus">+#endif</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineplus">+#endif</span>
<a href="#l3.88"></a><span id="l3.88"> }</span>
<a href="#l3.89"></a><span id="l3.89"> </span>
<a href="#l3.90"></a><span id="l3.90"> // openUILink handles clicks on UI elements that cause URLs to load.</span>
<a href="#l3.91"></a><span id="l3.91"> // Firefox and SeaMonkey have a function with the same name,</span>
<a href="#l3.92"></a><span id="l3.92"> // so extensions can use this everywhere to open links.</span>
<a href="#l3.93"></a><span id="l3.93"> // We currently only react to left click in Thunderbird.</span>
<a href="#l3.94"></a><span id="l3.94"> function openUILink(url, event)</span>
<a href="#l3.95"></a><span id="l3.95"> {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/components/preferences/Makefile.in</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/components/preferences/Makefile.in</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -42,8 +42,12 @@ VPATH		= @srcdir@</span>
<a href="#l4.4"></a><span id="l4.4"> </span>
<a href="#l4.5"></a><span id="l4.5"> include $(DEPTH)/config/autoconf.mk</span>
<a href="#l4.6"></a><span id="l4.6"> </span>
<a href="#l4.7"></a><span id="l4.7"> include $(topsrcdir)/config/rules.mk</span>
<a href="#l4.8"></a><span id="l4.8"> </span>
<a href="#l4.9"></a><span id="l4.9"> ifneq (,$(filter windows gtk2 mac cocoa, $(MOZ_WIDGET_TOOLKIT)))</span>
<a href="#l4.10"></a><span id="l4.10"> DEFINES += -DHAVE_SHELL_SERVICE=1</span>
<a href="#l4.11"></a><span id="l4.11"> endif</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineplus">+</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+ifdef MOZ_UPDATER</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+DEFINES += -DMOZ_UPDATER=1</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+endif</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/components/preferences/advanced.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/components/preferences/advanced.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -48,21 +48,21 @@ var gAdvancedPane = {</span>
<a href="#l5.4"></a><span id="l5.4">     if (&quot;arguments&quot; in window &amp;&amp; window.arguments[1] &amp;&amp; document.getElementById(window.arguments[1]))</span>
<a href="#l5.5"></a><span id="l5.5">       document.getElementById(&quot;advancedPrefs&quot;).selectedTab = document.getElementById(window.arguments[1]);</span>
<a href="#l5.6"></a><span id="l5.6">     else </span>
<a href="#l5.7"></a><span id="l5.7">     {</span>
<a href="#l5.8"></a><span id="l5.8">       var preference = document.getElementById(&quot;mail.preferences.advanced.selectedTabIndex&quot;);</span>
<a href="#l5.9"></a><span id="l5.9">       if (preference.value)</span>
<a href="#l5.10"></a><span id="l5.10">         document.getElementById(&quot;advancedPrefs&quot;).selectedIndex = preference.value;</span>
<a href="#l5.11"></a><span id="l5.11">     }</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l5.14"></a><span id="l5.14">     this.updateAppUpdateItems();</span>
<a href="#l5.15"></a><span id="l5.15">     this.updateAutoItems();</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineminus">-    this.updateModeItems();   </span>
<a href="#l5.17"></a><span id="l5.17" class="difflineminus">-</span>
<a href="#l5.18"></a><span id="l5.18" class="difflineplus">+    this.updateModeItems();</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineplus">+#endif</span>
<a href="#l5.20"></a><span id="l5.20">     this.mInitialized = true;</span>
<a href="#l5.21"></a><span id="l5.21">   },</span>
<a href="#l5.22"></a><span id="l5.22"> </span>
<a href="#l5.23"></a><span id="l5.23">   tabSelectionChanged: function ()</span>
<a href="#l5.24"></a><span id="l5.24">   {</span>
<a href="#l5.25"></a><span id="l5.25">     if (this.mInitialized)</span>
<a href="#l5.26"></a><span id="l5.26">     {</span>
<a href="#l5.27"></a><span id="l5.27">       document.getElementById(&quot;mail.preferences.advanced.selectedTabIndex&quot;)</span>
<a href="#l5.28"></a><span id="l5.28" class="difflineat">@@ -194,16 +194,17 @@ var gAdvancedPane = {</span>
<a href="#l5.29"></a><span id="l5.29">    * 4           i   t       t/f       false</span>
<a href="#l5.30"></a><span id="l5.30">    *             i   f       t/f       true</span>
<a href="#l5.31"></a><span id="l5.31">    *             ii  t       t/f       false</span>
<a href="#l5.32"></a><span id="l5.32">    *             ii  f       t/f       true</span>
<a href="#l5.33"></a><span id="l5.33">    *             iii 0/1/2   f         false</span>
<a href="#l5.34"></a><span id="l5.34">    *             iii 0/1/2   t         true   </span>
<a href="#l5.35"></a><span id="l5.35">    *</span>
<a href="#l5.36"></a><span id="l5.36">    */</span>
<a href="#l5.37"></a><span id="l5.37" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l5.38"></a><span id="l5.38">   updateAppUpdateItems: function () </span>
<a href="#l5.39"></a><span id="l5.39">   {</span>
<a href="#l5.40"></a><span id="l5.40">     var aus = </span>
<a href="#l5.41"></a><span id="l5.41">         Components.classes[&quot;@mozilla.org/updates/update-service;1&quot;].</span>
<a href="#l5.42"></a><span id="l5.42">         getService(Components.interfaces.nsIApplicationUpdateService);</span>
<a href="#l5.43"></a><span id="l5.43"> </span>
<a href="#l5.44"></a><span id="l5.44">     var enabledPref = document.getElementById(&quot;app.update.enabled&quot;);</span>
<a href="#l5.45"></a><span id="l5.45">     var enableAppUpdate = document.getElementById(&quot;enableAppUpdate&quot;);</span>
<a href="#l5.46"></a><span id="l5.46" class="difflineat">@@ -233,28 +234,16 @@ var gAdvancedPane = {</span>
<a href="#l5.47"></a><span id="l5.47">     var warnIncompatible = document.getElementById(&quot;warnIncompatible&quot;);</span>
<a href="#l5.48"></a><span id="l5.48"> </span>
<a href="#l5.49"></a><span id="l5.49">     var disable = enabledPref.locked || !enabledPref.value || autoPref.locked ||</span>
<a href="#l5.50"></a><span id="l5.50">                   !autoPref.value || modePref.locked;</span>
<a href="#l5.51"></a><span id="l5.51">     warnIncompatible.disabled = disable;</span>
<a href="#l5.52"></a><span id="l5.52">   },</span>
<a href="#l5.53"></a><span id="l5.53"> </span>
<a href="#l5.54"></a><span id="l5.54">   /**</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineminus">-   * The Extensions checkbox and button are disabled only if the enable Addon</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineminus">-   * update preference is locked. </span>
<a href="#l5.57"></a><span id="l5.57" class="difflineminus">-   */</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineminus">-  updateAddonUpdateUI: function ()</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineminus">-  {</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineminus">-    var enabledPref = document.getElementById(&quot;extensions.update.enabled&quot;);</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineminus">-    var enableAddonUpdate = document.getElementById(&quot;enableAddonUpdate&quot;);</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineminus">-</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineminus">-    enableAddonUpdate.disabled = enabledPref.locked;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineminus">-  },  </span>
<a href="#l5.65"></a><span id="l5.65" class="difflineminus">-</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineminus">-  /**</span>
<a href="#l5.67"></a><span id="l5.67">    * app.update.mode is a three state integer preference, and we have to </span>
<a href="#l5.68"></a><span id="l5.68">    * express all three values in a single checkbox:</span>
<a href="#l5.69"></a><span id="l5.69">    * &quot;Warn me if this will disable extensions or themes&quot;</span>
<a href="#l5.70"></a><span id="l5.70">    * Preference Value         Checkbox State    Meaning</span>
<a href="#l5.71"></a><span id="l5.71">    * 0                        Unchecked         Do not warn</span>
<a href="#l5.72"></a><span id="l5.72">    * 1                        Checked           Warn if there are incompatibilities</span>
<a href="#l5.73"></a><span id="l5.73">    * 2                        Checked           Warn if there are incompatibilities,</span>
<a href="#l5.74"></a><span id="l5.74">    *                                            or the update is major.</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineat">@@ -275,16 +264,29 @@ var gAdvancedPane = {</span>
<a href="#l5.76"></a><span id="l5.76">   },</span>
<a href="#l5.77"></a><span id="l5.77"> </span>
<a href="#l5.78"></a><span id="l5.78">   showUpdates: function ()</span>
<a href="#l5.79"></a><span id="l5.79">   {</span>
<a href="#l5.80"></a><span id="l5.80">     var prompter = Components.classes[&quot;@mozilla.org/updates/update-prompt;1&quot;]</span>
<a href="#l5.81"></a><span id="l5.81">                              .createInstance(Components.interfaces.nsIUpdatePrompt);</span>
<a href="#l5.82"></a><span id="l5.82">     prompter.showUpdateHistory(window);</span>
<a href="#l5.83"></a><span id="l5.83">   },</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+#endif</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+  /**</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+   * The Extensions checkbox and button are disabled only if the enable Addon</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+   * update preference is locked. </span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+   */</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+  updateAddonUpdateUI: function ()</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+  {</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+    var enabledPref = document.getElementById(&quot;extensions.update.enabled&quot;);</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+    var enableAddonUpdate = document.getElementById(&quot;enableAddonUpdate&quot;);</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+    enableAddonUpdate.disabled = enabledPref.locked;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+  },  </span>
<a href="#l5.97"></a><span id="l5.97"> </span>
<a href="#l5.98"></a><span id="l5.98">   updateMarkAsReadOptions: function(enableRadioGroup)</span>
<a href="#l5.99"></a><span id="l5.99">   {</span>
<a href="#l5.100"></a><span id="l5.100">     document.getElementById('markAsReadAutoPreferences').disabled = !enableRadioGroup;</span>
<a href="#l5.101"></a><span id="l5.101">     // ... and the extras!</span>
<a href="#l5.102"></a><span id="l5.102">     document.getElementById('markAsReadDelay').disabled =</span>
<a href="#l5.103"></a><span id="l5.103">       (!enableRadioGroup ||</span>
<a href="#l5.104"></a><span id="l5.104">        !document.getElementById(&quot;mailnews.mark_message_read.delay&quot;).value);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/components/preferences/advanced.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/components/preferences/advanced.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -76,29 +76,31 @@</span>
<a href="#l6.4"></a><span id="l6.4">                   name=&quot;mailnews.mark_message_read.delay.interval&quot; type=&quot;int&quot;/&gt;</span>
<a href="#l6.5"></a><span id="l6.5">       &lt;preference id=&quot;mailnews.reuse_message_window&quot; name=&quot;mailnews.reuse_message_window&quot; type=&quot;bool&quot;/&gt;</span>
<a href="#l6.6"></a><span id="l6.6">       &lt;!-- Network tab --&gt;</span>
<a href="#l6.7"></a><span id="l6.7">       &lt;preference id=&quot;mail.prompt_purge_threshhold&quot;          name=&quot;mail.prompt_purge_threshhold&quot;    type=&quot;bool&quot;/&gt;</span>
<a href="#l6.8"></a><span id="l6.8">       &lt;preference id=&quot;mail.purge_threshhold&quot;                 name=&quot;mail.purge_threshhold&quot;    type=&quot;int&quot;/&gt;</span>
<a href="#l6.9"></a><span id="l6.9">       &lt;preference id=&quot;browser.cache.disk.capacity&quot;</span>
<a href="#l6.10"></a><span id="l6.10">                   name=&quot;browser.cache.disk.capacity&quot; type=&quot;int&quot;/&gt;</span>
<a href="#l6.11"></a><span id="l6.11">       &lt;!-- Update tab --&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l6.13"></a><span id="l6.13">       &lt;preference id=&quot;app.update.enabled&quot; name=&quot;app.update.enabled&quot; type=&quot;bool&quot;</span>
<a href="#l6.14"></a><span id="l6.14">                   onchange=&quot;gAdvancedPane.updateAppUpdateItems();</span>
<a href="#l6.15"></a><span id="l6.15">                             gAdvancedPane.updateAutoItems();</span>
<a href="#l6.16"></a><span id="l6.16">                             gAdvancedPane.updateModeItems();&quot;/&gt;</span>
<a href="#l6.17"></a><span id="l6.17">       &lt;preference id=&quot;app.update.auto&quot; name=&quot;app.update.auto&quot; type=&quot;bool&quot;</span>
<a href="#l6.18"></a><span id="l6.18">                   onchange=&quot;gAdvancedPane.updateAutoItems(); gAdvancedPane.updateModeItems();&quot;/&gt;</span>
<a href="#l6.19"></a><span id="l6.19">       &lt;preference id=&quot;app.update.mode&quot; name=&quot;app.update.mode&quot; type=&quot;int&quot;</span>
<a href="#l6.20"></a><span id="l6.20">                   onchange=&quot;gAdvancedPane.updateModeItems();&quot;/&gt;</span>
<a href="#l6.21"></a><span id="l6.21" class="difflineminus">-      &lt;preference id=&quot;extensions.update.enabled&quot; name=&quot;extensions.update.enabled&quot; type=&quot;bool&quot;</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineminus">-                  onchange=&quot;gAdvancedPane.updateAddonUpdateUI();&quot;/&gt;</span>
<a href="#l6.23"></a><span id="l6.23">       &lt;preference id=&quot;app.update.disable_button.showUpdateHistory&quot;</span>
<a href="#l6.24"></a><span id="l6.24">                   name=&quot;app.update.disable_button.showUpdateHistory&quot;</span>
<a href="#l6.25"></a><span id="l6.25">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l6.26"></a><span id="l6.26" class="difflineplus">+#endif</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineplus">+      &lt;preference id=&quot;extensions.update.enabled&quot; name=&quot;extensions.update.enabled&quot; type=&quot;bool&quot;</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineplus">+                  onchange=&quot;gAdvancedPane.updateAddonUpdateUI();&quot;/&gt;</span>
<a href="#l6.29"></a><span id="l6.29">       &lt;!-- Certificates tab --&gt;</span>
<a href="#l6.30"></a><span id="l6.30">       &lt;preference id=&quot;security.disable_button.openCertManager&quot;</span>
<a href="#l6.31"></a><span id="l6.31">                   name=&quot;security.disable_button.openCertManager&quot;</span>
<a href="#l6.32"></a><span id="l6.32">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l6.33"></a><span id="l6.33">       &lt;preference id=&quot;security.OCSP.disable_button.managecrl&quot;</span>
<a href="#l6.34"></a><span id="l6.34">                   name=&quot;security.OCSP.disable_button.managecrl&quot;</span>
<a href="#l6.35"></a><span id="l6.35">                   type=&quot;bool&quot;/&gt;</span>
<a href="#l6.36"></a><span id="l6.36">       &lt;preference id=&quot;security.disable_button.openDeviceManager&quot;</span>
<a href="#l6.37"></a><span id="l6.37" class="difflineat">@@ -281,25 +283,28 @@</span>
<a href="#l6.38"></a><span id="l6.38">           &lt;/groupbox&gt;</span>
<a href="#l6.39"></a><span id="l6.39">         &lt;/tabpanel&gt;</span>
<a href="#l6.40"></a><span id="l6.40"> </span>
<a href="#l6.41"></a><span id="l6.41">         &lt;!-- Update --&gt;</span>
<a href="#l6.42"></a><span id="l6.42"> </span>
<a href="#l6.43"></a><span id="l6.43">         &lt;tabpanel orient=&quot;vertical&quot; align=&quot;start&quot;&gt;</span>
<a href="#l6.44"></a><span id="l6.44">           &lt;label control=&quot;autoUpdateGroup&quot;&gt;&amp;autoCheck.label;&lt;/label&gt;</span>
<a href="#l6.45"></a><span id="l6.45">           &lt;vbox class=&quot;indent&quot; id=&quot;autoUpdateGroup&quot; role=&quot;group&quot;&gt;</span>
<a href="#l6.46"></a><span id="l6.46" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l6.47"></a><span id="l6.47">             &lt;checkbox id=&quot;enableAppUpdate&quot;</span>
<a href="#l6.48"></a><span id="l6.48">                       label=&quot;&amp;enableAppUpdate.label;&quot;</span>
<a href="#l6.49"></a><span id="l6.49">                       accesskey=&quot;&amp;enableAppUpdate.accesskey;&quot;</span>
<a href="#l6.50"></a><span id="l6.50">                       preference=&quot;app.update.enabled&quot;/&gt;</span>
<a href="#l6.51"></a><span id="l6.51" class="difflineplus">+#endif</span>
<a href="#l6.52"></a><span id="l6.52">             &lt;checkbox id=&quot;enableAddonUpdate&quot;</span>
<a href="#l6.53"></a><span id="l6.53">                       label=&quot;&amp;enableAddonsUpdate.label;&quot;</span>
<a href="#l6.54"></a><span id="l6.54">                       accesskey=&quot;&amp;enableAddonsUpdate.accesskey;&quot;</span>
<a href="#l6.55"></a><span id="l6.55">                       preference=&quot;extensions.update.enabled&quot;/&gt;</span>
<a href="#l6.56"></a><span id="l6.56">           &lt;/vbox&gt;</span>
<a href="#l6.57"></a><span id="l6.57" class="difflineplus">+#ifdef MOZ_UPDATER</span>
<a href="#l6.58"></a><span id="l6.58">           &lt;separator/&gt;</span>
<a href="#l6.59"></a><span id="l6.59">           &lt;label id=&quot;updateModeLabel&quot; control=&quot;updateMode&quot;&gt;&amp;whenUpdatesFound.label;&lt;/label&gt;</span>
<a href="#l6.60"></a><span id="l6.60">           &lt;radiogroup id=&quot;updateMode&quot; class=&quot;indent&quot;</span>
<a href="#l6.61"></a><span id="l6.61">                       preference=&quot;app.update.auto&quot;&gt;</span>
<a href="#l6.62"></a><span id="l6.62">             &lt;radio id=&quot;ask&quot; value=&quot;false&quot;</span>
<a href="#l6.63"></a><span id="l6.63">                    label=&quot;&amp;modeAskMe.label;&quot;</span>
<a href="#l6.64"></a><span id="l6.64">                    accesskey=&quot;&amp;modeAskMe.accesskey;&quot;/&gt;</span>
<a href="#l6.65"></a><span id="l6.65">             &lt;radio id=&quot;automatic&quot; value=&quot;true&quot;</span>
<a href="#l6.66"></a><span id="l6.66" class="difflineat">@@ -315,16 +320,17 @@</span>
<a href="#l6.67"></a><span id="l6.67">           &lt;/radiogroup&gt;</span>
<a href="#l6.68"></a><span id="l6.68">           &lt;separator/&gt;</span>
<a href="#l6.69"></a><span id="l6.69">           &lt;hbox&gt;</span>
<a href="#l6.70"></a><span id="l6.70">             &lt;button id=&quot;showUpdateHistory&quot;</span>
<a href="#l6.71"></a><span id="l6.71">                     label=&quot;&amp;showUpdates.label;&quot; accesskey=&quot;&amp;showUpdates.accesskey;&quot;</span>
<a href="#l6.72"></a><span id="l6.72">                     preference=&quot;app.update.disable_button.showUpdateHistory&quot;</span>
<a href="#l6.73"></a><span id="l6.73">                     oncommand=&quot;gAdvancedPane.showUpdates();&quot;/&gt;</span>
<a href="#l6.74"></a><span id="l6.74">           &lt;/hbox&gt;</span>
<a href="#l6.75"></a><span id="l6.75" class="difflineplus">+#endif</span>
<a href="#l6.76"></a><span id="l6.76">         &lt;/tabpanel&gt;</span>
<a href="#l6.77"></a><span id="l6.77"> </span>
<a href="#l6.78"></a><span id="l6.78">         &lt;!-- Certificates --&gt;</span>
<a href="#l6.79"></a><span id="l6.79">         &lt;tabpanel orient=&quot;vertical&quot;&gt;</span>
<a href="#l6.80"></a><span id="l6.80">           &lt;hbox&gt;</span>
<a href="#l6.81"></a><span id="l6.81">             &lt;button label=&quot;&amp;viewCertificates.label;&quot; accesskey=&quot;&amp;viewCertificates.accesskey;&quot;</span>
<a href="#l6.82"></a><span id="l6.82">                     oncommand=&quot;gAdvancedPane.showCertificates();&quot;</span>
<a href="#l6.83"></a><span id="l6.83">                     preference=&quot;security.disable_button.openCertManager&quot;/&gt;</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

