<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 17692:88e60fbcd53a126a47903fc2a042e1076903438b</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 88e60fbcd53a126a47903fc2a042e1076903438b" />
<meta property="og:url" content="/comm-central/rev/88e60fbcd53a126a47903fc2a042e1076903438b" />
<meta property="og:description" content="Bug 38489 Combined To/From column in thread pane r=mkmelin ui-r=bwinton" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 88e60fbcd53a126a47903fc2a042e1076903438b &#x2620;
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/88e60fbcd53a126a47903fc2a042e1076903438b">shortlog</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/88e60fbcd53a126a47903fc2a042e1076903438b">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b">files</a> |
changeset |
<a href="/comm-central/raw-rev/88e60fbcd53a126a47903fc2a042e1076903438b">raw</a>  | <a href="/comm-central/archive/88e60fbcd53a126a47903fc2a042e1076903438b.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=38489">Bug 38489</a> Combined To/From column in thread pane r=mkmelin ui-r=bwinton
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">
<tr><td colspan="2" style="background:#ff3333;"><strong>&#x2620;&#x2620; backed out by <a style="font-family: monospace" href="/comm-central/rev/9907b50b939f">9907b50b939f</a> &#x2620; &#x2620;</strong></td></tr>
<tr><td>author</td><td>&#78;&#101;&#105;&#108;&#32;&#82;&#97;&#115;&#104;&#98;&#114;&#111;&#111;&#107;&#32;&#60;&#110;&#101;&#105;&#108;&#64;&#112;&#97;&#114;&#107;&#119;&#97;&#121;&#99;&#99;&#46;&#99;&#111;&#46;&#117;&#107;&#62;</td></tr>
<tr><td></td><td class="date age">Mon, 23 Mar 2015 17:58:57 +0000</td></tr>

<tr>
 <td>changeset 17692</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/88e60fbcd53a126a47903fc2a042e1076903438b">88e60fbcd53a126a47903fc2a042e1076903438b</a></td>
</tr>



<tr>
<td>parent 17691</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/4d339705ffc05e8e62f6395ce91c0580a576b711">4d339705ffc05e8e62f6395ce91c0580a576b711</a>
</td>
</tr>

<tr>
<td>child 17693</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/9907b50b939f02a478d4649697255c2520c9efc6">9907b50b939f02a478d4649697255c2520c9efc6</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=88e60fbcd53a126a47903fc2a042e1076903438b">10894</a></td></tr>
<tr><td>push user</td><td>neil@parkwaycc.co.uk</td></tr>
<tr><td>push date</td><td class="date age">Mon, 23 Mar 2015 18:03:01 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@88e60fbcd53a [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=88e60fbcd53a126a47903fc2a042e1076903438b">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=88e60fbcd53a126a47903fc2a042e1076903438b&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=88e60fbcd53a126a47903fc2a042e1076903438b&newProject=comm-central&newRevision=4d339705ffc05e8e62f6395ce91c0580a576b711&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=88e60fbcd53a126a47903fc2a042e1076903438b&newProject=comm-central&newRevision=4d339705ffc05e8e62f6395ce91c0580a576b711&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=88e60fbcd53a126a47903fc2a042e1076903438b&newProject=comm-central&newRevision=4d339705ffc05e8e62f6395ce91c0580a576b711&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28mkmelin%29&revcount=50">mkmelin</a>, <a href="/comm-central/log?rev=reviewer%28bwinton%29&revcount=50">bwinton</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=38489">38489</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=38489">Bug 38489</a> Combined To/From column in thread pane r=mkmelin ui-r=bwinton</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.js">mail/base/content/SearchDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.xul">mail/base/content/SearchDialog.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.xul">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.xul">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.xul">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.xul">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/SearchDialog.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/commandglue.js">mail/base/content/commandglue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/commandglue.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/commandglue.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/commandglue.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/commandglue.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/commandglue.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/folderDisplay.js">mail/base/content/folderDisplay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/folderDisplay.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/folderDisplay.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/folderDisplay.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/folderDisplay.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/folderDisplay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.js">mail/base/content/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.xul">mail/base/content/mailWindowOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.xul">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.xul">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.xul">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.xul">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/mailWindowOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.css">mail/base/content/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.css">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.css">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.css">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.css">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.xul">mail/base/content/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.xul">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.xul">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.xul">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.xul">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/tabmail.css">mail/base/content/tabmail.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/tabmail.css">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/tabmail.css">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/tabmail.css">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/tabmail.css">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/tabmail.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/threadPane.js">mail/base/content/threadPane.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/threadPane.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/threadPane.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/threadPane.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/threadPane.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/content/threadPane.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/modules/dbViewWrapper.js">mail/base/modules/dbViewWrapper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/modules/dbViewWrapper.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/modules/dbViewWrapper.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/modules/dbViewWrapper.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/modules/dbViewWrapper.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/base/modules/dbViewWrapper.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd">mail/locales/en-US/chrome/messenger/SearchDialog.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/messenger.dtd">mail/locales/en-US/chrome/messenger/messenger.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/messenger.dtd">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/messenger.dtd">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/messenger.dtd">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/messenger.dtd">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/locales/en-US/chrome/messenger/messenger.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/icons/message.png">mail/themes/linux/mail/icons/message.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/icons/message.png">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/icons/message.png">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/icons/message.png">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/icons/message.png">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/icons/message.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/mailWindow1.css">mail/themes/linux/mail/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/linux/mail/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col.png">mail/themes/osx/mail/icons/threadpane-col.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col.png">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col.png">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col.png">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col.png">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col%402x.png">mail/themes/osx/mail/icons/threadpane-col@2x.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col%402x.png">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col%402x.png">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col%402x.png">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col%402x.png">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/icons/threadpane-col%402x.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/mailWindow1.css">mail/themes/osx/mail/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/osx/mail/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message-aero.png">mail/themes/windows/mail/icons/message-aero.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message-aero.png">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message-aero.png">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message-aero.png">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message-aero.png">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message-aero.png">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message.png">mail/themes/windows/mail/icons/message.png</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message.png">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message.png">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message.png">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message.png">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/icons/message.png">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/mailWindow1.css">mail/themes/windows/mail/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mail/themes/windows/mail/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/public/nsIMsgDBView.idl">mailnews/base/public/nsIMsgDBView.idl</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/public/nsIMsgDBView.idl">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/public/nsIMsgDBView.idl">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/public/nsIMsgDBView.idl">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/public/nsIMsgDBView.idl">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/public/nsIMsgDBView.idl">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.cpp">mailnews/base/src/nsMsgDBView.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.cpp">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.cpp">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.cpp">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.cpp">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.h">mailnews/base/src/nsMsgDBView.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.h">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.h">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.h">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.h">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgDBView.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgGroupView.cpp">mailnews/base/src/nsMsgGroupView.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgGroupView.cpp">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgGroupView.cpp">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgGroupView.cpp">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgGroupView.cpp">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/base/src/nsMsgGroupView.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/db/gloda/modules/dbview.js">mailnews/db/gloda/modules/dbview.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/db/gloda/modules/dbview.js">file</a> |
<a href="/comm-central/annotate/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/db/gloda/modules/dbview.js">annotate</a> |
<a href="/comm-central/diff/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/db/gloda/modules/dbview.js">diff</a> |
<a href="/comm-central/comparison/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/db/gloda/modules/dbview.js">comparison</a> |
<a href="/comm-central/log/88e60fbcd53a126a47903fc2a042e1076903438b/mailnews/db/gloda/modules/dbview.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/base/content/SearchDialog.js</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/base/content/SearchDialog.js</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -238,17 +238,17 @@ function searchOnLoad()</span>
<a href="#l1.4"></a><span id="l1.4">   gFolderDisplay.tree = document.getElementById(&quot;threadTree&quot;);</span>
<a href="#l1.5"></a><span id="l1.5">   gFolderDisplay.treeBox = gFolderDisplay.tree.boxObject.QueryInterface(</span>
<a href="#l1.6"></a><span id="l1.6">                              Components.interfaces.nsITreeBoxObject);</span>
<a href="#l1.7"></a><span id="l1.7">   gFolderDisplay.view.openSearchView();</span>
<a href="#l1.8"></a><span id="l1.8">   gFolderDisplay.makeActive();</span>
<a href="#l1.9"></a><span id="l1.9"> </span>
<a href="#l1.10"></a><span id="l1.10">   gFolderDisplay.setColumnStates({</span>
<a href="#l1.11"></a><span id="l1.11">     subjectCol: { visible: true },</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    senderCol: { visible: true },</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    correspondentCol: { visible: true },</span>
<a href="#l1.14"></a><span id="l1.14">     dateCol: { visible: true },</span>
<a href="#l1.15"></a><span id="l1.15">     locationCol: { visible: true },</span>
<a href="#l1.16"></a><span id="l1.16">   });</span>
<a href="#l1.17"></a><span id="l1.17"> </span>
<a href="#l1.18"></a><span id="l1.18">   if (window.arguments &amp;&amp; window.arguments[0])</span>
<a href="#l1.19"></a><span id="l1.19">       updateSearchFolderPicker(window.arguments[0].folder);</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21">   // trigger searchTermOverlay.js to create the first criterion</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mail/base/content/SearchDialog.xul</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mail/base/content/SearchDialog.xul</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -135,16 +135,19 @@</span>
<a href="#l2.4"></a><span id="l2.4">             &lt;treecol id=&quot;senderCol&quot; persist=&quot;hidden swappedhidden ordinal width&quot; flex=&quot;4&quot;</span>
<a href="#l2.5"></a><span id="l2.5">                      hidden=&quot;false&quot; swappedhidden=&quot;true&quot;</span>
<a href="#l2.6"></a><span id="l2.6">                      label=&quot;&amp;fromColumn.label;&quot; tooltiptext=&quot;&amp;fromColumn2.tooltip;&quot;/&gt;</span>
<a href="#l2.7"></a><span id="l2.7">             &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l2.8"></a><span id="l2.8">             &lt;treecol id=&quot;recipientCol&quot; persist=&quot;hidden swappedhidden ordinal width&quot; flex=&quot;4&quot;</span>
<a href="#l2.9"></a><span id="l2.9">                      hidden=&quot;true&quot; swappedhidden=&quot;false&quot;</span>
<a href="#l2.10"></a><span id="l2.10">                      label=&quot;&amp;recipientColumn.label;&quot; tooltiptext=&quot;&amp;recipientColumn2.tooltip;&quot;/&gt;</span>
<a href="#l2.11"></a><span id="l2.11">             &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+            &lt;treecol id=&quot;correspondentCol&quot; persist=&quot;hidden ordinal width&quot; flex=&quot;4&quot;</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+                     label=&quot;&amp;correspondentColumn.label;&quot; tooltiptext=&quot;&amp;correspondentColumn2.tooltip;&quot;/&gt;</span>
<a href="#l2.14"></a><span id="l2.14" class="difflineplus">+            &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l2.15"></a><span id="l2.15">             &lt;treecol id=&quot;unreadButtonColHeader&quot; persist=&quot;hidden ordinal&quot; fixed=&quot;true&quot; cycler=&quot;true&quot;</span>
<a href="#l2.16"></a><span id="l2.16">                      class=&quot;treecol-image readColumnHeader&quot;</span>
<a href="#l2.17"></a><span id="l2.17">                      label=&quot;&amp;readColumn.label;&quot; tooltiptext=&quot;&amp;readColumn2.tooltip;&quot;/&gt;</span>
<a href="#l2.18"></a><span id="l2.18">             &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l2.19"></a><span id="l2.19">             &lt;treecol id=&quot;dateCol&quot; persist=&quot;hidden ordinal width&quot; flex=&quot;2&quot;</span>
<a href="#l2.20"></a><span id="l2.20">                      label=&quot;&amp;dateColumn.label;&quot; tooltiptext=&quot;&amp;dateColumn2.tooltip;&quot;/&gt;</span>
<a href="#l2.21"></a><span id="l2.21">             &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l2.22"></a><span id="l2.22">             &lt;treecol id=&quot;statusCol&quot; persist=&quot;hidden ordinal width&quot; flex=&quot;1&quot; hidden=&quot;true&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mail/base/content/commandglue.js</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mail/base/content/commandglue.js</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -256,16 +256,19 @@ function ConvertSortTypeToColumnID(sortK</span>
<a href="#l3.4"></a><span id="l3.4">         columnID = gDBView.curCustomColumn;</span>
<a href="#l3.5"></a><span id="l3.5">       }</span>
<a href="#l3.6"></a><span id="l3.6">       catch (err) { //error - means no handler</span>
<a href="#l3.7"></a><span id="l3.7">         dump(&quot;ConvertSortTypeToColumnID: custom sort key but no handler for column '&quot; + columnID + &quot;'\n&quot;);</span>
<a href="#l3.8"></a><span id="l3.8">         columnID = &quot;dateCol&quot;;</span>
<a href="#l3.9"></a><span id="l3.9">       }</span>
<a href="#l3.10"></a><span id="l3.10"> </span>
<a href="#l3.11"></a><span id="l3.11">       break;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+    case nsMsgViewSortType.byCorrespondent:</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+      columnID = &quot;correspondentCol&quot;;</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+      break;</span>
<a href="#l3.15"></a><span id="l3.15">     default:</span>
<a href="#l3.16"></a><span id="l3.16">       dump(&quot;unsupported sort key: &quot; + sortKey + &quot;\n&quot;);</span>
<a href="#l3.17"></a><span id="l3.17">       columnID = &quot;dateCol&quot;;</span>
<a href="#l3.18"></a><span id="l3.18">       break;</span>
<a href="#l3.19"></a><span id="l3.19">   }</span>
<a href="#l3.20"></a><span id="l3.20">   return columnID;</span>
<a href="#l3.21"></a><span id="l3.21"> }</span>
<a href="#l3.22"></a><span id="l3.22"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mail/base/content/folderDisplay.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mail/base/content/folderDisplay.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -368,18 +368,18 @@ FolderDisplayWidget.prototype = {</span>
<a href="#l4.4"></a><span id="l4.4">    *  it is actually an appropriate default for the folder type.</span>
<a href="#l4.5"></a><span id="l4.5">    */</span>
<a href="#l4.6"></a><span id="l4.6">   DEFAULT_COLUMNS: [</span>
<a href="#l4.7"></a><span id="l4.7">     &quot;threadCol&quot;,</span>
<a href="#l4.8"></a><span id="l4.8">     &quot;attachmentCol&quot;,</span>
<a href="#l4.9"></a><span id="l4.9">     &quot;flaggedCol&quot;,</span>
<a href="#l4.10"></a><span id="l4.10">     &quot;subjectCol&quot;,</span>
<a href="#l4.11"></a><span id="l4.11">     &quot;unreadButtonColHeader&quot;,</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    &quot;senderCol&quot;, // incoming folders</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-    &quot;recipientCol&quot;, // outgoing folders</span>
<a href="#l4.14"></a><span id="l4.14" class="difflineplus">+    &quot;senderCol&quot;, // news folders</span>
<a href="#l4.15"></a><span id="l4.15" class="difflineplus">+    &quot;correspondentCol&quot;, // mail folders</span>
<a href="#l4.16"></a><span id="l4.16">     &quot;junkStatusCol&quot;,</span>
<a href="#l4.17"></a><span id="l4.17">     &quot;dateCol&quot;,</span>
<a href="#l4.18"></a><span id="l4.18">     &quot;locationCol&quot;, // multiple-folder backed folders</span>
<a href="#l4.19"></a><span id="l4.19">   ],</span>
<a href="#l4.20"></a><span id="l4.20"> </span>
<a href="#l4.21"></a><span id="l4.21">   /**</span>
<a href="#l4.22"></a><span id="l4.22">    * Maps column ids to functions that test whether the column is a good default</span>
<a href="#l4.23"></a><span id="l4.23">    *  for display for the folder.  Each function should expect a DBViewWrapper</span>
<a href="#l4.24"></a><span id="l4.24" class="difflineat">@@ -387,23 +387,23 @@ FolderDisplayWidget.prototype = {</span>
<a href="#l4.25"></a><span id="l4.25">    *  properties like isMailFolder/isIncomingFolder/isOutgoingFolder allow the</span>
<a href="#l4.26"></a><span id="l4.26">    *  constraint to be expressed concisely.  If a helper does not exist, add</span>
<a href="#l4.27"></a><span id="l4.27">    *  one! (If doing so is out of reach, than access viewWrapper.displayedFolder</span>
<a href="#l4.28"></a><span id="l4.28">    *  to get at the nsIMsgFolder.)</span>
<a href="#l4.29"></a><span id="l4.29">    * If a column does not have a function, it is assumed that it should be</span>
<a href="#l4.30"></a><span id="l4.30">    *  displayed by default.</span>
<a href="#l4.31"></a><span id="l4.31">    */</span>
<a href="#l4.32"></a><span id="l4.32">   COLUMN_DEFAULT_TESTERS: {</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">-    // senderCol = From.  You only care in incoming folders.</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">-    senderCol: function (viewWrapper) {</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">-      return viewWrapper.isIncomingFolder;</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineplus">+    // Don't show the correspondent for news or RSS where it doesn't make sense.</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineplus">+    correspondentCol: function (viewWrapper) {</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineplus">+      return viewWrapper.isMailFolder &amp;&amp; !viewWrapper.isFeedFolder;</span>
<a href="#l4.39"></a><span id="l4.39">     },</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-    // recipient = To. You only care in outgoing folders.</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-    recipientCol: function (viewWrapper) {</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-      return viewWrapper.isOutgoingFolder;</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineplus">+    // Instead show the sender.</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineplus">+    senderCol: function (viewWrapper) {</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineplus">+      return viewWrapper.isNewsFolder || viewWrapper.isFeedFolder;</span>
<a href="#l4.46"></a><span id="l4.46">     },</span>
<a href="#l4.47"></a><span id="l4.47">     // Only show the location column for non-single-folder results</span>
<a href="#l4.48"></a><span id="l4.48">     locationCol: function(viewWrapper) {</span>
<a href="#l4.49"></a><span id="l4.49">       return !viewWrapper.isSingleFolder;</span>
<a href="#l4.50"></a><span id="l4.50">     },</span>
<a href="#l4.51"></a><span id="l4.51">     // core UI does not provide an ability to mark newsgroup messages as spam</span>
<a href="#l4.52"></a><span id="l4.52">     junkStatusCol: function(viewWrapper) {</span>
<a href="#l4.53"></a><span id="l4.53">       return !viewWrapper.isNewsFolder;</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineat">@@ -682,16 +682,40 @@ FolderDisplayWidget.prototype = {</span>
<a href="#l4.55"></a><span id="l4.55">     this._savedColumnStates = this.getColumnStates();</span>
<a href="#l4.56"></a><span id="l4.56">   },</span>
<a href="#l4.57"></a><span id="l4.57"> </span>
<a href="#l4.58"></a><span id="l4.58">   /**</span>
<a href="#l4.59"></a><span id="l4.59">    * Restores the visible columns saved by |_saveColumnStates|.</span>
<a href="#l4.60"></a><span id="l4.60">    */</span>
<a href="#l4.61"></a><span id="l4.61">   _restoreColumnStates: function FolderDisplayWidget__restoreColumnStates() {</span>
<a href="#l4.62"></a><span id="l4.62">     if (this._savedColumnStates) {</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineplus">+      // upgrade column states that don't have a correspondent column</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineplus">+      if (!(&quot;correspondentCol&quot; in this._savedColumnStates)) {</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineplus">+        this._savedColumnStates.correspondentCol =</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineplus">+          this._getDefaultColumnsForCurrentFolder().correspondentCol;</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineplus">+        if (this._savedColumnStates.correspondentCol.visible) {</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineplus">+          if (this._savedColumnStates.senderCol &amp;&amp;</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineplus">+            this._savedColumnStates.senderCol.visible &amp;&amp;</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+            this._savedColumnStates.senderCol.ordinal) {</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineplus">+            this._savedColumnStates.senderCol.visible = false;</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineplus">+            this._savedColumnStates.correspondentCol.ordinal =</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineplus">+              this._savedColumnStates.senderCol.ordinal;</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineplus">+          }</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineplus">+          if (this._savedColumnStates.recipientCol &amp;&amp;</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineplus">+            this._savedColumnStates.recipientCol.visible &amp;&amp;</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineplus">+            this._savedColumnStates.recipientCol.ordinal) {</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineplus">+            this._savedColumnStates.recipientCol.visible = false;</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineplus">+            this._savedColumnStates.correspondentCol.ordinal =</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineplus">+              this._savedColumnStates.recipientCol.ordinal;</span>
<a href="#l4.81"></a><span id="l4.81" class="difflineplus">+          }</span>
<a href="#l4.82"></a><span id="l4.82" class="difflineplus">+          if (!this._savedColumnStates.correspondentCol.ordinal)</span>
<a href="#l4.83"></a><span id="l4.83" class="difflineplus">+            this._savedColumnStates.correspondentCol.visible = false;</span>
<a href="#l4.84"></a><span id="l4.84" class="difflineplus">+        }</span>
<a href="#l4.85"></a><span id="l4.85" class="difflineplus">+      }</span>
<a href="#l4.86"></a><span id="l4.86" class="difflineplus">+</span>
<a href="#l4.87"></a><span id="l4.87">       this.setColumnStates(this._savedColumnStates);</span>
<a href="#l4.88"></a><span id="l4.88">       this._savedColumnStates = null;</span>
<a href="#l4.89"></a><span id="l4.89">     }</span>
<a href="#l4.90"></a><span id="l4.90">   },</span>
<a href="#l4.91"></a><span id="l4.91">   //@}</span>
<a href="#l4.92"></a><span id="l4.92"> </span>
<a href="#l4.93"></a><span id="l4.93">   /**</span>
<a href="#l4.94"></a><span id="l4.94">    * @name What To Display</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.js</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.js</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -314,25 +314,26 @@ function InitViewSortByMenu()</span>
<a href="#l5.4"></a><span id="l5.4">   setSortByMenuItemCheckState(&quot;sortByStatusMenuitem&quot;, (sortType == nsMsgViewSortType.byStatus));</span>
<a href="#l5.5"></a><span id="l5.5">   setSortByMenuItemCheckState(&quot;sortBySubjectMenuitem&quot;, (sortType == nsMsgViewSortType.bySubject));</span>
<a href="#l5.6"></a><span id="l5.6">   setSortByMenuItemCheckState(&quot;sortByUnreadMenuitem&quot;, (sortType == nsMsgViewSortType.byUnread));</span>
<a href="#l5.7"></a><span id="l5.7">   setSortByMenuItemCheckState(&quot;sortByTagsMenuitem&quot;, (sortType == nsMsgViewSortType.byTags));</span>
<a href="#l5.8"></a><span id="l5.8">   setSortByMenuItemCheckState(&quot;sortByJunkStatusMenuitem&quot;, (sortType == nsMsgViewSortType.byJunkStatus));</span>
<a href="#l5.9"></a><span id="l5.9">   setSortByMenuItemCheckState(&quot;sortByFromMenuitem&quot;, (sortType == nsMsgViewSortType.byAuthor));</span>
<a href="#l5.10"></a><span id="l5.10">   setSortByMenuItemCheckState(&quot;sortByRecipientMenuitem&quot;, (sortType == nsMsgViewSortType.byRecipient));</span>
<a href="#l5.11"></a><span id="l5.11">   setSortByMenuItemCheckState(&quot;sortByAttachmentsMenuitem&quot;, (sortType == nsMsgViewSortType.byAttachments));</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+  setSortByMenuItemCheckState(&quot;sortByCorrespondentMenuitem&quot;, (sortType == nsMsgViewSortType.byCorrespondent));</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14">   var sortOrder = gFolderDisplay.view.primarySortOrder;</span>
<a href="#l5.15"></a><span id="l5.15">   var sortTypeSupportsGrouping = (sortType == nsMsgViewSortType.byAuthor ||</span>
<a href="#l5.16"></a><span id="l5.16">       sortType == nsMsgViewSortType.byDate || sortType == nsMsgViewSortType.byReceived ||</span>
<a href="#l5.17"></a><span id="l5.17">       sortType == nsMsgViewSortType.byPriority ||</span>
<a href="#l5.18"></a><span id="l5.18">       sortType == nsMsgViewSortType.bySubject || sortType == nsMsgViewSortType.byTags ||</span>
<a href="#l5.19"></a><span id="l5.19">       sortType == nsMsgViewSortType.byRecipient || sortType == nsMsgViewSortType.byAccount ||</span>
<a href="#l5.20"></a><span id="l5.20">       sortType == nsMsgViewSortType.byStatus || sortType == nsMsgViewSortType.byFlagged ||</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineminus">-      sortType == nsMsgViewSortType.byAttachments);</span>
<a href="#l5.22"></a><span id="l5.22" class="difflineplus">+      sortType == nsMsgViewSortType.byAttachments || sortType == nsMsgViewSortType.byCorrespondent);</span>
<a href="#l5.23"></a><span id="l5.23"> </span>
<a href="#l5.24"></a><span id="l5.24">   setSortByMenuItemCheckState(&quot;sortAscending&quot;, (sortOrder == nsMsgViewSortOrder.ascending));</span>
<a href="#l5.25"></a><span id="l5.25">   setSortByMenuItemCheckState(&quot;sortDescending&quot;, (sortOrder == nsMsgViewSortOrder.descending));</span>
<a href="#l5.26"></a><span id="l5.26"> </span>
<a href="#l5.27"></a><span id="l5.27">   var grouped = gFolderDisplay.view.showGroupedBySort;</span>
<a href="#l5.28"></a><span id="l5.28">   var threaded = gFolderDisplay.view.showThreaded;</span>
<a href="#l5.29"></a><span id="l5.29">   var sortThreadedMenuItem = document.getElementById(&quot;sortThreaded&quot;);</span>
<a href="#l5.30"></a><span id="l5.30">   var sortUnthreadedMenuItem = document.getElementById(&quot;sortUnthreaded&quot;);</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineat">@@ -371,17 +372,18 @@ function InitAppViewSortByMenu()</span>
<a href="#l5.32"></a><span id="l5.32">                                   sortType == nsMsgViewSortType.byReceived ||</span>
<a href="#l5.33"></a><span id="l5.33">                                   sortType == nsMsgViewSortType.byPriority ||</span>
<a href="#l5.34"></a><span id="l5.34">                                   sortType == nsMsgViewSortType.bySubject ||</span>
<a href="#l5.35"></a><span id="l5.35">                                   sortType == nsMsgViewSortType.byTags ||</span>
<a href="#l5.36"></a><span id="l5.36">                                   sortType == nsMsgViewSortType.byRecipient ||</span>
<a href="#l5.37"></a><span id="l5.37">                                   sortType == nsMsgViewSortType.byAccount ||</span>
<a href="#l5.38"></a><span id="l5.38">                                   sortType == nsMsgViewSortType.byStatus ||</span>
<a href="#l5.39"></a><span id="l5.39">                                   sortType == nsMsgViewSortType.byFlagged ||</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineminus">-                                  sortType == nsMsgViewSortType.byAttachments);</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+                                  sortType == nsMsgViewSortType.byAttachments ||</span>
<a href="#l5.42"></a><span id="l5.42" class="difflineplus">+                                  sortType == nsMsgViewSortType.byCorrespondent);</span>
<a href="#l5.43"></a><span id="l5.43"> </span>
<a href="#l5.44"></a><span id="l5.44">   setSortByMenuItemCheckState(&quot;appmenu_sortAscending&quot;, (sortOrder == nsMsgViewSortOrder.ascending));</span>
<a href="#l5.45"></a><span id="l5.45">   setSortByMenuItemCheckState(&quot;appmenu_sortDescending&quot;, (sortOrder == nsMsgViewSortOrder.descending));</span>
<a href="#l5.46"></a><span id="l5.46"> </span>
<a href="#l5.47"></a><span id="l5.47">   let grouped = gFolderDisplay.view.showGroupedBySort;</span>
<a href="#l5.48"></a><span id="l5.48">   let threaded = gFolderDisplay.view.showThreaded;</span>
<a href="#l5.49"></a><span id="l5.49">   let sortThreadedMenuItem = document.getElementById(&quot;appmenu_sortThreaded&quot;);</span>
<a href="#l5.50"></a><span id="l5.50">   let sortUnthreadedMenuItem = document.getElementById(&quot;appmenu_sortUnthreaded&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1475,16 +1475,21 @@</span>
<a href="#l6.4"></a><span id="l6.4">                           name=&quot;sortby&quot;</span>
<a href="#l6.5"></a><span id="l6.5">                           label=&quot;&amp;sortByFromCmd.label;&quot;</span>
<a href="#l6.6"></a><span id="l6.6">                           oncommand=&quot;MsgSortThreadPane('byAuthor')&quot;/&gt;</span>
<a href="#l6.7"></a><span id="l6.7">                 &lt;menuitem id=&quot;appmenu_sortByRecipientMenuitem&quot;</span>
<a href="#l6.8"></a><span id="l6.8">                           type=&quot;radio&quot;</span>
<a href="#l6.9"></a><span id="l6.9">                           name=&quot;sortby&quot;</span>
<a href="#l6.10"></a><span id="l6.10">                           label=&quot;&amp;sortByRecipientCmd.label;&quot;</span>
<a href="#l6.11"></a><span id="l6.11">                           oncommand=&quot;MsgSortThreadPane('byRecipient')&quot;/&gt;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+                &lt;menuitem id=&quot;appmenu_sortByCorrespondentMenuitem&quot;</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+                          type=&quot;radio&quot;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+                          name=&quot;sortby&quot;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+                          label=&quot;&amp;sortByCorrespondentCmd.label;&quot;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+                          oncommand=&quot;MsgSortThreadPane('byCorrespondent')&quot;/&gt;</span>
<a href="#l6.17"></a><span id="l6.17">                 &lt;menuitem id=&quot;appmenu_sortBySizeMenuitem&quot;</span>
<a href="#l6.18"></a><span id="l6.18">                           type=&quot;radio&quot;</span>
<a href="#l6.19"></a><span id="l6.19">                           name=&quot;sortby&quot;</span>
<a href="#l6.20"></a><span id="l6.20">                           label=&quot;&amp;sortBySizeCmd.label;&quot;</span>
<a href="#l6.21"></a><span id="l6.21">                           oncommand=&quot;MsgSortThreadPane('bySize')&quot;/&gt;</span>
<a href="#l6.22"></a><span id="l6.22">                 &lt;menuitem id=&quot;appmenu_sortByStatusMenuitem&quot;</span>
<a href="#l6.23"></a><span id="l6.23">                           type=&quot;radio&quot;</span>
<a href="#l6.24"></a><span id="l6.24">                           name=&quot;sortby&quot;</span>
<a href="#l6.25"></a><span id="l6.25" class="difflineat">@@ -2420,16 +2425,17 @@</span>
<a href="#l6.26"></a><span id="l6.26">           &lt;menupopup id=&quot;menu_viewSortPopup&quot; onpopupshowing=&quot;InitViewSortByMenu()&quot;&gt;</span>
<a href="#l6.27"></a><span id="l6.27">             &lt;menuitem id=&quot;sortByDateMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByDateCmd.label;&quot; accesskey=&quot;&amp;sortByDateCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byDate')&quot;/&gt;</span>
<a href="#l6.28"></a><span id="l6.28">             &lt;menuitem id=&quot;sortByReceivedMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByReceivedCmd.label;&quot; accesskey=&quot;&amp;sortByReceivedCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byReceived')&quot;/&gt;</span>
<a href="#l6.29"></a><span id="l6.29">             &lt;menuitem id=&quot;sortByFlagMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByStarCmd.label;&quot; accesskey=&quot;&amp;sortByStarCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byFlagged')&quot;/&gt;</span>
<a href="#l6.30"></a><span id="l6.30">             &lt;menuitem id=&quot;sortByOrderReceivedMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByOrderReceivedCmd.label;&quot;  accesskey=&quot;&amp;sortByOrderReceivedCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byId')&quot;/&gt;</span>
<a href="#l6.31"></a><span id="l6.31">             &lt;menuitem id=&quot;sortByPriorityMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByPriorityCmd.label;&quot; accesskey=&quot;&amp;sortByPriorityCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byPriority')&quot;/&gt;</span>
<a href="#l6.32"></a><span id="l6.32">             &lt;menuitem id=&quot;sortByFromMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByFromCmd.label;&quot; accesskey=&quot;&amp;sortByFromCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byAuthor')&quot;/&gt;</span>
<a href="#l6.33"></a><span id="l6.33">             &lt;menuitem id=&quot;sortByRecipientMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByRecipientCmd.label;&quot; accesskey=&quot;&amp;sortByRecipientCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byRecipient')&quot;/&gt;</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineplus">+            &lt;menuitem id=&quot;sortByCorrespondentMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByCorrespondentCmd.label;&quot; accesskey=&quot;&amp;sortByCorrespondentCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byCorrespondent')&quot;/&gt;</span>
<a href="#l6.35"></a><span id="l6.35">             &lt;menuitem id=&quot;sortBySizeMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortBySizeCmd.label;&quot; accesskey=&quot;&amp;sortBySizeCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('bySize')&quot;/&gt;</span>
<a href="#l6.36"></a><span id="l6.36">             &lt;menuitem id=&quot;sortByStatusMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByStatusCmd.label;&quot; accesskey=&quot;&amp;sortByStatusCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byStatus')&quot;/&gt;</span>
<a href="#l6.37"></a><span id="l6.37">             &lt;menuitem id=&quot;sortBySubjectMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortBySubjectCmd.label;&quot; accesskey=&quot;&amp;sortBySubjectCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('bySubject')&quot;/&gt;</span>
<a href="#l6.38"></a><span id="l6.38">             &lt;menuitem id=&quot;sortByUnreadMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByUnreadCmd.label;&quot;  accesskey=&quot;&amp;sortByUnreadCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byUnread')&quot;/&gt;</span>
<a href="#l6.39"></a><span id="l6.39">             &lt;menuitem id=&quot;sortByTagsMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByTagsCmd.label;&quot; accesskey=&quot;&amp;sortByTagsCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byTags')&quot;/&gt;</span>
<a href="#l6.40"></a><span id="l6.40">             &lt;menuitem id=&quot;sortByJunkStatusMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByJunkStatusCmd.label;&quot; accesskey=&quot;&amp;sortByJunkStatusCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byJunkStatus')&quot;/&gt;</span>
<a href="#l6.41"></a><span id="l6.41">             &lt;menuitem id=&quot;sortByAttachmentsMenuitem&quot; type=&quot;radio&quot; name=&quot;sortby&quot; label=&quot;&amp;sortByAttachmentsCmd.label;&quot; accesskey=&quot;&amp;sortByAttachmentsCmd.accesskey;&quot; oncommand=&quot;MsgSortThreadPane('byAttachments')&quot;/&gt;</span>
<a href="#l6.42"></a><span id="l6.42">             &lt;menuseparator id=&quot;sortAfterAttachmentSeparator&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mail/base/content/messenger.css</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mail/base/content/messenger.css</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -243,20 +243,16 @@ tabmail {</span>
<a href="#l7.4"></a><span id="l7.4"> menupopup[type=&quot;folder&quot;] {</span>
<a href="#l7.5"></a><span id="l7.5">   -moz-binding: url(&quot;chrome://messenger/content/folderWidgets.xml#folder-menupopup&quot;);</span>
<a href="#l7.6"></a><span id="l7.6"> }</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8"> .addrbooksPopup {</span>
<a href="#l7.9"></a><span id="l7.9">   -moz-binding: url(&quot;chrome://messenger/content/addressbook/addrbookWidgets.xml#addrbooks-menupopup&quot;);</span>
<a href="#l7.10"></a><span id="l7.10"> }</span>
<a href="#l7.11"></a><span id="l7.11"> </span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-#threadCols &gt; treecolpicker {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineminus">-  -moz-binding: url(&quot;chrome://messenger/content/threadPaneColumnPicker.xml#threadPaneColumnPicker&quot;);</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineminus">-}</span>
<a href="#l7.15"></a><span id="l7.15" class="difflineminus">-</span>
<a href="#l7.16"></a><span id="l7.16"> /**</span>
<a href="#l7.17"></a><span id="l7.17">  * Toolboxes default to overflow: visible, and we need to override that to</span>
<a href="#l7.18"></a><span id="l7.18">  * prevent the toolbox from causing its containing box (the entire content</span>
<a href="#l7.19"></a><span id="l7.19">  * area) to become wider than the viewport, which has the bad side-effect of</span>
<a href="#l7.20"></a><span id="l7.20">  * causing the _other_ children (i.e. tabmail, which contains important widgetry</span>
<a href="#l7.21"></a><span id="l7.21">  * like the message scrollbar) to be rendered out of view.</span>
<a href="#l7.22"></a><span id="l7.22">  *</span>
<a href="#l7.23"></a><span id="l7.23">  * As it turns out, we only need to override the mail-bar3 (at least of</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mail/base/content/messenger.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mail/base/content/messenger.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -490,16 +490,19 @@</span>
<a href="#l8.4"></a><span id="l8.4">                         &lt;treecol id=&quot;senderCol&quot; persist=&quot;width&quot; flex=&quot;4&quot;</span>
<a href="#l8.5"></a><span id="l8.5">                                  hidden=&quot;false&quot; swappedhidden=&quot;true&quot;</span>
<a href="#l8.6"></a><span id="l8.6">                                  label=&quot;&amp;fromColumn.label;&quot; tooltiptext=&quot;&amp;fromColumn2.tooltip;&quot;/&gt;</span>
<a href="#l8.7"></a><span id="l8.7">                         &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l8.8"></a><span id="l8.8">                         &lt;treecol id=&quot;recipientCol&quot; persist=&quot;width&quot; flex=&quot;4&quot;</span>
<a href="#l8.9"></a><span id="l8.9">                                  hidden=&quot;true&quot; swappedhidden=&quot;false&quot;</span>
<a href="#l8.10"></a><span id="l8.10">                                  label=&quot;&amp;recipientColumn.label;&quot; tooltiptext=&quot;&amp;recipientColumn2.tooltip;&quot;/&gt;</span>
<a href="#l8.11"></a><span id="l8.11">                         &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+                        &lt;treecol id=&quot;correspondentCol&quot; persist=&quot;width&quot; flex=&quot;4&quot; hidden=&quot;true&quot;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+                                 label=&quot;&amp;correspondentColumn.label;&quot; tooltiptext=&quot;&amp;correspondentColumn2.tooltip;&quot;/&gt;</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+                        &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l8.15"></a><span id="l8.15">                         &lt;treecol id=&quot;junkStatusCol&quot; persist=&quot;width&quot; fixed=&quot;true&quot; cycler=&quot;true&quot;</span>
<a href="#l8.16"></a><span id="l8.16">                                  class=&quot;treecol-image junkStatusHeader&quot;</span>
<a href="#l8.17"></a><span id="l8.17">                                  label=&quot;&amp;junkStatusColumn.label;&quot; tooltiptext=&quot;&amp;junkStatusColumn2.tooltip;&quot;/&gt;</span>
<a href="#l8.18"></a><span id="l8.18">                         &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l8.19"></a><span id="l8.19">                         &lt;treecol id=&quot;receivedCol&quot; persist=&quot;width temphidden&quot; flex=&quot;2&quot; hidden=&quot;true&quot;</span>
<a href="#l8.20"></a><span id="l8.20">                                  label=&quot;&amp;receivedColumn.label;&quot; tooltiptext=&quot;&amp;receivedColumn2.tooltip;&quot;/&gt;</span>
<a href="#l8.21"></a><span id="l8.21">                         &lt;splitter class=&quot;tree-splitter&quot;/&gt;</span>
<a href="#l8.22"></a><span id="l8.22">                         &lt;treecol id=&quot;dateCol&quot; persist=&quot;width&quot; flex=&quot;2&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mail/base/content/tabmail.css</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mail/base/content/tabmail.css</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -59,8 +59,17 @@</span>
<a href="#l9.4"></a><span id="l9.4"> .tab-throbber[thinking] + .tab-icon-image,</span>
<a href="#l9.5"></a><span id="l9.5"> .tab-throbber[busy][thinking] + .tab-icon-image {</span>
<a href="#l9.6"></a><span id="l9.6">   display: none;</span>
<a href="#l9.7"></a><span id="l9.7"> }</span>
<a href="#l9.8"></a><span id="l9.8"> </span>
<a href="#l9.9"></a><span id="l9.9"> #tabcontainer:not([overflow=&quot;true&quot;]) ~ #alltabs-button {</span>
<a href="#l9.10"></a><span id="l9.10">   visibility: collapse;</span>
<a href="#l9.11"></a><span id="l9.11"> }</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineplus">+</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+/**</span>
<a href="#l9.14"></a><span id="l9.14" class="difflineplus">+ * Override the thread pane column picker.</span>
<a href="#l9.15"></a><span id="l9.15" class="difflineplus">+ * We do it here because we don't want it in the Search dialog.</span>
<a href="#l9.16"></a><span id="l9.16" class="difflineplus">+ */</span>
<a href="#l9.17"></a><span id="l9.17" class="difflineplus">+</span>
<a href="#l9.18"></a><span id="l9.18" class="difflineplus">+#threadCols &gt; treecolpicker {</span>
<a href="#l9.19"></a><span id="l9.19" class="difflineplus">+  -moz-binding: url(&quot;chrome://messenger/content/threadPaneColumnPicker.xml#threadPaneColumnPicker&quot;);</span>
<a href="#l9.20"></a><span id="l9.20" class="difflineplus">+}</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mail/base/content/threadPane.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mail/base/content/threadPane.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -70,17 +70,18 @@ function HandleColumnClick(columnID)</span>
<a href="#l10.4"></a><span id="l10.4">                      statusCol: 'byStatus',</span>
<a href="#l10.5"></a><span id="l10.5">                      sizeCol: 'bySize',</span>
<a href="#l10.6"></a><span id="l10.6">                      priorityCol: 'byPriority',</span>
<a href="#l10.7"></a><span id="l10.7">                      flaggedCol: 'byFlagged',</span>
<a href="#l10.8"></a><span id="l10.8">                      threadCol: 'byThread',</span>
<a href="#l10.9"></a><span id="l10.9">                      tagsCol: 'byTags',</span>
<a href="#l10.10"></a><span id="l10.10">                      junkStatusCol: 'byJunkStatus',</span>
<a href="#l10.11"></a><span id="l10.11">                      idCol: 'byId',</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-                     attachmentCol: 'byAttachments'};</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+                     attachmentCol: 'byAttachments',</span>
<a href="#l10.14"></a><span id="l10.14" class="difflineplus">+                     correspondentCol: 'byCorrespondent'};</span>
<a href="#l10.15"></a><span id="l10.15"> </span>
<a href="#l10.16"></a><span id="l10.16"> </span>
<a href="#l10.17"></a><span id="l10.17">   var sortType;</span>
<a href="#l10.18"></a><span id="l10.18">   if (columnID in columnMap) {</span>
<a href="#l10.19"></a><span id="l10.19">     sortType = columnMap[columnID];</span>
<a href="#l10.20"></a><span id="l10.20">   } else {</span>
<a href="#l10.21"></a><span id="l10.21">     // If the column isn't in the map, check and see if it's a custom column</span>
<a href="#l10.22"></a><span id="l10.22">     try {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/base/modules/dbViewWrapper.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/base/modules/dbViewWrapper.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -1357,16 +1357,21 @@ DBViewWrapper.prototype = {</span>
<a href="#l11.4"></a><span id="l11.4">                    (this.displayedFolder.flags &amp; nsMsgFolderFlags.Mail));</span>
<a href="#l11.5"></a><span id="l11.5">   },</span>
<a href="#l11.6"></a><span id="l11.6"> </span>
<a href="#l11.7"></a><span id="l11.7">   get isNewsFolder() {</span>
<a href="#l11.8"></a><span id="l11.8">     return Boolean(this.displayedFolder &amp;&amp;</span>
<a href="#l11.9"></a><span id="l11.9">                    (this.displayedFolder.flags &amp; nsMsgFolderFlags.Newsgroup));</span>
<a href="#l11.10"></a><span id="l11.10">   },</span>
<a href="#l11.11"></a><span id="l11.11"> </span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+  get isFeedFolder() {</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+    return Boolean(this.displayedFolder &amp;&amp;</span>
<a href="#l11.14"></a><span id="l11.14" class="difflineplus">+                   this.displayedFolder.server.type == &quot;rss&quot;);</span>
<a href="#l11.15"></a><span id="l11.15" class="difflineplus">+  },</span>
<a href="#l11.16"></a><span id="l11.16" class="difflineplus">+</span>
<a href="#l11.17"></a><span id="l11.17">   OUTGOING_FOLDER_FLAGS: nsMsgFolderFlags.SentMail |</span>
<a href="#l11.18"></a><span id="l11.18">                          nsMsgFolderFlags.Drafts |</span>
<a href="#l11.19"></a><span id="l11.19">                          nsMsgFolderFlags.Queue |</span>
<a href="#l11.20"></a><span id="l11.20">                          nsMsgFolderFlags.Templates,</span>
<a href="#l11.21"></a><span id="l11.21">   /**</span>
<a href="#l11.22"></a><span id="l11.22">    * @return true if the folder is an outgoing folder by virtue of being a</span>
<a href="#l11.23"></a><span id="l11.23">    *     sent mail folder, drafts folder, queue folder, or template folder,</span>
<a href="#l11.24"></a><span id="l11.24">    *     or being a sub-folder of one of those types of folders.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/SearchDialog.dtd</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/SearchDialog.dtd</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -35,16 +35,17 @@</span>
<a href="#l12.4"></a><span id="l12.4"> &lt;!ENTITY deleteCardButton.label      &quot;Delete&quot;&gt;</span>
<a href="#l12.5"></a><span id="l12.5"> &lt;!ENTITY deleteCardButton.accesskey  &quot;D&quot;&gt;</span>
<a href="#l12.6"></a><span id="l12.6"> &lt;!ENTITY abSearchDialogTitle.label   &quot;Advanced Address Book Search&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7"> </span>
<a href="#l12.8"></a><span id="l12.8"> &lt;!-- Thread Pane --&gt;</span>
<a href="#l12.9"></a><span id="l12.9"> &lt;!ENTITY threadColumn.label &quot;Thread&quot;&gt;</span>
<a href="#l12.10"></a><span id="l12.10"> &lt;!ENTITY fromColumn.label &quot;From&quot;&gt;</span>
<a href="#l12.11"></a><span id="l12.11"> &lt;!ENTITY recipientColumn.label &quot;Recipient&quot;&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineplus">+&lt;!ENTITY correspondentColumn.label &quot;Correspondents&quot;&gt;</span>
<a href="#l12.13"></a><span id="l12.13"> &lt;!ENTITY subjectColumn.label &quot;Subject&quot;&gt;</span>
<a href="#l12.14"></a><span id="l12.14"> &lt;!ENTITY dateColumn.label &quot;Date&quot;&gt;</span>
<a href="#l12.15"></a><span id="l12.15"> &lt;!ENTITY priorityColumn.label &quot;Priority&quot;&gt;</span>
<a href="#l12.16"></a><span id="l12.16"> &lt;!ENTITY tagsColumn.label &quot;Tags&quot;&gt;</span>
<a href="#l12.17"></a><span id="l12.17"> &lt;!ENTITY accountColumn.label &quot;Account&quot;&gt;</span>
<a href="#l12.18"></a><span id="l12.18"> &lt;!ENTITY statusColumn.label &quot;Status&quot;&gt;</span>
<a href="#l12.19"></a><span id="l12.19"> &lt;!ENTITY sizeColumn.label &quot;Size&quot;&gt;</span>
<a href="#l12.20"></a><span id="l12.20"> &lt;!ENTITY junkStatusColumn.label &quot;Junk Status&quot;&gt;</span>
<a href="#l12.21"></a><span id="l12.21" class="difflineat">@@ -56,16 +57,17 @@</span>
<a href="#l12.22"></a><span id="l12.22"> &lt;!ENTITY locationColumn.label &quot;Location&quot;&gt;</span>
<a href="#l12.23"></a><span id="l12.23"> &lt;!ENTITY idColumn.label &quot;Order Received&quot;&gt;</span>
<a href="#l12.24"></a><span id="l12.24"> </span>
<a href="#l12.25"></a><span id="l12.25"> &lt;!-- Thread Pane Tooltips --&gt;</span>
<a href="#l12.26"></a><span id="l12.26"> &lt;!ENTITY columnChooser2.tooltip &quot;Select columns to display&quot;&gt;</span>
<a href="#l12.27"></a><span id="l12.27"> &lt;!ENTITY threadColumn2.tooltip &quot;Display message threads&quot;&gt;</span>
<a href="#l12.28"></a><span id="l12.28"> &lt;!ENTITY fromColumn2.tooltip &quot;Sort by from&quot;&gt;</span>
<a href="#l12.29"></a><span id="l12.29"> &lt;!ENTITY recipientColumn2.tooltip &quot;Sort by recipient&quot;&gt;</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineplus">+&lt;!ENTITY correspondentColumn2.tooltip &quot;Sort by correspondents&quot;&gt;</span>
<a href="#l12.31"></a><span id="l12.31"> &lt;!ENTITY subjectColumn2.tooltip &quot;Sort by subject&quot;&gt;</span>
<a href="#l12.32"></a><span id="l12.32"> &lt;!ENTITY dateColumn2.tooltip &quot;Sort by date&quot;&gt;</span>
<a href="#l12.33"></a><span id="l12.33"> &lt;!ENTITY priorityColumn2.tooltip &quot;Sort by priority&quot;&gt;</span>
<a href="#l12.34"></a><span id="l12.34"> &lt;!ENTITY tagsColumn2.tooltip &quot;Sort by tags&quot;&gt;</span>
<a href="#l12.35"></a><span id="l12.35"> &lt;!ENTITY accountColumn2.tooltip &quot;Sort by account&quot;&gt;</span>
<a href="#l12.36"></a><span id="l12.36"> &lt;!ENTITY statusColumn2.tooltip &quot;Sort by status&quot;&gt;</span>
<a href="#l12.37"></a><span id="l12.37"> &lt;!ENTITY sizeColumn2.tooltip &quot;Sort by size&quot;&gt;</span>
<a href="#l12.38"></a><span id="l12.38"> &lt;!ENTITY junkStatusColumn2.tooltip &quot;Sort by junk status&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -187,16 +187,18 @@</span>
<a href="#l13.4"></a><span id="l13.4"> &lt;!ENTITY sortByJunkStatusCmd.label &quot;Junk Status&quot;&gt;</span>
<a href="#l13.5"></a><span id="l13.5"> &lt;!ENTITY sortByJunkStatusCmd.accesskey &quot;J&quot;&gt;</span>
<a href="#l13.6"></a><span id="l13.6"> &lt;!ENTITY sortBySubjectCmd.label &quot;Subject&quot;&gt;</span>
<a href="#l13.7"></a><span id="l13.7"> &lt;!ENTITY sortBySubjectCmd.accesskey &quot;b&quot;&gt;</span>
<a href="#l13.8"></a><span id="l13.8"> &lt;!ENTITY sortByFromCmd.label &quot;From&quot;&gt;</span>
<a href="#l13.9"></a><span id="l13.9"> &lt;!ENTITY sortByFromCmd.accesskey &quot;F&quot;&gt;</span>
<a href="#l13.10"></a><span id="l13.10"> &lt;!ENTITY sortByRecipientCmd.label &quot;Recipient&quot;&gt;</span>
<a href="#l13.11"></a><span id="l13.11"> &lt;!ENTITY sortByRecipientCmd.accesskey &quot;c&quot;&gt;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+&lt;!ENTITY sortByCorrespondentCmd.label &quot;Correspondents&quot;&gt;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+&lt;!ENTITY sortByCorrespondentCmd.accesskey &quot;e&quot;&gt;</span>
<a href="#l13.14"></a><span id="l13.14"> &lt;!ENTITY sortByUnreadCmd.label &quot;Read&quot;&gt;</span>
<a href="#l13.15"></a><span id="l13.15"> &lt;!ENTITY sortByUnreadCmd.accesskey &quot;R&quot;&gt;</span>
<a href="#l13.16"></a><span id="l13.16"> &lt;!ENTITY sortByOrderReceivedCmd.label &quot;Order Received&quot;&gt;</span>
<a href="#l13.17"></a><span id="l13.17"> &lt;!ENTITY sortByOrderReceivedCmd.accesskey &quot;O&quot;&gt;</span>
<a href="#l13.18"></a><span id="l13.18"> &lt;!ENTITY sortAscending.label &quot;Ascending&quot;&gt;</span>
<a href="#l13.19"></a><span id="l13.19"> &lt;!ENTITY sortAscending.accesskey &quot;A&quot;&gt;</span>
<a href="#l13.20"></a><span id="l13.20"> &lt;!ENTITY sortDescending.label &quot;Descending&quot;&gt;</span>
<a href="#l13.21"></a><span id="l13.21"> &lt;!ENTITY sortDescending.accesskey &quot;D&quot;&gt;</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -653,16 +655,17 @@</span>
<a href="#l13.23"></a><span id="l13.23"> &lt;!ENTITY searchSubjectOrRecipientMenu.label &quot;Subject, To or Cc&quot;&gt;</span>
<a href="#l13.24"></a><span id="l13.24"> &lt;!ENTITY searchMessageBody.label &quot;Entire Message&quot;&gt;</span>
<a href="#l13.25"></a><span id="l13.25"> &lt;!ENTITY saveAsVirtualFolderMenu.label &quot;Save Search as a Folder&quot;&gt;</span>
<a href="#l13.26"></a><span id="l13.26"> </span>
<a href="#l13.27"></a><span id="l13.27"> &lt;!-- Thread Pane --&gt;</span>
<a href="#l13.28"></a><span id="l13.28"> &lt;!ENTITY threadColumn.label &quot;Thread&quot;&gt;</span>
<a href="#l13.29"></a><span id="l13.29"> &lt;!ENTITY fromColumn.label &quot;From&quot;&gt;</span>
<a href="#l13.30"></a><span id="l13.30"> &lt;!ENTITY recipientColumn.label &quot;Recipient&quot;&gt;</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+&lt;!ENTITY correspondentColumn.label &quot;Correspondents&quot;&gt;</span>
<a href="#l13.32"></a><span id="l13.32"> &lt;!ENTITY subjectColumn.label &quot;Subject&quot;&gt;</span>
<a href="#l13.33"></a><span id="l13.33"> &lt;!ENTITY dateColumn.label &quot;Date&quot;&gt;</span>
<a href="#l13.34"></a><span id="l13.34"> &lt;!ENTITY priorityColumn.label &quot;Priority&quot;&gt;</span>
<a href="#l13.35"></a><span id="l13.35"> &lt;!ENTITY tagsColumn.label &quot;Tag&quot;&gt;</span>
<a href="#l13.36"></a><span id="l13.36"> &lt;!ENTITY accountColumn.label &quot;Account&quot;&gt;</span>
<a href="#l13.37"></a><span id="l13.37"> &lt;!ENTITY statusColumn.label &quot;Status&quot;&gt;</span>
<a href="#l13.38"></a><span id="l13.38"> &lt;!ENTITY sizeColumn.label &quot;Size&quot;&gt;</span>
<a href="#l13.39"></a><span id="l13.39"> &lt;!ENTITY junkStatusColumn.label &quot;Junk Status&quot;&gt;</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineat">@@ -675,16 +678,17 @@</span>
<a href="#l13.41"></a><span id="l13.41"> &lt;!ENTITY idColumn.label &quot;Order Received&quot;&gt;</span>
<a href="#l13.42"></a><span id="l13.42"> &lt;!ENTITY attachmentColumn.label &quot;Attachments&quot;&gt;</span>
<a href="#l13.43"></a><span id="l13.43"> </span>
<a href="#l13.44"></a><span id="l13.44"> &lt;!-- Thread Pane Tooltips --&gt;</span>
<a href="#l13.45"></a><span id="l13.45"> &lt;!ENTITY columnChooser2.tooltip &quot;Select columns to display&quot;&gt;</span>
<a href="#l13.46"></a><span id="l13.46"> &lt;!ENTITY threadColumn2.tooltip &quot;Display message threads&quot;&gt;</span>
<a href="#l13.47"></a><span id="l13.47"> &lt;!ENTITY fromColumn2.tooltip &quot;Sort by from&quot;&gt;</span>
<a href="#l13.48"></a><span id="l13.48"> &lt;!ENTITY recipientColumn2.tooltip &quot;Sort by recipient&quot;&gt;</span>
<a href="#l13.49"></a><span id="l13.49" class="difflineplus">+&lt;!ENTITY correspondentColumn2.tooltip &quot;Sort by correspondents&quot;&gt;</span>
<a href="#l13.50"></a><span id="l13.50"> &lt;!ENTITY subjectColumn2.tooltip &quot;Sort by subject&quot;&gt;</span>
<a href="#l13.51"></a><span id="l13.51"> &lt;!ENTITY dateColumn2.tooltip &quot;Sort by date&quot;&gt;</span>
<a href="#l13.52"></a><span id="l13.52"> &lt;!ENTITY priorityColumn2.tooltip &quot;Sort by priority&quot;&gt;</span>
<a href="#l13.53"></a><span id="l13.53"> &lt;!ENTITY tagsColumn2.tooltip &quot;Sort by tags&quot;&gt;</span>
<a href="#l13.54"></a><span id="l13.54"> &lt;!ENTITY accountColumn2.tooltip &quot;Sort by account&quot;&gt;</span>
<a href="#l13.55"></a><span id="l13.55"> &lt;!ENTITY statusColumn2.tooltip &quot;Sort by status&quot;&gt;</span>
<a href="#l13.56"></a><span id="l13.56"> &lt;!ENTITY sizeColumn2.tooltip &quot;Sort by size&quot;&gt;</span>
<a href="#l13.57"></a><span id="l13.57"> &lt;!ENTITY junkStatusColumn2.tooltip &quot;Sort by junk status&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1">index dd96ff8292a22f1b3b20b8da5547a591637a78b3..25c9a13f2c4f52ec122631050a022b90a23a3816</span>
<a href="#l14.2"></a><span id="l14.2">GIT binary patch
literal 1864
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
Cwueyw</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mail/themes/linux/mail/mailWindow1.css</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mail/themes/linux/mail/mailWindow1.css</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -183,16 +183,30 @@ treechildren::-moz-tree-image(junkStatus</span>
<a href="#l15.4"></a><span id="l15.4">   -moz-image-region: rect(32px 16px 48px 0px); /* message-junk.png */</span>
<a href="#l15.5"></a><span id="l15.5"> }</span>
<a href="#l15.6"></a><span id="l15.6"> </span>
<a href="#l15.7"></a><span id="l15.7"> treechildren::-moz-tree-image(junkStatusCol, notjunk) {</span>
<a href="#l15.8"></a><span id="l15.8">   -moz-image-region: rect(0px 16px 16px 0px); /* message-read.png */</span>
<a href="#l15.9"></a><span id="l15.9">   -moz-padding-start: 0px;</span>
<a href="#l15.10"></a><span id="l15.10"> }</span>
<a href="#l15.11"></a><span id="l15.11"> </span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+/* ..... correspondent column ..... */</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+</span>
<a href="#l15.14"></a><span id="l15.14" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, incoming) {</span>
<a href="#l15.15"></a><span id="l15.15" class="difflineplus">+  -moz-margin-end: 2px;</span>
<a href="#l15.16"></a><span id="l15.16" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/message.png&quot;);</span>
<a href="#l15.17"></a><span id="l15.17" class="difflineplus">+  -moz-image-region: rect(0 112px 16px 96px);</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineplus">+}</span>
<a href="#l15.19"></a><span id="l15.19" class="difflineplus">+</span>
<a href="#l15.20"></a><span id="l15.20" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, outgoing) {</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineplus">+  -moz-margin-end: 2px;</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/message.png&quot;);</span>
<a href="#l15.23"></a><span id="l15.23" class="difflineplus">+  -moz-image-region: rect(0 128px 16px 112px);</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineplus">+}</span>
<a href="#l15.25"></a><span id="l15.25" class="difflineplus">+</span>
<a href="#l15.26"></a><span id="l15.26"> /* ..... subject column ..... */</span>
<a href="#l15.27"></a><span id="l15.27"> </span>
<a href="#l15.28"></a><span id="l15.28"> #subjectCol {</span>
<a href="#l15.29"></a><span id="l15.29">   -moz-padding-start: 16px;</span>
<a href="#l15.30"></a><span id="l15.30"> }</span>
<a href="#l15.31"></a><span id="l15.31"> </span>
<a href="#l15.32"></a><span id="l15.32"> #subjectCol[primary=&quot;true&quot;] {</span>
<a href="#l15.33"></a><span id="l15.33">   -moz-padding-start: 26px;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1">index cbef08cef43cc983a5172ccc01c9526a3f89eeb4..213560aa3c670d7db6417c7d625512cc3e6aa282</span>
<a href="#l16.2"></a><span id="l16.2">GIT binary patch
literal 1570
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
U?~a&amp;s`v3p{07*qoM6N&lt;$g5AUb7ytkO</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">index a61a036bfae483751b60054505a28c09ed5608aa..1a8fb05b9cb3239468a21bf5f2075e0b4d07b15d</span>
<a href="#l17.2"></a><span id="l17.2">GIT binary patch
literal 4186
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mail/themes/osx/mail/mailWindow1.css</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mail/themes/osx/mail/mailWindow1.css</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -275,16 +275,36 @@ treechildren::-moz-tree-image(junkStatus</span>
<a href="#l18.4"></a><span id="l18.4">   -moz-image-region: rect(0px 96px 16px 80px);</span>
<a href="#l18.5"></a><span id="l18.5">   -moz-margin-start: 0px;</span>
<a href="#l18.6"></a><span id="l18.6"> }</span>
<a href="#l18.7"></a><span id="l18.7"> </span>
<a href="#l18.8"></a><span id="l18.8"> treechildren::-moz-tree-image(junkStatusCol, junk, focus, selected) {</span>
<a href="#l18.9"></a><span id="l18.9">   -moz-image-region: rect(16px 96px 32px 80px);</span>
<a href="#l18.10"></a><span id="l18.10"> }</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineplus">+/* ..... correspondent column ..... */</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, incoming) {</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/threadpane-col.png&quot;);</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineplus">+  -moz-image-region: rect(0px 107px 16px 96px);</span>
<a href="#l18.17"></a><span id="l18.17" class="difflineplus">+}</span>
<a href="#l18.18"></a><span id="l18.18" class="difflineplus">+</span>
<a href="#l18.19"></a><span id="l18.19" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, incoming, selected) {</span>
<a href="#l18.20"></a><span id="l18.20" class="difflineplus">+  -moz-image-region: rect(16px 107px 32px 96px);</span>
<a href="#l18.21"></a><span id="l18.21" class="difflineplus">+}</span>
<a href="#l18.22"></a><span id="l18.22" class="difflineplus">+</span>
<a href="#l18.23"></a><span id="l18.23" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, outgoing) {</span>
<a href="#l18.24"></a><span id="l18.24" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/threadpane-col.png&quot;);</span>
<a href="#l18.25"></a><span id="l18.25" class="difflineplus">+  -moz-image-region: rect(0px 118px 16px 107px);</span>
<a href="#l18.26"></a><span id="l18.26" class="difflineplus">+}</span>
<a href="#l18.27"></a><span id="l18.27" class="difflineplus">+</span>
<a href="#l18.28"></a><span id="l18.28" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, outgoing, selected) {</span>
<a href="#l18.29"></a><span id="l18.29" class="difflineplus">+  -moz-image-region: rect(16px 118px 32px 107px);</span>
<a href="#l18.30"></a><span id="l18.30" class="difflineplus">+}</span>
<a href="#l18.31"></a><span id="l18.31" class="difflineplus">+</span>
<a href="#l18.32"></a><span id="l18.32"> /* ..... subject column ..... */</span>
<a href="#l18.33"></a><span id="l18.33"> </span>
<a href="#l18.34"></a><span id="l18.34"> #subjectCol {</span>
<a href="#l18.35"></a><span id="l18.35">   -moz-padding-start: 13px;</span>
<a href="#l18.36"></a><span id="l18.36"> }</span>
<a href="#l18.37"></a><span id="l18.37"> </span>
<a href="#l18.38"></a><span id="l18.38"> #subjectCol[primary=&quot;true&quot;] {</span>
<a href="#l18.39"></a><span id="l18.39">   -moz-padding-start: 30px;</span>
<a href="#l18.40"></a><span id="l18.40" class="difflineat">@@ -442,23 +462,42 @@ treechildren::-moz-tree-image(threadCol,</span>
<a href="#l18.41"></a><span id="l18.41">     -moz-image-region: rect(32px 192px 64px 160px);</span>
<a href="#l18.42"></a><span id="l18.42">   }</span>
<a href="#l18.43"></a><span id="l18.43"> </span>
<a href="#l18.44"></a><span id="l18.44">   .tree-columnpicker-icon {</span>
<a href="#l18.45"></a><span id="l18.45">     list-style-image: url(&quot;chrome://messenger/skin/icons/column-headers@2x.png&quot;);</span>
<a href="#l18.46"></a><span id="l18.46">     -moz-image-region: rect(0px 192px 32px 160px);</span>
<a href="#l18.47"></a><span id="l18.47">   }</span>
<a href="#l18.48"></a><span id="l18.48"> </span>
<a href="#l18.49"></a><span id="l18.49" class="difflineplus">+  treechildren::-moz-tree-image(correspondentCol, incoming) {</span>
<a href="#l18.50"></a><span id="l18.50" class="difflineplus">+    list-style-image: url(&quot;chrome://messenger/skin/icons/threadpane-col@2x.png&quot;);</span>
<a href="#l18.51"></a><span id="l18.51" class="difflineplus">+    -moz-image-region: rect(0px 214px 32px 192px);</span>
<a href="#l18.52"></a><span id="l18.52" class="difflineplus">+  }</span>
<a href="#l18.53"></a><span id="l18.53" class="difflineplus">+</span>
<a href="#l18.54"></a><span id="l18.54" class="difflineplus">+  treechildren::-moz-tree-image(correspondentCol, incoming, selected) {</span>
<a href="#l18.55"></a><span id="l18.55" class="difflineplus">+    -moz-image-region: rect(32px 214px 64px 192px);</span>
<a href="#l18.56"></a><span id="l18.56" class="difflineplus">+  }</span>
<a href="#l18.57"></a><span id="l18.57" class="difflineplus">+</span>
<a href="#l18.58"></a><span id="l18.58" class="difflineplus">+  treechildren::-moz-tree-image(correspondentCol, outgoing) {</span>
<a href="#l18.59"></a><span id="l18.59" class="difflineplus">+    list-style-image: url(&quot;chrome://messenger/skin/icons/threadpane-col@2x.png&quot;);</span>
<a href="#l18.60"></a><span id="l18.60" class="difflineplus">+    -moz-image-region: rect(0px 236px 32px 214px);</span>
<a href="#l18.61"></a><span id="l18.61" class="difflineplus">+  }</span>
<a href="#l18.62"></a><span id="l18.62" class="difflineplus">+</span>
<a href="#l18.63"></a><span id="l18.63" class="difflineplus">+  treechildren::-moz-tree-image(correspondentCol, outgoing, selected) {</span>
<a href="#l18.64"></a><span id="l18.64" class="difflineplus">+    -moz-image-region: rect(32px 236px 64px 214px);</span>
<a href="#l18.65"></a><span id="l18.65" class="difflineplus">+  }</span>
<a href="#l18.66"></a><span id="l18.66" class="difflineplus">+</span>
<a href="#l18.67"></a><span id="l18.67">   .tree-columnpicker-icon,</span>
<a href="#l18.68"></a><span id="l18.68">   #threadCols &gt; treecol &gt; .treecol-icon,</span>
<a href="#l18.69"></a><span id="l18.69">   treechildren::-moz-tree-image(threadCol, container),</span>
<a href="#l18.70"></a><span id="l18.70">   treechildren::-moz-tree-image(unreadButtonColHeader),</span>
<a href="#l18.71"></a><span id="l18.71">   treechildren::-moz-tree-image(attachmentCol),</span>
<a href="#l18.72"></a><span id="l18.72">   treechildren::-moz-tree-image(flaggedCol),</span>
<a href="#l18.73"></a><span id="l18.73" class="difflineminus">-  treechildren::-moz-tree-image(junkStatusCol) {</span>
<a href="#l18.74"></a><span id="l18.74" class="difflineplus">+  treechildren::-moz-tree-image(junkStatusCol),</span>
<a href="#l18.75"></a><span id="l18.75" class="difflineplus">+  treechildren::-moz-tree-image(correspondentCol) {</span>
<a href="#l18.76"></a><span id="l18.76">     width: 16px;</span>
<a href="#l18.77"></a><span id="l18.77">     height: 16px;</span>
<a href="#l18.78"></a><span id="l18.78">   }</span>
<a href="#l18.79"></a><span id="l18.79"> </span>
<a href="#l18.80"></a><span id="l18.80">   treechildren::-moz-tree-image(unreadButtonColHeader, unread) {</span>
<a href="#l18.81"></a><span id="l18.81">     width: 13px;</span>
<a href="#l18.82"></a><span id="l18.82">     height: 13px;</span>
<a href="#l18.83"></a><span id="l18.83">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1">index e1258a8ce1cd444ea7cf0259f14e4299d2f616e3..989f36bc5b267697f88f3f6cb09b3b45e1a40533</span>
<a href="#l19.2"></a><span id="l19.2">GIT binary patch
literal 1869
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
Hu0mjfqnnRV</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1">index 7bee025cf6f5bf96cdc4deefc3b827fb01ff1944..0ff758bb09d653905322e891768f278afcc94079</span>
<a href="#l20.2"></a><span id="l20.2">GIT binary patch
literal 1907
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/span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mail/themes/windows/mail/mailWindow1.css</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mail/themes/windows/mail/mailWindow1.css</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -179,16 +179,30 @@ treechildren::-moz-tree-image(junkStatus</span>
<a href="#l21.4"></a><span id="l21.4">   -moz-image-region: rect(0 128px 16px 112px);</span>
<a href="#l21.5"></a><span id="l21.5"> }</span>
<a href="#l21.6"></a><span id="l21.6"> </span>
<a href="#l21.7"></a><span id="l21.7"> treechildren::-moz-tree-image(junkStatusCol, notjunk) {</span>
<a href="#l21.8"></a><span id="l21.8">   list-style-image: url(&quot;chrome://messenger/skin/icons/readmail.png&quot;);</span>
<a href="#l21.9"></a><span id="l21.9">   -moz-padding-start: 0px;</span>
<a href="#l21.10"></a><span id="l21.10"> }</span>
<a href="#l21.11"></a><span id="l21.11"> </span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+/* ..... correspondent column ..... */</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, incoming) {</span>
<a href="#l21.15"></a><span id="l21.15" class="difflineplus">+  -moz-margin-end: 2px;</span>
<a href="#l21.16"></a><span id="l21.16" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/message.png&quot;);</span>
<a href="#l21.17"></a><span id="l21.17" class="difflineplus">+  -moz-image-region: rect(0 112px 16px 96px);</span>
<a href="#l21.18"></a><span id="l21.18" class="difflineplus">+}</span>
<a href="#l21.19"></a><span id="l21.19" class="difflineplus">+</span>
<a href="#l21.20"></a><span id="l21.20" class="difflineplus">+treechildren::-moz-tree-image(correspondentCol, outgoing) {</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineplus">+  -moz-margin-end: 2px;</span>
<a href="#l21.22"></a><span id="l21.22" class="difflineplus">+  list-style-image: url(&quot;chrome://messenger/skin/icons/message.png&quot;);</span>
<a href="#l21.23"></a><span id="l21.23" class="difflineplus">+  -moz-image-region: rect(0 128px 16px 112px);</span>
<a href="#l21.24"></a><span id="l21.24" class="difflineplus">+}</span>
<a href="#l21.25"></a><span id="l21.25" class="difflineplus">+</span>
<a href="#l21.26"></a><span id="l21.26"> /* ..... subject column ..... */</span>
<a href="#l21.27"></a><span id="l21.27"> </span>
<a href="#l21.28"></a><span id="l21.28"> %ifndef WINDOWS_AERO</span>
<a href="#l21.29"></a><span id="l21.29"> #subjectCol {</span>
<a href="#l21.30"></a><span id="l21.30">   -moz-padding-start: 17px;</span>
<a href="#l21.31"></a><span id="l21.31"> }</span>
<a href="#l21.32"></a><span id="l21.32"> </span>
<a href="#l21.33"></a><span id="l21.33"> #subjectCol[primary=&quot;true&quot;] {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mailnews/base/public/nsIMsgDBView.idl</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mailnews/base/public/nsIMsgDBView.idl</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -50,17 +50,17 @@ interface nsMsgViewFlagsType</span>
<a href="#l22.4"></a><span id="l22.4">   const nsMsgViewFlagsTypeValue kNone = 0x0;</span>
<a href="#l22.5"></a><span id="l22.5">   const nsMsgViewFlagsTypeValue kThreadedDisplay = 0x1;</span>
<a href="#l22.6"></a><span id="l22.6">   const nsMsgViewFlagsTypeValue kShowIgnored = 0x8;</span>
<a href="#l22.7"></a><span id="l22.7">   const nsMsgViewFlagsTypeValue kUnreadOnly = 0x10;</span>
<a href="#l22.8"></a><span id="l22.8">   const nsMsgViewFlagsTypeValue kExpandAll = 0x20;</span>
<a href="#l22.9"></a><span id="l22.9">   const nsMsgViewFlagsTypeValue kGroupBySort = 0x40;</span>
<a href="#l22.10"></a><span id="l22.10"> };</span>
<a href="#l22.11"></a><span id="l22.11"> </span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-[scriptable, uuid(e8fdf9ca-9425-49de-b231-8d8fb51b8ee2)]</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+[scriptable, uuid(b94fc200-3008-420a-85c7-67842f133ef8)]</span>
<a href="#l22.14"></a><span id="l22.14"> interface nsMsgViewSortType</span>
<a href="#l22.15"></a><span id="l22.15"> {</span>
<a href="#l22.16"></a><span id="l22.16">   const nsMsgViewSortTypeValue byNone = 0x11; /* not sorted */</span>
<a href="#l22.17"></a><span id="l22.17">   const nsMsgViewSortTypeValue byDate = 0x12;</span>
<a href="#l22.18"></a><span id="l22.18">   const nsMsgViewSortTypeValue bySubject = 0x13;</span>
<a href="#l22.19"></a><span id="l22.19">   const nsMsgViewSortTypeValue byAuthor = 0x14;</span>
<a href="#l22.20"></a><span id="l22.20">   const nsMsgViewSortTypeValue byId = 0x15;</span>
<a href="#l22.21"></a><span id="l22.21">   const nsMsgViewSortTypeValue byThread = 0x16;</span>
<a href="#l22.22"></a><span id="l22.22" class="difflineat">@@ -72,16 +72,17 @@ interface nsMsgViewSortType</span>
<a href="#l22.23"></a><span id="l22.23">   const nsMsgViewSortTypeValue byRecipient = 0x1c;</span>
<a href="#l22.24"></a><span id="l22.24">   const nsMsgViewSortTypeValue byLocation = 0x1d;</span>
<a href="#l22.25"></a><span id="l22.25">   const nsMsgViewSortTypeValue byTags = 0x1e;</span>
<a href="#l22.26"></a><span id="l22.26">   const nsMsgViewSortTypeValue byJunkStatus = 0x1f;</span>
<a href="#l22.27"></a><span id="l22.27">   const nsMsgViewSortTypeValue byAttachments = 0x20;</span>
<a href="#l22.28"></a><span id="l22.28">   const nsMsgViewSortTypeValue byAccount = 0x21;</span>
<a href="#l22.29"></a><span id="l22.29">   const nsMsgViewSortTypeValue byCustom = 0x22;</span>
<a href="#l22.30"></a><span id="l22.30">   const nsMsgViewSortTypeValue byReceived = 0x23;</span>
<a href="#l22.31"></a><span id="l22.31" class="difflineplus">+  const nsMsgViewSortTypeValue byCorrespondent = 0x24;</span>
<a href="#l22.32"></a><span id="l22.32"> };</span>
<a href="#l22.33"></a><span id="l22.33"> </span>
<a href="#l22.34"></a><span id="l22.34"> [scriptable, uuid(255d1c1e-fde7-11d4-a5be-0060b0fc04b7)]</span>
<a href="#l22.35"></a><span id="l22.35"> interface nsMsgViewNotificationCode</span>
<a href="#l22.36"></a><span id="l22.36"> {</span>
<a href="#l22.37"></a><span id="l22.37">   const nsMsgViewNotificationCodeValue none = 0;        </span>
<a href="#l22.38"></a><span id="l22.38">   /* No change; this call is just being used to potentially nest other sets of calls</span>
<a href="#l22.39"></a><span id="l22.39">      inside it.  The &quot;where&quot; and &quot;num&quot; parameters are unused. </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mailnews/base/src/nsMsgDBView.cpp</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgDBView.cpp</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -835,16 +835,28 @@ nsresult nsMsgDBView::FetchLabel(nsIMsgD</span>
<a href="#l23.4"></a><span id="l23.4">     return NS_OK;</span>
<a href="#l23.5"></a><span id="l23.5">   }</span>
<a href="#l23.6"></a><span id="l23.6"> </span>
<a href="#l23.7"></a><span id="l23.7">   // We need to subtract 1 because mLabelPrefDescriptions is 0 based.</span>
<a href="#l23.8"></a><span id="l23.8">   aLabelString = mLabelPrefDescriptions[label - 1];</span>
<a href="#l23.9"></a><span id="l23.9">   return NS_OK;</span>
<a href="#l23.10"></a><span id="l23.10"> }</span>
<a href="#l23.11"></a><span id="l23.11"> </span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+bool nsMsgDBView::IsOutgoingMsg(nsIMsgDBHdr* aHdr)</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+{</span>
<a href="#l23.14"></a><span id="l23.14" class="difflineplus">+  nsString author;</span>
<a href="#l23.15"></a><span id="l23.15" class="difflineplus">+  aHdr-&gt;GetMime2DecodedAuthor(author);</span>
<a href="#l23.16"></a><span id="l23.16" class="difflineplus">+</span>
<a href="#l23.17"></a><span id="l23.17" class="difflineplus">+  nsCString emailAddress;</span>
<a href="#l23.18"></a><span id="l23.18" class="difflineplus">+  nsString name;</span>
<a href="#l23.19"></a><span id="l23.19" class="difflineplus">+  ExtractFirstAddress(DecodedHeader(author), name, emailAddress);</span>
<a href="#l23.20"></a><span id="l23.20" class="difflineplus">+</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineplus">+  return mEmails.Contains(emailAddress);</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineplus">+}</span>
<a href="#l23.23"></a><span id="l23.23" class="difflineplus">+</span>
<a href="#l23.24"></a><span id="l23.24"> </span>
<a href="#l23.25"></a><span id="l23.25"> /*if you call SaveAndClearSelection make sure to call RestoreSelection otherwise</span>
<a href="#l23.26"></a><span id="l23.26"> m_saveRestoreSelectionDepth will be incorrect and will lead to selection msg problems*/</span>
<a href="#l23.27"></a><span id="l23.27"> </span>
<a href="#l23.28"></a><span id="l23.28"> nsresult nsMsgDBView::SaveAndClearSelection(nsMsgKey *aCurrentMsgKey, nsTArray&lt;nsMsgKey&gt; &amp;aMsgKeyArray)</span>
<a href="#l23.29"></a><span id="l23.29"> {</span>
<a href="#l23.30"></a><span id="l23.30">   // we don't do anything on nested Save / Restore calls.</span>
<a href="#l23.31"></a><span id="l23.31">   m_saveRestoreSelectionDepth++;</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineat">@@ -1336,16 +1348,23 @@ NS_IMETHODIMP nsMsgDBView::GetCellProper</span>
<a href="#l23.33"></a><span id="l23.33">     return NS_MSG_INVALID_DBVIEW_INDEX;</span>
<a href="#l23.34"></a><span id="l23.34">   }</span>
<a href="#l23.35"></a><span id="l23.35"> </span>
<a href="#l23.36"></a><span id="l23.36">   const char16_t* colID;</span>
<a href="#l23.37"></a><span id="l23.37">   col-&gt;GetIdConst(&amp;colID);</span>
<a href="#l23.38"></a><span id="l23.38">   nsIMsgCustomColumnHandler* colHandler = GetColumnHandler(colID);</span>
<a href="#l23.39"></a><span id="l23.39">   if (colHandler != nullptr)</span>
<a href="#l23.40"></a><span id="l23.40">     colHandler-&gt;GetCellProperties(aRow, col, properties);</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+  else if (colID[0] == 'c') // correspondent</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineplus">+  {</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineplus">+    if (IsOutgoingMsg(msgHdr))</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineplus">+      properties.AssignLiteral(&quot;outgoing&quot;);</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineplus">+    else</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineplus">+      properties.AssignLiteral(&quot;incoming&quot;);</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+  }</span>
<a href="#l23.48"></a><span id="l23.48"> </span>
<a href="#l23.49"></a><span id="l23.49">   if (!properties.IsEmpty())</span>
<a href="#l23.50"></a><span id="l23.50">     properties.Append(' ');</span>
<a href="#l23.51"></a><span id="l23.51"> </span>
<a href="#l23.52"></a><span id="l23.52">   properties.Append(mMessageType);</span>
<a href="#l23.53"></a><span id="l23.53"> </span>
<a href="#l23.54"></a><span id="l23.54">   uint32_t flags;</span>
<a href="#l23.55"></a><span id="l23.55">   msgHdr-&gt;GetFlags(&amp;flags);</span>
<a href="#l23.56"></a><span id="l23.56" class="difflineat">@@ -1959,16 +1978,22 @@ NS_IMETHODIMP nsMsgDBView::CellTextForCo</span>
<a href="#l23.57"></a><span id="l23.57">     if (aColumnName[3] == 'i') // recipient</span>
<a href="#l23.58"></a><span id="l23.58">       rv = FetchRecipients(msgHdr, aValue);</span>
<a href="#l23.59"></a><span id="l23.59">     else if (aColumnName[3] == 'e') // received</span>
<a href="#l23.60"></a><span id="l23.60">       rv = FetchDate(msgHdr, aValue, true);</span>
<a href="#l23.61"></a><span id="l23.61">     break;</span>
<a href="#l23.62"></a><span id="l23.62">   case 'd':  // date</span>
<a href="#l23.63"></a><span id="l23.63">     rv = FetchDate(msgHdr, aValue);</span>
<a href="#l23.64"></a><span id="l23.64">     break;</span>
<a href="#l23.65"></a><span id="l23.65" class="difflineplus">+  case 'c': // correspondent</span>
<a href="#l23.66"></a><span id="l23.66" class="difflineplus">+    if (IsOutgoingMsg(msgHdr))</span>
<a href="#l23.67"></a><span id="l23.67" class="difflineplus">+      rv = FetchRecipients(msgHdr, aValue);</span>
<a href="#l23.68"></a><span id="l23.68" class="difflineplus">+    else</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineplus">+      rv = FetchAuthor(msgHdr, aValue);</span>
<a href="#l23.70"></a><span id="l23.70" class="difflineplus">+    break;</span>
<a href="#l23.71"></a><span id="l23.71">   case 'p': // priority</span>
<a href="#l23.72"></a><span id="l23.72">     rv = FetchPriority(msgHdr, aValue);</span>
<a href="#l23.73"></a><span id="l23.73">     break;</span>
<a href="#l23.74"></a><span id="l23.74">   case 'a': // account</span>
<a href="#l23.75"></a><span id="l23.75">     if (aColumnName[1] == 'c') // account</span>
<a href="#l23.76"></a><span id="l23.76">       rv = FetchAccount(msgHdr, aValue);</span>
<a href="#l23.77"></a><span id="l23.77">     break;</span>
<a href="#l23.78"></a><span id="l23.78">   case 't':</span>
<a href="#l23.79"></a><span id="l23.79" class="difflineat">@@ -2215,16 +2240,39 @@ NS_IMETHODIMP nsMsgDBView::Open(nsIMsgFo</span>
<a href="#l23.80"></a><span id="l23.80">     if (prefs)</span>
<a href="#l23.81"></a><span id="l23.81">     {</span>
<a href="#l23.82"></a><span id="l23.82">       prefs-&gt;GetBoolPref(&quot;mailnews.sort_threads_by_root&quot;, &amp;mSortThreadsByRoot);</span>
<a href="#l23.83"></a><span id="l23.83"> </span>
<a href="#l23.84"></a><span id="l23.84">       if (mIsNews)</span>
<a href="#l23.85"></a><span id="l23.85">         prefs-&gt;GetBoolPref(&quot;news.show_size_in_lines&quot;, &amp;mShowSizeInLines);</span>
<a href="#l23.86"></a><span id="l23.86">     }</span>
<a href="#l23.87"></a><span id="l23.87">   }</span>
<a href="#l23.88"></a><span id="l23.88" class="difflineplus">+</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineplus">+  nsCOMPtr&lt;nsIArray&gt; identities;</span>
<a href="#l23.90"></a><span id="l23.90" class="difflineplus">+  rv = accountManager-&gt;GetAllIdentities(getter_AddRefs(identities));</span>
<a href="#l23.91"></a><span id="l23.91" class="difflineplus">+  if (!identities)</span>
<a href="#l23.92"></a><span id="l23.92" class="difflineplus">+    return rv;</span>
<a href="#l23.93"></a><span id="l23.93" class="difflineplus">+</span>
<a href="#l23.94"></a><span id="l23.94" class="difflineplus">+  uint32_t count;</span>
<a href="#l23.95"></a><span id="l23.95" class="difflineplus">+  identities-&gt;GetLength(&amp;count);</span>
<a href="#l23.96"></a><span id="l23.96" class="difflineplus">+  for (uint32_t i = 0; i &lt; count; i++)</span>
<a href="#l23.97"></a><span id="l23.97" class="difflineplus">+  {</span>
<a href="#l23.98"></a><span id="l23.98" class="difflineplus">+    nsCOMPtr&lt;nsIMsgIdentity&gt; identity(do_QueryElementAt(identities, i));</span>
<a href="#l23.99"></a><span id="l23.99" class="difflineplus">+    if (!identity)</span>
<a href="#l23.100"></a><span id="l23.100" class="difflineplus">+      continue;</span>
<a href="#l23.101"></a><span id="l23.101" class="difflineplus">+</span>
<a href="#l23.102"></a><span id="l23.102" class="difflineplus">+    nsCString email;</span>
<a href="#l23.103"></a><span id="l23.103" class="difflineplus">+    identity-&gt;GetEmail(email);</span>
<a href="#l23.104"></a><span id="l23.104" class="difflineplus">+    if (!email.IsEmpty())</span>
<a href="#l23.105"></a><span id="l23.105" class="difflineplus">+      mEmails.PutEntry(email);</span>
<a href="#l23.106"></a><span id="l23.106" class="difflineplus">+</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineplus">+    identity-&gt;GetReplyTo(email);</span>
<a href="#l23.108"></a><span id="l23.108" class="difflineplus">+    if (!email.IsEmpty())</span>
<a href="#l23.109"></a><span id="l23.109" class="difflineplus">+      mEmails.PutEntry(email);</span>
<a href="#l23.110"></a><span id="l23.110" class="difflineplus">+  }</span>
<a href="#l23.111"></a><span id="l23.111">   return NS_OK;</span>
<a href="#l23.112"></a><span id="l23.112"> }</span>
<a href="#l23.113"></a><span id="l23.113"> </span>
<a href="#l23.114"></a><span id="l23.114"> NS_IMETHODIMP nsMsgDBView::Close()</span>
<a href="#l23.115"></a><span id="l23.115"> {</span>
<a href="#l23.116"></a><span id="l23.116">   int32_t oldSize = GetSize();</span>
<a href="#l23.117"></a><span id="l23.117">   // this is important, because the tree will ask us for our</span>
<a href="#l23.118"></a><span id="l23.118">   // row count, which get determine from the number of keys.</span>
<a href="#l23.119"></a><span id="l23.119" class="difflineat">@@ -3806,16 +3854,17 @@ nsresult nsMsgDBView::GetFieldTypeAndLen</span>
<a href="#l23.120"></a><span id="l23.120">             break;</span>
<a href="#l23.121"></a><span id="l23.121">         case nsMsgViewSortType::byAccount:</span>
<a href="#l23.122"></a><span id="l23.122">         case nsMsgViewSortType::byTags:</span>
<a href="#l23.123"></a><span id="l23.123">         case nsMsgViewSortType::byLocation:</span>
<a href="#l23.124"></a><span id="l23.124">             *pFieldType = kCollationKey;</span>
<a href="#l23.125"></a><span id="l23.125">             *pMaxLen = kMaxLocationKey;</span>
<a href="#l23.126"></a><span id="l23.126">             break;</span>
<a href="#l23.127"></a><span id="l23.127">         case nsMsgViewSortType::byRecipient:</span>
<a href="#l23.128"></a><span id="l23.128" class="difflineplus">+        case nsMsgViewSortType::byCorrespondent:</span>
<a href="#l23.129"></a><span id="l23.129">             *pFieldType = kCollationKey;</span>
<a href="#l23.130"></a><span id="l23.130">             *pMaxLen = kMaxRecipientKey;</span>
<a href="#l23.131"></a><span id="l23.131">             break;</span>
<a href="#l23.132"></a><span id="l23.132">         case nsMsgViewSortType::byAuthor:</span>
<a href="#l23.133"></a><span id="l23.133">             *pFieldType = kCollationKey;</span>
<a href="#l23.134"></a><span id="l23.134">             *pMaxLen = kMaxAuthorKey;</span>
<a href="#l23.135"></a><span id="l23.135">             break;</span>
<a href="#l23.136"></a><span id="l23.136">         case nsMsgViewSortType::byDate:</span>
<a href="#l23.137"></a><span id="l23.137" class="difflineat">@@ -4191,16 +4240,35 @@ nsMsgDBView::GetCollationKey(nsIMsgDBHdr</span>
<a href="#l23.138"></a><span id="l23.138">         rv = dbToUse-&gt;CreateCollationKey(strKey, len, result);</span>
<a href="#l23.139"></a><span id="l23.139">       }</span>
<a href="#l23.140"></a><span id="l23.140">       else</span>
<a href="#l23.141"></a><span id="l23.141">       {</span>
<a href="#l23.142"></a><span id="l23.142">         NS_ERROR(&quot;should not be here (Sort Type: byCustom (String), but no custom handler)&quot;);</span>
<a href="#l23.143"></a><span id="l23.143">         rv = NS_ERROR_UNEXPECTED;</span>
<a href="#l23.144"></a><span id="l23.144">       }</span>
<a href="#l23.145"></a><span id="l23.145">       break;</span>
<a href="#l23.146"></a><span id="l23.146" class="difflineplus">+    case nsMsgViewSortType::byCorrespondent:</span>
<a href="#l23.147"></a><span id="l23.147" class="difflineplus">+      {</span>
<a href="#l23.148"></a><span id="l23.148" class="difflineplus">+        nsString value;</span>
<a href="#l23.149"></a><span id="l23.149" class="difflineplus">+        if (IsOutgoingMsg(msgHdr))</span>
<a href="#l23.150"></a><span id="l23.150" class="difflineplus">+          rv = FetchRecipients(msgHdr, value);</span>
<a href="#l23.151"></a><span id="l23.151" class="difflineplus">+        else</span>
<a href="#l23.152"></a><span id="l23.152" class="difflineplus">+          rv = FetchAuthor(msgHdr, value);</span>
<a href="#l23.153"></a><span id="l23.153" class="difflineplus">+        if (NS_SUCCEEDED(rv))</span>
<a href="#l23.154"></a><span id="l23.154" class="difflineplus">+        {</span>
<a href="#l23.155"></a><span id="l23.155" class="difflineplus">+          nsCOMPtr &lt;nsIMsgDatabase&gt; dbToUse = m_db;</span>
<a href="#l23.156"></a><span id="l23.156" class="difflineplus">+          if (!dbToUse) // probably search view</span>
<a href="#l23.157"></a><span id="l23.157" class="difflineplus">+          {</span>
<a href="#l23.158"></a><span id="l23.158" class="difflineplus">+            rv = GetDBForHeader(msgHdr, getter_AddRefs(dbToUse));</span>
<a href="#l23.159"></a><span id="l23.159" class="difflineplus">+            NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l23.160"></a><span id="l23.160" class="difflineplus">+          }</span>
<a href="#l23.161"></a><span id="l23.161" class="difflineplus">+          rv = dbToUse-&gt;CreateCollationKey(value, len, result);</span>
<a href="#l23.162"></a><span id="l23.162" class="difflineplus">+        }</span>
<a href="#l23.163"></a><span id="l23.163" class="difflineplus">+      }</span>
<a href="#l23.164"></a><span id="l23.164" class="difflineplus">+      break;</span>
<a href="#l23.165"></a><span id="l23.165">     default:</span>
<a href="#l23.166"></a><span id="l23.166">         rv = NS_ERROR_UNEXPECTED;</span>
<a href="#l23.167"></a><span id="l23.167">         break;</span>
<a href="#l23.168"></a><span id="l23.168">     }</span>
<a href="#l23.169"></a><span id="l23.169"> </span>
<a href="#l23.170"></a><span id="l23.170">     // bailing out with failure will stop the sort and leave us in</span>
<a href="#l23.171"></a><span id="l23.171">     // a bad state.  try to continue on, instead</span>
<a href="#l23.172"></a><span id="l23.172">     NS_ASSERTION(NS_SUCCEEDED(rv),&quot;failed to get the collation key&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mailnews/base/src/nsMsgDBView.h</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgDBView.h</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -24,16 +24,18 @@</span>
<a href="#l24.4"></a><span id="l24.4"> #include &quot;nsIAtom.h&quot;</span>
<a href="#l24.5"></a><span id="l24.5"> #include &quot;nsIImapIncomingServer.h&quot;</span>
<a href="#l24.6"></a><span id="l24.6"> #include &quot;nsIWeakReference.h&quot;</span>
<a href="#l24.7"></a><span id="l24.7"> #include &quot;nsIMsgFilterPlugin.h&quot;</span>
<a href="#l24.8"></a><span id="l24.8"> #include &quot;nsIStringBundle.h&quot;</span>
<a href="#l24.9"></a><span id="l24.9"> #include &quot;nsMsgTagService.h&quot;</span>
<a href="#l24.10"></a><span id="l24.10"> #include &quot;nsCOMArray.h&quot;</span>
<a href="#l24.11"></a><span id="l24.11"> #include &quot;nsTArray.h&quot;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineplus">+#include &quot;nsTHashtable.h&quot;</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+#include &quot;nsHashKeys.h&quot;</span>
<a href="#l24.14"></a><span id="l24.14"> #include &quot;nsIMsgCustomColumnHandler.h&quot;</span>
<a href="#l24.15"></a><span id="l24.15"> #include &quot;nsAutoPtr.h&quot;</span>
<a href="#l24.16"></a><span id="l24.16"> #include &quot;nsIWeakReferenceUtils.h&quot;</span>
<a href="#l24.17"></a><span id="l24.17"> #define MESSENGER_STRING_URL       &quot;chrome://messenger/locale/messenger.properties&quot;</span>
<a href="#l24.18"></a><span id="l24.18"> </span>
<a href="#l24.19"></a><span id="l24.19"> class nsVoidArray;</span>
<a href="#l24.20"></a><span id="l24.20"> </span>
<a href="#l24.21"></a><span id="l24.21"> typedef nsAutoTArray&lt;nsMsgViewIndex, 1&gt; nsMsgViewIndexArray;</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineat">@@ -59,16 +61,18 @@ public:</span>
<a href="#l24.23"></a><span id="l24.23">   nsCOMPtr &lt;nsIMsgCustomColumnHandler&gt; mColHandler;</span>
<a href="#l24.24"></a><span id="l24.24"> } ;</span>
<a href="#l24.25"></a><span id="l24.25"> </span>
<a href="#l24.26"></a><span id="l24.26"> // reserve the top 8 bits in the msg flags for the view-only flags.</span>
<a href="#l24.27"></a><span id="l24.27"> #define MSG_VIEW_FLAGS 0xEE000000</span>
<a href="#l24.28"></a><span id="l24.28"> #define MSG_VIEW_FLAG_HASCHILDREN 0x40000000</span>
<a href="#l24.29"></a><span id="l24.29"> #define MSG_VIEW_FLAG_DUMMY 0x20000000</span>
<a href="#l24.30"></a><span id="l24.30"> #define MSG_VIEW_FLAG_ISTHREAD 0x8000000</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineplus">+#define MSG_VIEW_FLAG_OUTGOING 0x2000000</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineplus">+#define MSG_VIEW_FLAG_INCOMING 0x1000000</span>
<a href="#l24.33"></a><span id="l24.33"> </span>
<a href="#l24.34"></a><span id="l24.34"> /* There currently only 5 labels defined */</span>
<a href="#l24.35"></a><span id="l24.35"> #define PREF_LABELS_MAX 5</span>
<a href="#l24.36"></a><span id="l24.36"> #define PREF_LABELS_DESCRIPTION  &quot;mailnews.labels.description.&quot;</span>
<a href="#l24.37"></a><span id="l24.37"> #define PREF_LABELS_COLOR  &quot;mailnews.labels.color.&quot;</span>
<a href="#l24.38"></a><span id="l24.38"> </span>
<a href="#l24.39"></a><span id="l24.39"> #define LABEL_COLOR_STRING &quot; lc-&quot;</span>
<a href="#l24.40"></a><span id="l24.40"> #define LABEL_COLOR_WHITE_STRING &quot;#FFFFFF&quot;</span>
<a href="#l24.41"></a><span id="l24.41" class="difflineat">@@ -155,16 +159,17 @@ protected:</span>
<a href="#l24.42"></a><span id="l24.42">   nsresult FetchSize(nsIMsgDBHdr * aHdr, nsAString &amp; aSizeString);</span>
<a href="#l24.43"></a><span id="l24.43">   nsresult FetchPriority(nsIMsgDBHdr *aHdr, nsAString &amp; aPriorityString);</span>
<a href="#l24.44"></a><span id="l24.44">   nsresult FetchLabel(nsIMsgDBHdr *aHdr, nsAString &amp; aLabelString);</span>
<a href="#l24.45"></a><span id="l24.45">   nsresult FetchTags(nsIMsgDBHdr *aHdr, nsAString &amp; aTagString);</span>
<a href="#l24.46"></a><span id="l24.46">   nsresult FetchKeywords(nsIMsgDBHdr *aHdr, nsACString &amp; keywordString);</span>
<a href="#l24.47"></a><span id="l24.47">   nsresult FetchRowKeywords(nsMsgViewIndex aRow, nsIMsgDBHdr *aHdr,</span>
<a href="#l24.48"></a><span id="l24.48">                             nsACString &amp; keywordString);</span>
<a href="#l24.49"></a><span id="l24.49">   nsresult FetchAccount(nsIMsgDBHdr * aHdr, nsAString&amp; aAccount);</span>
<a href="#l24.50"></a><span id="l24.50" class="difflineplus">+  bool IsOutgoingMsg(nsIMsgDBHdr * aHdr);</span>
<a href="#l24.51"></a><span id="l24.51">   nsresult CycleThreadedColumn(nsIDOMElement * aElement);</span>
<a href="#l24.52"></a><span id="l24.52"> </span>
<a href="#l24.53"></a><span id="l24.53">   // The default enumerator is over the db, but things like</span>
<a href="#l24.54"></a><span id="l24.54">   // quick search views will enumerate just the displayed messages.</span>
<a href="#l24.55"></a><span id="l24.55">   virtual nsresult GetMessageEnumerator(nsISimpleEnumerator **enumerator);</span>
<a href="#l24.56"></a><span id="l24.56">   // this is a message enumerator that enumerates based on the view contents</span>
<a href="#l24.57"></a><span id="l24.57">   virtual nsresult GetViewEnumerator(nsISimpleEnumerator **enumerator);</span>
<a href="#l24.58"></a><span id="l24.58"> </span>
<a href="#l24.59"></a><span id="l24.59" class="difflineat">@@ -429,16 +434,18 @@ protected:</span>
<a href="#l24.60"></a><span id="l24.60"> </span>
<a href="#l24.61"></a><span id="l24.61">   // these are the headers of the messages in the current</span>
<a href="#l24.62"></a><span id="l24.62">   // batch/series of batches of messages manually marked</span>
<a href="#l24.63"></a><span id="l24.63">   // as junk</span>
<a href="#l24.64"></a><span id="l24.64">   nsCOMPtr&lt;nsIMutableArray&gt; mJunkHdrs;</span>
<a href="#l24.65"></a><span id="l24.65">   </span>
<a href="#l24.66"></a><span id="l24.66">   nsTArray&lt;uint32_t&gt; mIndicesToNoteChange;</span>
<a href="#l24.67"></a><span id="l24.67"> </span>
<a href="#l24.68"></a><span id="l24.68" class="difflineplus">+  nsTHashtable&lt;nsCStringHashKey&gt; mEmails;</span>
<a href="#l24.69"></a><span id="l24.69" class="difflineplus">+</span>
<a href="#l24.70"></a><span id="l24.70">   // the saved search views keep track of the XX most recently deleted msg ids, so that if the </span>
<a href="#l24.71"></a><span id="l24.71">   // delete is undone, we can add the msg back to the search results, even if it no longer</span>
<a href="#l24.72"></a><span id="l24.72">   // matches the search criteria (e.g., a saved search over unread messages).</span>
<a href="#l24.73"></a><span id="l24.73">   // We use mRecentlyDeletedArrayIndex to treat the array as a list of the XX</span>
<a href="#l24.74"></a><span id="l24.74">   // most recently deleted msgs.</span>
<a href="#l24.75"></a><span id="l24.75">   nsTArray&lt;nsCString&gt; mRecentlyDeletedMsgIds;</span>
<a href="#l24.76"></a><span id="l24.76">   uint32_t mRecentlyDeletedArrayIndex;</span>
<a href="#l24.77"></a><span id="l24.77">   void RememberDeletedMsgHdr(nsIMsgDBHdr *msgHdr);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/base/src/nsMsgGroupView.cpp</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgGroupView.cpp</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -233,16 +233,22 @@ nsresult nsMsgGroupView::HashHdr(nsIMsgD</span>
<a href="#l25.4"></a><span id="l25.4">     {</span>
<a href="#l25.5"></a><span id="l25.5">       nsIMsgCustomColumnHandler* colHandler = GetCurColumnHandlerFromDBInfo();</span>
<a href="#l25.6"></a><span id="l25.6">       if (colHandler)</span>
<a href="#l25.7"></a><span id="l25.7">       {</span>
<a href="#l25.8"></a><span id="l25.8">         rv = colHandler-&gt;GetSortStringForRow(msgHdr, aHashKey);</span>
<a href="#l25.9"></a><span id="l25.9">         break;</span>
<a href="#l25.10"></a><span id="l25.10">       }</span>
<a href="#l25.11"></a><span id="l25.11">     }</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineplus">+    case nsMsgViewSortType::byCorrespondent:</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+      if (IsOutgoingMsg(msgHdr))</span>
<a href="#l25.14"></a><span id="l25.14" class="difflineplus">+        rv = FetchRecipients(msgHdr, aHashKey);</span>
<a href="#l25.15"></a><span id="l25.15" class="difflineplus">+      else</span>
<a href="#l25.16"></a><span id="l25.16" class="difflineplus">+        rv = FetchAuthor(msgHdr, aHashKey);</span>
<a href="#l25.17"></a><span id="l25.17" class="difflineplus">+      break;</span>
<a href="#l25.18"></a><span id="l25.18">     default:</span>
<a href="#l25.19"></a><span id="l25.19">       NS_ASSERTION(false, &quot;no hash key for this type&quot;);</span>
<a href="#l25.20"></a><span id="l25.20">       rv = NS_ERROR_FAILURE;</span>
<a href="#l25.21"></a><span id="l25.21">   }</span>
<a href="#l25.22"></a><span id="l25.22">   return rv;</span>
<a href="#l25.23"></a><span id="l25.23"> }</span>
<a href="#l25.24"></a><span id="l25.24"> </span>
<a href="#l25.25"></a><span id="l25.25"> nsMsgGroupThread *nsMsgGroupView::CreateGroupThread(nsIMsgDatabase *db)</span>
<a href="#l25.26"></a><span id="l25.26" class="difflineat">@@ -822,16 +828,17 @@ NS_IMETHODIMP nsMsgGroupView::CellTextFo</span>
<a href="#l25.27"></a><span id="l25.27">           tmp_str.Adopt(GetString(flags &amp; nsMsgMessageFlags::Marked ?</span>
<a href="#l25.28"></a><span id="l25.28">             MOZ_UTF16(&quot;groupFlagged&quot;) : MOZ_UTF16(&quot;notFlagged&quot;)));</span>
<a href="#l25.29"></a><span id="l25.29">           aValue.Assign(tmp_str);</span>
<a href="#l25.30"></a><span id="l25.30">           break;</span>
<a href="#l25.31"></a><span id="l25.31">         // byLocation is a special case; we don't want to have duplicate</span>
<a href="#l25.32"></a><span id="l25.32">         //  all this logic in nsMsgSearchDBView, and its hash key is what we</span>
<a href="#l25.33"></a><span id="l25.33">         //  want anyways, so just copy it across.</span>
<a href="#l25.34"></a><span id="l25.34">         case nsMsgViewSortType::byLocation:</span>
<a href="#l25.35"></a><span id="l25.35" class="difflineplus">+        case nsMsgViewSortType::byCorrespondent:</span>
<a href="#l25.36"></a><span id="l25.36">           aValue = hashKey;</span>
<a href="#l25.37"></a><span id="l25.37">           break;</span>
<a href="#l25.38"></a><span id="l25.38">         case nsMsgViewSortType::byCustom:</span>
<a href="#l25.39"></a><span id="l25.39">         {</span>
<a href="#l25.40"></a><span id="l25.40">           nsIMsgCustomColumnHandler* colHandler =</span>
<a href="#l25.41"></a><span id="l25.41">             GetCurColumnHandlerFromDBInfo();</span>
<a href="#l25.42"></a><span id="l25.42">           if (colHandler)</span>
<a href="#l25.43"></a><span id="l25.43">           {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/db/gloda/modules/dbview.js</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/db/gloda/modules/dbview.js</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -117,17 +117,17 @@ GlodaSyntheticView.prototype = {</span>
<a href="#l26.4"></a><span id="l26.4">       visible: true,</span>
<a href="#l26.5"></a><span id="l26.5">     },</span>
<a href="#l26.6"></a><span id="l26.6">     flaggedCol: {</span>
<a href="#l26.7"></a><span id="l26.7">       visible: true,</span>
<a href="#l26.8"></a><span id="l26.8">     },</span>
<a href="#l26.9"></a><span id="l26.9">     subjectCol: {</span>
<a href="#l26.10"></a><span id="l26.10">       visible: true,</span>
<a href="#l26.11"></a><span id="l26.11">     },</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-    senderCol: {</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+    correspondentCol: {</span>
<a href="#l26.14"></a><span id="l26.14">       visible: true,</span>
<a href="#l26.15"></a><span id="l26.15">     },</span>
<a href="#l26.16"></a><span id="l26.16">     dateCol: {</span>
<a href="#l26.17"></a><span id="l26.17">       visible: true,</span>
<a href="#l26.18"></a><span id="l26.18">     },</span>
<a href="#l26.19"></a><span id="l26.19">     locationCol: {</span>
<a href="#l26.20"></a><span id="l26.20">       visible: true,</span>
<a href="#l26.21"></a><span id="l26.21">     },</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

