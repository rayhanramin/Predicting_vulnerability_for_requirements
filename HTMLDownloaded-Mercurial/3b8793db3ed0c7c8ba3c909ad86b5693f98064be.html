<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 3664:3b8793db3ed0c7c8ba3c909ad86b5693f98064be</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 3b8793db3ed0c7c8ba3c909ad86b5693f98064be" />
<meta property="og:url" content="/comm-central/rev/3b8793db3ed0c7c8ba3c909ad86b5693f98064be" />
<meta property="og:description" content="merge of add-jquery" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 3b8793db3ed0c7c8ba3c909ad86b5693f98064be 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/3b8793db3ed0c7c8ba3c909ad86b5693f98064be">shortlog</a> |
<a href="/comm-central/log/3b8793db3ed0c7c8ba3c909ad86b5693f98064be">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/3b8793db3ed0c7c8ba3c909ad86b5693f98064be">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/3b8793db3ed0c7c8ba3c909ad86b5693f98064be">files</a> |
changeset |
<a href="/comm-central/raw-rev/3b8793db3ed0c7c8ba3c909ad86b5693f98064be">raw</a>  | <a href="/comm-central/archive/3b8793db3ed0c7c8ba3c909ad86b5693f98064be.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
merge of add-jquery
<span class="logtags"><span class="inbranchtag" title="gloda-facet">gloda-facet</span> </span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#68;&#97;&#118;&#105;&#100;&#32;&#65;&#115;&#99;&#104;&#101;&#114;&#32;&#60;&#100;&#97;&#118;&#105;&#100;&#64;&#109;&#111;&#122;&#105;&#108;&#108;&#97;&#109;&#101;&#115;&#115;&#97;&#103;&#105;&#110;&#103;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 03 Sep 2009 08:05:56 -0700</td></tr>
<tr><td>branch</td><td>gloda-facet</td></tr>
<tr>
 <td>changeset 3664</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/3b8793db3ed0c7c8ba3c909ad86b5693f98064be">3b8793db3ed0c7c8ba3c909ad86b5693f98064be</a></td>
</tr>



<tr>
<td>parent 3661</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/0f188e89542cf40313ef9648b6327fc740539bd7">0f188e89542cf40313ef9648b6327fc740539bd7</a> (current diff)
</td>
</tr>
<tr>
<td>parent 3663</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/dc908a9a0d068f6c4365697040f28334deb2c8c2">dc908a9a0d068f6c4365697040f28334deb2c8c2</a> (<a href="/comm-central/rev/dc908a9a0d068f6c4365697040f28334deb2c8c2:3b8793db3ed0">diff</a>)
</td>
</tr>

<tr>
<td>child 3665</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/57f191958e3184da4d542112cdd4921f0c344406">57f191958e3184da4d542112cdd4921f0c344406</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=3b8793db3ed0c7c8ba3c909ad86b5693f98064be">2927</a></td></tr>
<tr><td>push user</td><td>bugmail@asutherland.org</td></tr>
<tr><td>push date</td><td class="date age">Thu, 10 Sep 2009 01:15:56 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@0b161ed73eb6 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&newProject=comm-central&newRevision=b5e0aff84bf4077a47919481912ad0bd11c6a8d8&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&newProject=comm-central&newRevision=b5e0aff84bf4077a47919481912ad0bd11c6a8d8&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=0b161ed73eb66538ade852cb5a4b9b1b2c319a33&newProject=comm-central&newRevision=b5e0aff84bf4077a47919481912ad0bd11c6a8d8&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>






</table></div>

<div class="page_body description">merge of add-jquery</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/.hgpatchinfo/gloda-facet.dep">.hgpatchinfo/gloda-facet.dep</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/.hgpatchinfo/gloda-facet.dep">file</a> |
<a href="/comm-central/annotate/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/.hgpatchinfo/gloda-facet.dep">annotate</a> |
<a href="/comm-central/diff/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/.hgpatchinfo/gloda-facet.dep">diff</a> |
<a href="/comm-central/comparison/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/.hgpatchinfo/gloda-facet.dep">comparison</a> |
<a href="/comm-central/log/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/.hgpatchinfo/gloda-facet.dep">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mail/locales/en-US/chrome/messenger/messenger.dtd">mail/locales/en-US/chrome/messenger/messenger.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mail/locales/en-US/chrome/messenger/messenger.dtd">file</a> |
<a href="/comm-central/annotate/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mail/locales/en-US/chrome/messenger/messenger.dtd">annotate</a> |
<a href="/comm-central/diff/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mail/locales/en-US/chrome/messenger/messenger.dtd">diff</a> |
<a href="/comm-central/comparison/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mail/locales/en-US/chrome/messenger/messenger.dtd">comparison</a> |
<a href="/comm-central/log/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mail/locales/en-US/chrome/messenger/messenger.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mailnews/db/gloda/modules/indexer.js">mailnews/db/gloda/modules/indexer.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mailnews/db/gloda/modules/indexer.js">file</a> |
<a href="/comm-central/annotate/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mailnews/db/gloda/modules/indexer.js">annotate</a> |
<a href="/comm-central/diff/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mailnews/db/gloda/modules/indexer.js">diff</a> |
<a href="/comm-central/comparison/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mailnews/db/gloda/modules/indexer.js">comparison</a> |
<a href="/comm-central/log/3b8793db3ed0c7c8ba3c909ad86b5693f98064be/mailnews/db/gloda/modules/indexer.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/.hgpatchinfo/add-jquery.dep</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/.hgpatchinfo/add-jquery.dep</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1,1 +1,1 @@</span>
<a href="#l1.4"></a><span id="l1.4" class="difflineminus">-826a45bda40713eec6ad0cda38e7d005977bcf9a</span>
<a href="#l1.5"></a><span id="l1.5">\ No newline at end of file</span>
<a href="#l1.6"></a><span id="l1.6" class="difflineplus">+65b381ae1b8b3fc2da81d75e9067951524e9e1ea</span>
<a href="#l1.7"></a><span id="l1.7">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/.hgpatchinfo/add-protovis.dep</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/.hgpatchinfo/add-protovis.dep</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -1,1 +1,1 @@</span>
<a href="#l2.4"></a><span id="l2.4" class="difflineminus">-81f27df7d581e16ba97ef699a91b1082a354417b</span>
<a href="#l2.5"></a><span id="l2.5">\ No newline at end of file</span>
<a href="#l2.6"></a><span id="l2.6" class="difflineplus">+34ba282bf5498c40cf4cfb7c9e5be911ceb4ad04</span>
<a href="#l2.7"></a><span id="l2.7">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/.hgpatchinfo/gloda-facet.dep</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/.hgpatchinfo/gloda-facet.dep</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -1,1 +1,1 @@</span>
<a href="#l3.4"></a><span id="l3.4" class="difflineminus">-e7aecf93734f581be0d021e197abd436b3fea561</span>
<a href="#l3.5"></a><span id="l3.5">\ No newline at end of file</span>
<a href="#l3.6"></a><span id="l3.6" class="difflineplus">+dc908a9a0d068f6c4365697040f28334deb2c8c2</span>
<a href="#l3.7"></a><span id="l3.7">\ No newline at end of file</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-ui-utils.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -392,17 +392,17 @@ function appendCategoryItems(aItem, aCat</span>
<a href="#l4.4"></a><span id="l4.4">  * @param aParent     The XUL node to add the menuitem to.</span>
<a href="#l4.5"></a><span id="l4.5">  * @param aLabel      The label string of the menuitem.</span>
<a href="#l4.6"></a><span id="l4.6">  * @param aValue      The value attribute of the menuitem.</span>
<a href="#l4.7"></a><span id="l4.7">  * @param aCommand    The oncommand attribute of the menuitem.</span>
<a href="#l4.8"></a><span id="l4.8">  * @return            The newly created menuitem</span>
<a href="#l4.9"></a><span id="l4.9">  */</span>
<a href="#l4.10"></a><span id="l4.10"> function addMenuItem(aParent, aLabel, aValue, aCommand) {</span>
<a href="#l4.11"></a><span id="l4.11">     if (aParent.localName == &quot;menupopup&quot;) {</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        var item = document.createElementNS(&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;, &quot;menuitem&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+        var item = createXULElement(&quot;menuitem&quot;);</span>
<a href="#l4.14"></a><span id="l4.14">         item.setAttribute(&quot;label&quot;, aLabel);</span>
<a href="#l4.15"></a><span id="l4.15">         if (aValue) {</span>
<a href="#l4.16"></a><span id="l4.16">             item.setAttribute(&quot;value&quot;, aValue);</span>
<a href="#l4.17"></a><span id="l4.17">         }</span>
<a href="#l4.18"></a><span id="l4.18">         if (aCommand) {</span>
<a href="#l4.19"></a><span id="l4.19">             item.command = aCommand;</span>
<a href="#l4.20"></a><span id="l4.20">         }</span>
<a href="#l4.21"></a><span id="l4.21">         aParent.appendChild(item);</span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -661,66 +661,16 @@ function getOptimalMinimumHeight(aXULEle</span>
<a href="#l4.23"></a><span id="l4.23">     var secondEntity = getSummarizedStyleValues(aXULElement,</span>
<a href="#l4.24"></a><span id="l4.24">                                                 [&quot;padding-bottom&quot;, &quot;padding-top&quot;,</span>
<a href="#l4.25"></a><span id="l4.25">                                                 &quot;margin-bottom&quot;, &quot;margin-top&quot;,</span>
<a href="#l4.26"></a><span id="l4.26">                                                 &quot;border-bottom-width&quot;, &quot;border-top-width&quot;]);</span>
<a href="#l4.27"></a><span id="l4.27">     return (firstEntity + secondEntity);</span>
<a href="#l4.28"></a><span id="l4.28"> }</span>
<a href="#l4.29"></a><span id="l4.29"> </span>
<a href="#l4.30"></a><span id="l4.30"> /**</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">- * Use with textfields oninput to only allow integers</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineminus">- *</span>
<a href="#l4.33"></a><span id="l4.33" class="difflineminus">- * @param event         The event that contains the target</span>
<a href="#l4.34"></a><span id="l4.34" class="difflineminus">- * @param lowerBound    The lower bound the number should have</span>
<a href="#l4.35"></a><span id="l4.35" class="difflineminus">- * @param upperBound    The upper bound the number should have</span>
<a href="#l4.36"></a><span id="l4.36" class="difflineminus">- */</span>
<a href="#l4.37"></a><span id="l4.37" class="difflineminus">-function validateIntegerRange(event, lowerBound, upperBound) {</span>
<a href="#l4.38"></a><span id="l4.38" class="difflineminus">-    validateIntegers(event);</span>
<a href="#l4.39"></a><span id="l4.39" class="difflineminus">-</span>
<a href="#l4.40"></a><span id="l4.40" class="difflineminus">-    var num = Number(event.target.value);</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineminus">-</span>
<a href="#l4.42"></a><span id="l4.42" class="difflineminus">-    // Only modify the number if a value is entered, otherwise deleting the</span>
<a href="#l4.43"></a><span id="l4.43" class="difflineminus">-    // value (to maybe enter a new number) will cause the field to be set to the</span>
<a href="#l4.44"></a><span id="l4.44" class="difflineminus">-    // lower bound.</span>
<a href="#l4.45"></a><span id="l4.45" class="difflineminus">-    if (event.target.value != &quot;&quot; &amp;&amp; (num &lt; lowerBound || num &gt; upperBound)) {</span>
<a href="#l4.46"></a><span id="l4.46" class="difflineminus">-        event.target.value = Math.min(Math.max(num, lowerBound), upperBound);</span>
<a href="#l4.47"></a><span id="l4.47" class="difflineminus">-        event.preventDefault();</span>
<a href="#l4.48"></a><span id="l4.48" class="difflineminus">-    }</span>
<a href="#l4.49"></a><span id="l4.49" class="difflineminus">-}</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineminus">-/**</span>
<a href="#l4.52"></a><span id="l4.52" class="difflineminus">- * Validate Integers, or rather validate numbers. Makes sure the input value is</span>
<a href="#l4.53"></a><span id="l4.53" class="difflineminus">- * a number.</span>
<a href="#l4.54"></a><span id="l4.54" class="difflineminus">- *</span>
<a href="#l4.55"></a><span id="l4.55" class="difflineminus">- * @param event         The event that contains the target</span>
<a href="#l4.56"></a><span id="l4.56" class="difflineminus">- */</span>
<a href="#l4.57"></a><span id="l4.57" class="difflineminus">-function validateIntegers(event) {</span>
<a href="#l4.58"></a><span id="l4.58" class="difflineminus">-    if (isNaN(Number(event.target.value))) {</span>
<a href="#l4.59"></a><span id="l4.59" class="difflineminus">-        var newValue = parseInt(event.target.value);</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineminus">-        event.target.value = isNaN(newValue) ? &quot;&quot; : newValue;</span>
<a href="#l4.61"></a><span id="l4.61" class="difflineminus">-        event.preventDefault();</span>
<a href="#l4.62"></a><span id="l4.62" class="difflineminus">-    }</span>
<a href="#l4.63"></a><span id="l4.63" class="difflineminus">-}</span>
<a href="#l4.64"></a><span id="l4.64" class="difflineminus">-</span>
<a href="#l4.65"></a><span id="l4.65" class="difflineminus">-/**</span>
<a href="#l4.66"></a><span id="l4.66" class="difflineminus">- * Make sure the number entered is 0 or more. A negative number is turned</span>
<a href="#l4.67"></a><span id="l4.67" class="difflineminus">- * positive.</span>
<a href="#l4.68"></a><span id="l4.68" class="difflineminus">- *</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">- * @param event         The event that contains the target</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineminus">- */</span>
<a href="#l4.71"></a><span id="l4.71" class="difflineminus">-function validateNaturalNums(event) {</span>
<a href="#l4.72"></a><span id="l4.72" class="difflineminus">-    validateIntegers(event);</span>
<a href="#l4.73"></a><span id="l4.73" class="difflineminus">-    var num = event.target.value;</span>
<a href="#l4.74"></a><span id="l4.74" class="difflineminus">-    if (num &lt; 0) {</span>
<a href="#l4.75"></a><span id="l4.75" class="difflineminus">-        event.target.value = -1 * num;</span>
<a href="#l4.76"></a><span id="l4.76" class="difflineminus">-        event.preventDefault();</span>
<a href="#l4.77"></a><span id="l4.77" class="difflineminus">-    }</span>
<a href="#l4.78"></a><span id="l4.78" class="difflineminus">-}</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineminus">-</span>
<a href="#l4.80"></a><span id="l4.80" class="difflineminus">-/**</span>
<a href="#l4.81"></a><span id="l4.81">  * Gets the &quot;other&quot; orientation value, i.e if &quot;horizontal&quot; is passed, &quot;vertical&quot;</span>
<a href="#l4.82"></a><span id="l4.82">  * is returned and vice versa.</span>
<a href="#l4.83"></a><span id="l4.83">  *</span>
<a href="#l4.84"></a><span id="l4.84">  * @param aOrientation    The orientation value to turn around.</span>
<a href="#l4.85"></a><span id="l4.85">  * @return                The opposite orientation value.</span>
<a href="#l4.86"></a><span id="l4.86">  */</span>
<a href="#l4.87"></a><span id="l4.87"> function getOtherOrientation(aOrientation) {</span>
<a href="#l4.88"></a><span id="l4.88">      return (aOrientation == &quot;horizontal&quot; ? &quot;vertical&quot; : &quot;horizontal&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-recurrence.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -109,19 +109,23 @@</span>
<a href="#l5.4"></a><span id="l5.4">               &lt;radiogroup id=&quot;daily-group&quot;</span>
<a href="#l5.5"></a><span id="l5.5">                           oncommand=&quot;updateRecurrenceControls();&quot;&gt;</span>
<a href="#l5.6"></a><span id="l5.6">                 &lt;box id=&quot;daily-period-every-box&quot; orient=&quot;horizontal&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.7"></a><span id="l5.7">                   &lt;radio id=&quot;daily-group-every-radio&quot;</span>
<a href="#l5.8"></a><span id="l5.8">                          label=&quot;&amp;event.recurrence.pattern.every.label;&quot;</span>
<a href="#l5.9"></a><span id="l5.9">                          disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.10"></a><span id="l5.10">                          disable-on-occurrence=&quot;true&quot;</span>
<a href="#l5.11"></a><span id="l5.11">                          selected=&quot;true&quot;/&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-                  &lt;textbox id=&quot;daily-days&quot; value=&quot;1&quot;</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+                  &lt;textbox id=&quot;daily-days&quot;</span>
<a href="#l5.14"></a><span id="l5.14" class="difflineplus">+                           type=&quot;number&quot;</span>
<a href="#l5.15"></a><span id="l5.15" class="difflineplus">+                           value=&quot;1&quot;</span>
<a href="#l5.16"></a><span id="l5.16" class="difflineplus">+                           min=&quot;1&quot;</span>
<a href="#l5.17"></a><span id="l5.17" class="difflineplus">+                           max=&quot;0x7FFF&quot;</span>
<a href="#l5.18"></a><span id="l5.18">                            size=&quot;3&quot;</span>
<a href="#l5.19"></a><span id="l5.19" class="difflineminus">-                           oninput=&quot;validateIntegerRange(event, 1, 0x7FFF); updateRecurrenceControls();&quot;</span>
<a href="#l5.20"></a><span id="l5.20" class="difflineplus">+                           oninput=&quot;updateRecurrenceControls();&quot;</span>
<a href="#l5.21"></a><span id="l5.21">                            disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.22"></a><span id="l5.22">                            disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.23"></a><span id="l5.23">                   &lt;label id=&quot;daily-group-every-units-label&quot;</span>
<a href="#l5.24"></a><span id="l5.24">                          value=&quot;&amp;repeat.units.days.both;&quot;</span>
<a href="#l5.25"></a><span id="l5.25">                          disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.26"></a><span id="l5.26">                          disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.27"></a><span id="l5.27">                   &lt;spacer id=&quot;daily-group-spacer&quot; flex=&quot;1&quot;/&gt;</span>
<a href="#l5.28"></a><span id="l5.28">                 &lt;/box&gt;</span>
<a href="#l5.29"></a><span id="l5.29" class="difflineat">@@ -135,19 +139,22 @@</span>
<a href="#l5.30"></a><span id="l5.30">             &lt;vbox id=&quot;period-deck-weekly-box&quot;&gt;</span>
<a href="#l5.31"></a><span id="l5.31">               &lt;hbox id=&quot;weekly-period-every-box&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.32"></a><span id="l5.32">                 &lt;label id=&quot;weekly-period-every-label&quot;</span>
<a href="#l5.33"></a><span id="l5.33">                        value=&quot;&amp;event.recurrence.pattern.weekly.every.label;&quot;</span>
<a href="#l5.34"></a><span id="l5.34">                        disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.35"></a><span id="l5.35">                        disable-on-occurrence=&quot;true&quot;</span>
<a href="#l5.36"></a><span id="l5.36">                        control=&quot;weekly-weeks&quot;/&gt;</span>
<a href="#l5.37"></a><span id="l5.37">                 &lt;textbox id=&quot;weekly-weeks&quot;</span>
<a href="#l5.38"></a><span id="l5.38" class="difflineplus">+                         type=&quot;number&quot;</span>
<a href="#l5.39"></a><span id="l5.39">                          value=&quot;1&quot;</span>
<a href="#l5.40"></a><span id="l5.40" class="difflineplus">+                         min=&quot;1&quot;</span>
<a href="#l5.41"></a><span id="l5.41" class="difflineplus">+                         max=&quot;0x7FFF&quot;</span>
<a href="#l5.42"></a><span id="l5.42">                          size=&quot;3&quot;</span>
<a href="#l5.43"></a><span id="l5.43" class="difflineminus">-                         oninput=&quot;validateIntegerRange(event, 1, 0x7FFF); updateRecurrenceControls();&quot;</span>
<a href="#l5.44"></a><span id="l5.44" class="difflineplus">+                         oninput=&quot;updateRecurrenceControls();&quot;</span>
<a href="#l5.45"></a><span id="l5.45">                          disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.46"></a><span id="l5.46">                          disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.47"></a><span id="l5.47">                 &lt;label id=&quot;weekly-period-units-label&quot;</span>
<a href="#l5.48"></a><span id="l5.48">                        value=&quot;&amp;repeat.units.weeks.both;&quot;</span>
<a href="#l5.49"></a><span id="l5.49">                        disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.50"></a><span id="l5.50">                        disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.51"></a><span id="l5.51">               &lt;/hbox&gt;</span>
<a href="#l5.52"></a><span id="l5.52">               &lt;hbox&gt;</span>
<a href="#l5.53"></a><span id="l5.53" class="difflineat">@@ -168,19 +175,22 @@</span>
<a href="#l5.54"></a><span id="l5.54">             &lt;vbox id=&quot;period-deck-monthly-box&quot;&gt;</span>
<a href="#l5.55"></a><span id="l5.55">               &lt;hbox id=&quot;montly-period-every-box&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.56"></a><span id="l5.56">                 &lt;label id=&quot;monthly-period-every-label&quot;</span>
<a href="#l5.57"></a><span id="l5.57">                        value=&quot;&amp;event.recurrence.pattern.monthly.every.label;&quot;</span>
<a href="#l5.58"></a><span id="l5.58">                        disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.59"></a><span id="l5.59">                        disable-on-occurrence=&quot;true&quot;</span>
<a href="#l5.60"></a><span id="l5.60">                        control=&quot;monthly-interval&quot;/&gt;</span>
<a href="#l5.61"></a><span id="l5.61">                 &lt;textbox id=&quot;monthly-interval&quot;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+                         type=&quot;number&quot;</span>
<a href="#l5.63"></a><span id="l5.63">                          value=&quot;1&quot;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+                         min=&quot;1&quot;</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+                         max=&quot;0x7FFF&quot;</span>
<a href="#l5.66"></a><span id="l5.66">                          size=&quot;3&quot;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineminus">-                         oninput=&quot;validateIntegerRange(event, 1, 0x7FFF); updateRecurrenceControls();&quot;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+                         oninput=&quot;updateRecurrenceControls();&quot;</span>
<a href="#l5.69"></a><span id="l5.69">                          disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.70"></a><span id="l5.70">                          disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.71"></a><span id="l5.71">                 &lt;label id=&quot;monthly-period-units-label&quot;</span>
<a href="#l5.72"></a><span id="l5.72">                        value=&quot;&amp;repeat.units.months.both;&quot;</span>
<a href="#l5.73"></a><span id="l5.73">                        disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.74"></a><span id="l5.74">                        disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.75"></a><span id="l5.75">               &lt;/hbox&gt;</span>
<a href="#l5.76"></a><span id="l5.76">               &lt;radiogroup id=&quot;monthly-group&quot;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineat">@@ -268,19 +278,22 @@</span>
<a href="#l5.78"></a><span id="l5.78">             &lt;box id=&quot;period-deck-yearly-box&quot;</span>
<a href="#l5.79"></a><span id="l5.79">                  orient=&quot;vertical&quot;</span>
<a href="#l5.80"></a><span id="l5.80">                  align=&quot;top&quot;&gt;</span>
<a href="#l5.81"></a><span id="l5.81">               &lt;hbox id=&quot;yearly-period-every-box&quot; align=&quot;center&quot;&gt;</span>
<a href="#l5.82"></a><span id="l5.82">                 &lt;label id=&quot;yearly-period-every-label&quot;</span>
<a href="#l5.83"></a><span id="l5.83">                        value=&quot;&amp;event.recurrence.every.label;&quot;</span>
<a href="#l5.84"></a><span id="l5.84">                        control=&quot;yearly-interval&quot;/&gt;</span>
<a href="#l5.85"></a><span id="l5.85">                 &lt;textbox id=&quot;yearly-interval&quot;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+                         type=&quot;number&quot;</span>
<a href="#l5.87"></a><span id="l5.87">                          value=&quot;1&quot;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+                         min=&quot;1&quot;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+                         max=&quot;0x7FFF&quot;</span>
<a href="#l5.90"></a><span id="l5.90">                          size=&quot;3&quot;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineminus">-                         oninput=&quot;validateIntegerRange(event, 1, 0x7FFF); updateRecurrenceControls();&quot;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+                         oninput=&quot;updateRecurrenceControls();&quot;</span>
<a href="#l5.93"></a><span id="l5.93">                          disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.94"></a><span id="l5.94">                          disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.95"></a><span id="l5.95">                 &lt;label id=&quot;yearly-period-units-label&quot; value=&quot;&amp;repeat.units.years.both;&quot;/&gt;</span>
<a href="#l5.96"></a><span id="l5.96">               &lt;/hbox&gt;</span>
<a href="#l5.97"></a><span id="l5.97">               &lt;radiogroup id=&quot;yearly-group&quot;</span>
<a href="#l5.98"></a><span id="l5.98">                           oncommand=&quot;updateRecurrenceControls();&quot;&gt;</span>
<a href="#l5.99"></a><span id="l5.99">                 &lt;grid id=&quot;yearly-period-grid&quot;&gt;</span>
<a href="#l5.100"></a><span id="l5.100">                   &lt;columns id=&quot;yearly-period-columns&quot;&gt;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineat">@@ -293,17 +306,19 @@</span>
<a href="#l5.102"></a><span id="l5.102">                              label=&quot;&amp;event.recurrence.pattern.yearly.every.month.label;&quot;</span>
<a href="#l5.103"></a><span id="l5.103">                              selected=&quot;true&quot;</span>
<a href="#l5.104"></a><span id="l5.104">                              disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.105"></a><span id="l5.105">                              disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.106"></a><span id="l5.106">                       &lt;box id=&quot;yearly-period-absolute-controls&quot;</span>
<a href="#l5.107"></a><span id="l5.107">                            orient=&quot;horizontal&quot;</span>
<a href="#l5.108"></a><span id="l5.108">                            align=&quot;center&quot;&gt;</span>
<a href="#l5.109"></a><span id="l5.109">                         &lt;textbox id=&quot;yearly-days&quot;</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+                                 type=&quot;number&quot;</span>
<a href="#l5.111"></a><span id="l5.111">                                  value=&quot;1&quot;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+                                 min=&quot;1&quot;</span>
<a href="#l5.113"></a><span id="l5.113">                                  size=&quot;3&quot;</span>
<a href="#l5.114"></a><span id="l5.114">                                  oninput=&quot;updateRecurrenceControls();&quot;</span>
<a href="#l5.115"></a><span id="l5.115">                                  disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.116"></a><span id="l5.116">                                  disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.117"></a><span id="l5.117">                         &lt;label id=&quot;yearly-period-of-month-label&quot;</span>
<a href="#l5.118"></a><span id="l5.118">                                value=&quot;&amp;event.recurrence.pattern.yearly.of.label;&quot;</span>
<a href="#l5.119"></a><span id="l5.119">                                control=&quot;yearly-month-ordinal&quot;/&gt;</span>
<a href="#l5.120"></a><span id="l5.120">                         &lt;menulist id=&quot;yearly-month-ordinal&quot;</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineat">@@ -487,19 +502,22 @@</span>
<a href="#l5.122"></a><span id="l5.122">              orient=&quot;horizontal&quot;</span>
<a href="#l5.123"></a><span id="l5.123">              align=&quot;center&quot;&gt;</span>
<a href="#l5.124"></a><span id="l5.124">           &lt;radio id=&quot;recurrence-range-for&quot;</span>
<a href="#l5.125"></a><span id="l5.125">                  label=&quot;&amp;event.recurrence.repeat.for.label;&quot;</span>
<a href="#l5.126"></a><span id="l5.126">                  value=&quot;ntimes&quot;</span>
<a href="#l5.127"></a><span id="l5.127">                  disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.128"></a><span id="l5.128">                  disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.129"></a><span id="l5.129">           &lt;textbox id=&quot;repeat-ntimes-count&quot;</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineminus">-                   size=&quot;3&quot;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+                   type=&quot;number&quot;</span>
<a href="#l5.132"></a><span id="l5.132">                    value=&quot;5&quot;</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineminus">-                   oninput=&quot;validateIntegerRange(event, 1, 0x7FFF); updateRecurrenceControls();&quot;</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineplus">+                   min=&quot;1&quot;</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineplus">+                   max=&quot;0x7FFF&quot;</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+                   size=&quot;3&quot;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+                   oninput=&quot;updateRecurrenceControls();&quot;</span>
<a href="#l5.138"></a><span id="l5.138">                    disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.139"></a><span id="l5.139">                    disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.140"></a><span id="l5.140">           &lt;label id=&quot;repeat-appointments-label&quot;</span>
<a href="#l5.141"></a><span id="l5.141">                  value=&quot;&amp;event.recurrence.appointments.label;&quot;</span>
<a href="#l5.142"></a><span id="l5.142">                  disable-on-readonly=&quot;true&quot;</span>
<a href="#l5.143"></a><span id="l5.143">                  disable-on-occurrence=&quot;true&quot;/&gt;</span>
<a href="#l5.144"></a><span id="l5.144">         &lt;/box&gt;</span>
<a href="#l5.145"></a><span id="l5.145">         &lt;box id=&quot;recurrence-range-until-box&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-reminder.xul</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -86,18 +86,20 @@</span>
<a href="#l6.4"></a><span id="l6.4">                 onselect=&quot;setupRadioEnabledState(); updateReminder(event)&quot;&gt;</span>
<a href="#l6.5"></a><span id="l6.5">     &lt;hbox id=&quot;reminder-relative-box&quot; align=&quot;top&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l6.6"></a><span id="l6.6">       &lt;radio id=&quot;reminder-relative-radio&quot;</span>
<a href="#l6.7"></a><span id="l6.7">              value=&quot;relative&quot;</span>
<a href="#l6.8"></a><span id="l6.8">              aria-labeledby=&quot;reminder-length reminder-unit reminder-relation reminder-origin&quot;/&gt;</span>
<a href="#l6.9"></a><span id="l6.9">       &lt;vbox id=&quot;reminder-relative-box&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l6.10"></a><span id="l6.10">         &lt;hbox id=&quot;reminder-relative-length-unit-relation&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l6.11"></a><span id="l6.11">           &lt;textbox id=&quot;reminder-length&quot;</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineplus">+                   type=&quot;number&quot;</span>
<a href="#l6.13"></a><span id="l6.13">                    size=&quot;1&quot;</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineminus">-                   oninput=&quot;validateIntegers(event); updateReminder(event)&quot;/&gt;</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+                   min=&quot;1&quot;</span>
<a href="#l6.16"></a><span id="l6.16" class="difflineplus">+                   oninput=&quot;updateReminder(event)&quot;/&gt;</span>
<a href="#l6.17"></a><span id="l6.17">           &lt;menulist id=&quot;reminder-unit&quot; oncommand=&quot;updateReminder(event)&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l6.18"></a><span id="l6.18">             &lt;menupopup id=&quot;reminder-unit-menupopup&quot;&gt;</span>
<a href="#l6.19"></a><span id="l6.19">               &lt;menuitem id=&quot;reminder-minutes-menuitem&quot;</span>
<a href="#l6.20"></a><span id="l6.20">                         label=&quot;&amp;alarm.units.minutes;&quot;</span>
<a href="#l6.21"></a><span id="l6.21">                         value=&quot;minutes&quot;/&gt;</span>
<a href="#l6.22"></a><span id="l6.22">               &lt;menuitem id=&quot;reminder-hours-menuitem&quot;</span>
<a href="#l6.23"></a><span id="l6.23">                         label=&quot;&amp;alarm.units.hours;&quot;</span>
<a href="#l6.24"></a><span id="l6.24">                         value=&quot;hours&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog.xul</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog.xul</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -848,18 +848,20 @@</span>
<a href="#l7.4"></a><span id="l7.4">                         &lt;/menupopup&gt;</span>
<a href="#l7.5"></a><span id="l7.5">                     &lt;/menulist&gt;</span>
<a href="#l7.6"></a><span id="l7.6">                     &lt;datepicker id=&quot;completed-date-picker&quot;</span>
<a href="#l7.7"></a><span id="l7.7">                                 class=&quot;todo-only&quot;</span>
<a href="#l7.8"></a><span id="l7.8">                                 disable-on-readonly=&quot;true&quot;</span>
<a href="#l7.9"></a><span id="l7.9">                                 disabled=&quot;true&quot;</span>
<a href="#l7.10"></a><span id="l7.10">                                 value=&quot;&quot;/&gt;</span>
<a href="#l7.11"></a><span id="l7.11">                     &lt;textbox id=&quot;percent-complete-textbox&quot;</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+                             type=&quot;number&quot;</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+                             min=&quot;0&quot;</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+                             max=&quot;100&quot;</span>
<a href="#l7.15"></a><span id="l7.15">                              disable-on-readonly=&quot;true&quot;</span>
<a href="#l7.16"></a><span id="l7.16" class="difflineminus">-                             oninput=&quot;validateIntegers(event);&quot;</span>
<a href="#l7.17"></a><span id="l7.17">                              size=&quot;3&quot;/&gt;</span>
<a href="#l7.18"></a><span id="l7.18">                     &lt;label id=&quot;percent-complete-label&quot;</span>
<a href="#l7.19"></a><span id="l7.19">                            class=&quot;todo-only&quot;</span>
<a href="#l7.20"></a><span id="l7.20">                            disable-on-readonly=&quot;true&quot;</span>
<a href="#l7.21"></a><span id="l7.21">                            value=&quot;&amp;newtodo.percentcomplete.label;&quot;/&gt;</span>
<a href="#l7.22"></a><span id="l7.22">                 &lt;/hbox&gt;</span>
<a href="#l7.23"></a><span id="l7.23">             &lt;/row&gt;</span>
<a href="#l7.24"></a><span id="l7.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/preferences/alarms.xul</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/preferences/alarms.xul</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -195,18 +195,20 @@</span>
<a href="#l8.4"></a><span id="l8.4">                         &lt;vbox align=&quot;start&quot;&gt;</span>
<a href="#l8.5"></a><span id="l8.5">                             &lt;label value=&quot;&amp;pref.defalarmlen4events.label;&quot;</span>
<a href="#l8.6"></a><span id="l8.6">                                    accesskey=&quot;&amp;pref.defalarmlen4events.accesskey;&quot;</span>
<a href="#l8.7"></a><span id="l8.7">                                    control=&quot;eventdefalarmlen&quot;/&gt;</span>
<a href="#l8.8"></a><span id="l8.8">                         &lt;/vbox&gt;</span>
<a href="#l8.9"></a><span id="l8.9">                         &lt;hbox&gt;</span>
<a href="#l8.10"></a><span id="l8.10">                             &lt;textbox id=&quot;eventdefalarmlen&quot;</span>
<a href="#l8.11"></a><span id="l8.11">                                      preference=&quot;calendar.alarms.eventalarmlen&quot;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+                                     type=&quot;number&quot;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+                                     min=&quot;0&quot;</span>
<a href="#l8.14"></a><span id="l8.14">                                      size=&quot;3&quot;</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineminus">-                                     oninput=&quot;validateNaturalNums(event); gAlarmsPane.updateMenuPlural('eventdefalarmlen','eventdefalarmunit')&quot;/&gt;</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+                                     oninput=&quot;gAlarmsPane.updateMenuPlural('eventdefalarmlen','eventdefalarmunit')&quot;/&gt;</span>
<a href="#l8.17"></a><span id="l8.17">                             &lt;menulist id=&quot;eventdefalarmunit&quot;</span>
<a href="#l8.18"></a><span id="l8.18">                                       crop=&quot;none&quot;</span>
<a href="#l8.19"></a><span id="l8.19">                                       preference=&quot;calendar.alarms.eventalarmunit&quot;</span>
<a href="#l8.20"></a><span id="l8.20">                                       labelnumber=&quot;labelplural&quot;&gt;</span>
<a href="#l8.21"></a><span id="l8.21">                                 &lt;menupopup id=&quot;eventdefalarmunitpopup&quot;&gt;</span>
<a href="#l8.22"></a><span id="l8.22">                                     &lt;menuitem id=&quot;eventdefalarmunitmin&quot;</span>
<a href="#l8.23"></a><span id="l8.23">                                               label=&quot;&amp;calendar.global.units.minutes;&quot;</span>
<a href="#l8.24"></a><span id="l8.24">                                               labelplural=&quot;&amp;calendar.global.units.minutes;&quot;</span>
<a href="#l8.25"></a><span id="l8.25" class="difflineat">@@ -231,18 +233,20 @@</span>
<a href="#l8.26"></a><span id="l8.26">                         &lt;vbox align=&quot;start&quot;&gt;</span>
<a href="#l8.27"></a><span id="l8.27">                             &lt;label value=&quot;&amp;pref.defalarmlen4todos.label;&quot;</span>
<a href="#l8.28"></a><span id="l8.28">                                    accesskey=&quot;&amp;pref.defalarmlen4todos.accesskey;&quot;</span>
<a href="#l8.29"></a><span id="l8.29">                                    control=&quot;tododefalarmlen&quot;/&gt;</span>
<a href="#l8.30"></a><span id="l8.30">                         &lt;/vbox&gt;</span>
<a href="#l8.31"></a><span id="l8.31">                         &lt;hbox&gt;</span>
<a href="#l8.32"></a><span id="l8.32">                             &lt;textbox id=&quot;tododefalarmlen&quot;</span>
<a href="#l8.33"></a><span id="l8.33">                                      preference=&quot;calendar.alarms.todoalarmlen&quot;</span>
<a href="#l8.34"></a><span id="l8.34" class="difflineplus">+                                     type=&quot;number&quot;</span>
<a href="#l8.35"></a><span id="l8.35" class="difflineplus">+                                     min=&quot;0&quot;</span>
<a href="#l8.36"></a><span id="l8.36">                                      size=&quot;3&quot;</span>
<a href="#l8.37"></a><span id="l8.37" class="difflineminus">-                                     oninput=&quot;validateNaturalNums(event); gAlarmsPane.updateMenuPlural('tododefalarmlen','tododefalarmunit')&quot;/&gt;</span>
<a href="#l8.38"></a><span id="l8.38" class="difflineplus">+                                     oninput=&quot;gAlarmsPane.updateMenuPlural('tododefalarmlen','tododefalarmunit')&quot;/&gt;</span>
<a href="#l8.39"></a><span id="l8.39">                             &lt;menulist id=&quot;tododefalarmunit&quot;</span>
<a href="#l8.40"></a><span id="l8.40">                                       crop=&quot;none&quot;</span>
<a href="#l8.41"></a><span id="l8.41">                                       preference=&quot;calendar.alarms.todoalarmunit&quot;</span>
<a href="#l8.42"></a><span id="l8.42">                                       labelnumber=&quot;labelplural&quot;&gt;</span>
<a href="#l8.43"></a><span id="l8.43">                                 &lt;menupopup id=&quot;tododefalarmunitpopup&quot;&gt;</span>
<a href="#l8.44"></a><span id="l8.44">                                     &lt;menuitem id=&quot;tododefalarmunitmin&quot;</span>
<a href="#l8.45"></a><span id="l8.45">                                               label=&quot;&amp;calendar.global.units.minutes;&quot;</span>
<a href="#l8.46"></a><span id="l8.46">                                               labelplural=&quot;&amp;calendar.global.units.minutes;&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/preferences/connection.xul</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/preferences/connection.xul</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -103,17 +103,17 @@</span>
<a href="#l9.4"></a><span id="l9.4">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.5"></a><span id="l9.5">               &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l9.6"></a><span id="l9.6">                 &lt;label value=&quot;&amp;http.label;&quot; accesskey=&quot;&amp;http.accesskey;&quot; control=&quot;networkProxyHTTP&quot;/&gt;</span>
<a href="#l9.7"></a><span id="l9.7">               &lt;/hbox&gt;</span>
<a href="#l9.8"></a><span id="l9.8">               &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l9.9"></a><span id="l9.9">                 &lt;textbox id=&quot;networkProxyHTTP&quot; flex=&quot;1&quot;</span>
<a href="#l9.10"></a><span id="l9.10">                          preference=&quot;network.proxy.http&quot; onsyncfrompreference=&quot;return gConnectionsDialog.readHTTPProxyServer();&quot;/&gt;</span>
<a href="#l9.11"></a><span id="l9.11">                 &lt;label value=&quot;&amp;port.label;&quot; accesskey=&quot;&amp;HTTPport.accesskey;&quot; control=&quot;networkProxyHTTP_Port&quot;/&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-                &lt;textbox id=&quot;networkProxyHTTP_Port&quot; size=&quot;5&quot;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+                &lt;textbox id=&quot;networkProxyHTTP_Port&quot; size=&quot;5&quot; type=&quot;number&quot; min=&quot;0&quot; max=&quot;65535&quot;</span>
<a href="#l9.14"></a><span id="l9.14">                          preference=&quot;network.proxy.http_port&quot; onsyncfrompreference=&quot;return gConnectionsDialog.readHTTPProxyPort();&quot;/&gt;</span>
<a href="#l9.15"></a><span id="l9.15">               &lt;/hbox&gt;</span>
<a href="#l9.16"></a><span id="l9.16">             &lt;/row&gt;</span>
<a href="#l9.17"></a><span id="l9.17">             &lt;row&gt;</span>
<a href="#l9.18"></a><span id="l9.18">               &lt;hbox/&gt;</span>
<a href="#l9.19"></a><span id="l9.19">               &lt;hbox&gt;</span>
<a href="#l9.20"></a><span id="l9.20">                 &lt;checkbox id=&quot;shareAllProxies&quot; label=&quot;&amp;shareproxy.label;&quot; accesskey=&quot;&amp;shareproxy.accesskey;&quot;</span>
<a href="#l9.21"></a><span id="l9.21">                           preference=&quot;network.proxy.share_proxy_settings&quot;</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineat">@@ -123,41 +123,41 @@</span>
<a href="#l9.23"></a><span id="l9.23">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.24"></a><span id="l9.24">               &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l9.25"></a><span id="l9.25">                 &lt;label value=&quot;&amp;ssl.label;&quot; accesskey=&quot;&amp;ssl.accesskey;&quot; control=&quot;networkProxySSL&quot;/&gt;</span>
<a href="#l9.26"></a><span id="l9.26">               &lt;/hbox&gt;</span>
<a href="#l9.27"></a><span id="l9.27">               &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l9.28"></a><span id="l9.28">                 &lt;textbox id=&quot;networkProxySSL&quot; flex=&quot;1&quot; preference=&quot;network.proxy.ssl&quot;</span>
<a href="#l9.29"></a><span id="l9.29">                          onsyncfrompreference=&quot;return gConnectionsDialog.readProxyProtocolPref('ssl', false);&quot;/&gt;</span>
<a href="#l9.30"></a><span id="l9.30">                 &lt;label value=&quot;&amp;port.label;&quot; accesskey=&quot;&amp;SSLport.accesskey;&quot; control=&quot;networkProxySSL_Port&quot;/&gt;</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineminus">-                &lt;textbox id=&quot;networkProxySSL_Port&quot; size=&quot;5&quot; preference=&quot;network.proxy.ssl_port&quot;</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+                &lt;textbox id=&quot;networkProxySSL_Port&quot; size=&quot;5&quot; preference=&quot;network.proxy.ssl_port&quot; type=&quot;number&quot; min=&quot;0&quot; max=&quot;65535&quot;</span>
<a href="#l9.33"></a><span id="l9.33">                          onsyncfrompreference=&quot;return gConnectionsDialog.readProxyProtocolPref('ssl', true);&quot;/&gt;</span>
<a href="#l9.34"></a><span id="l9.34">               &lt;/hbox&gt;</span>
<a href="#l9.35"></a><span id="l9.35">             &lt;/row&gt;</span>
<a href="#l9.36"></a><span id="l9.36">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.37"></a><span id="l9.37">               &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l9.38"></a><span id="l9.38">                 &lt;label value=&quot;&amp;ftp.label;&quot; accesskey=&quot;&amp;ftp.accesskey;&quot; control=&quot;networkProxyFTP&quot;/&gt;</span>
<a href="#l9.39"></a><span id="l9.39">               &lt;/hbox&gt;</span>
<a href="#l9.40"></a><span id="l9.40">               &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l9.41"></a><span id="l9.41">                 &lt;textbox id=&quot;networkProxyFTP&quot; flex=&quot;1&quot; preference=&quot;network.proxy.ftp&quot;</span>
<a href="#l9.42"></a><span id="l9.42">                          onsyncfrompreference=&quot;return gConnectionsDialog.readProxyProtocolPref('ftp', false);&quot;/&gt;</span>
<a href="#l9.43"></a><span id="l9.43">                 &lt;label value=&quot;&amp;port.label;&quot; accesskey=&quot;&amp;FTPport.accesskey;&quot; control=&quot;networkProxyFTP_Port&quot;/&gt;</span>
<a href="#l9.44"></a><span id="l9.44" class="difflineminus">-                &lt;textbox id=&quot;networkProxyFTP_Port&quot; size=&quot;5&quot; preference=&quot;network.proxy.ftp_port&quot;</span>
<a href="#l9.45"></a><span id="l9.45" class="difflineplus">+                &lt;textbox id=&quot;networkProxyFTP_Port&quot; size=&quot;5&quot; preference=&quot;network.proxy.ftp_port&quot; type=&quot;number&quot; min=&quot;0&quot; max=&quot;65535&quot;</span>
<a href="#l9.46"></a><span id="l9.46">                          onsyncfrompreference=&quot;return gConnectionsDialog.readProxyProtocolPref('ftp', true);&quot;/&gt;</span>
<a href="#l9.47"></a><span id="l9.47">               &lt;/hbox&gt;</span>
<a href="#l9.48"></a><span id="l9.48">             &lt;/row&gt;</span>
<a href="#l9.49"></a><span id="l9.49">             &lt;row align=&quot;center&quot;&gt;</span>
<a href="#l9.50"></a><span id="l9.50">               &lt;hbox pack=&quot;end&quot;&gt;</span>
<a href="#l9.51"></a><span id="l9.51">                 &lt;label value=&quot;&amp;socks.label;&quot; accesskey=&quot;&amp;socks.accesskey;&quot; control=&quot;networkProxySOCKS&quot;/&gt;</span>
<a href="#l9.52"></a><span id="l9.52">               &lt;/hbox&gt;</span>
<a href="#l9.53"></a><span id="l9.53">               &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l9.54"></a><span id="l9.54">                 &lt;textbox id=&quot;networkProxySOCKS&quot; flex=&quot;1&quot; preference=&quot;network.proxy.socks&quot;</span>
<a href="#l9.55"></a><span id="l9.55">                          onsyncfrompreference=&quot;return gConnectionsDialog.readProxyProtocolPref('socks', false);&quot;/&gt;</span>
<a href="#l9.56"></a><span id="l9.56">                 &lt;label value=&quot;&amp;port.label;&quot; accesskey=&quot;&amp;SOCKSport.accesskey;&quot; control=&quot;networkProxySOCKS_Port&quot;/&gt;</span>
<a href="#l9.57"></a><span id="l9.57" class="difflineminus">-                &lt;textbox id=&quot;networkProxySOCKS_Port&quot; size=&quot;5&quot; preference=&quot;network.proxy.socks_port&quot;</span>
<a href="#l9.58"></a><span id="l9.58" class="difflineplus">+                &lt;textbox id=&quot;networkProxySOCKS_Port&quot; size=&quot;5&quot; preference=&quot;network.proxy.socks_port&quot; type=&quot;number&quot; min=&quot;0&quot; max=&quot;65535&quot;</span>
<a href="#l9.59"></a><span id="l9.59">                          onsyncfrompreference=&quot;return gConnectionsDialog.readProxyProtocolPref('socks', true);&quot;/&gt;</span>
<a href="#l9.60"></a><span id="l9.60">               &lt;/hbox&gt;</span>
<a href="#l9.61"></a><span id="l9.61">             &lt;/row&gt;</span>
<a href="#l9.62"></a><span id="l9.62">             &lt;row&gt;</span>
<a href="#l9.63"></a><span id="l9.63">               &lt;spacer/&gt;</span>
<a href="#l9.64"></a><span id="l9.64">               &lt;radiogroup id=&quot;networkProxySOCKSVersion&quot; orient=&quot;horizontal&quot;</span>
<a href="#l9.65"></a><span id="l9.65">                           preference=&quot;network.proxy.socks_version&quot;&gt;</span>
<a href="#l9.66"></a><span id="l9.66">                 &lt;radio id=&quot;networkProxySOCKSVersion4&quot; value=&quot;4&quot; label=&quot;&amp;socks4.label;&quot; accesskey=&quot;&amp;socks4.accesskey;&quot; /&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/preferences/general.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/preferences/general.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -99,47 +99,51 @@</span>
<a href="#l10.4"></a><span id="l10.4">             &lt;/hbox&gt;</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6">             &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l10.7"></a><span id="l10.7">                 &lt;label value=&quot;&amp;pref.defaultlength.label;&quot;</span>
<a href="#l10.8"></a><span id="l10.8">                        accesskey=&quot;&amp;pref.defaultlength.accesskey;&quot;</span>
<a href="#l10.9"></a><span id="l10.9">                        control=&quot;defaultlength&quot;/&gt;</span>
<a href="#l10.10"></a><span id="l10.10">                 &lt;textbox id=&quot;defaultlength&quot;</span>
<a href="#l10.11"></a><span id="l10.11">                          preference=&quot;calendar.event.defaultlength&quot;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+                         type=&quot;number&quot;</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+                         min=&quot;0&quot;</span>
<a href="#l10.14"></a><span id="l10.14">                          maxlength=&quot;3&quot;</span>
<a href="#l10.15"></a><span id="l10.15" class="difflineminus">-                         size=&quot;3&quot;</span>
<a href="#l10.16"></a><span id="l10.16" class="difflineminus">-                         oninput=&quot;validateNaturalNums(event);&quot;/&gt;</span>
<a href="#l10.17"></a><span id="l10.17" class="difflineplus">+                         size=&quot;3&quot;/&gt;</span>
<a href="#l10.18"></a><span id="l10.18">                 &lt;label value=&quot;&amp;calendar.global.units.minutes;&quot;/&gt;</span>
<a href="#l10.19"></a><span id="l10.19">             &lt;/hbox&gt;</span>
<a href="#l10.20"></a><span id="l10.20"> </span>
<a href="#l10.21"></a><span id="l10.21">             &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l10.22"></a><span id="l10.22">                 &lt;label value=&quot;&amp;pref.defaultsnoozelength.label;&quot;</span>
<a href="#l10.23"></a><span id="l10.23">                        accesskey=&quot;&amp;pref.defaultsnoozelength.accesskey;&quot;</span>
<a href="#l10.24"></a><span id="l10.24">                        control=&quot;defaultsnoozelength&quot;/&gt;</span>
<a href="#l10.25"></a><span id="l10.25">                 &lt;textbox id=&quot;defaultsnoozelength&quot;</span>
<a href="#l10.26"></a><span id="l10.26">                          preference=&quot;calendar.alarms.defaultsnoozelength&quot;</span>
<a href="#l10.27"></a><span id="l10.27" class="difflineplus">+                         type=&quot;number&quot;</span>
<a href="#l10.28"></a><span id="l10.28" class="difflineplus">+                         min=&quot;0&quot;</span>
<a href="#l10.29"></a><span id="l10.29">                          maxlength=&quot;3&quot;</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineminus">-                         size=&quot;3&quot;</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-                         oninput=&quot;validateNaturalNums(event);&quot;/&gt;</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+                         size=&quot;3&quot;/&gt;</span>
<a href="#l10.33"></a><span id="l10.33">                 &lt;label value=&quot;&amp;calendar.global.units.minutes;&quot;/&gt;</span>
<a href="#l10.34"></a><span id="l10.34">             &lt;/hbox&gt;</span>
<a href="#l10.35"></a><span id="l10.35"> </span>
<a href="#l10.36"></a><span id="l10.36">         &lt;/groupbox&gt;</span>
<a href="#l10.37"></a><span id="l10.37"> </span>
<a href="#l10.38"></a><span id="l10.38">         &lt;groupbox&gt;</span>
<a href="#l10.39"></a><span id="l10.39">             &lt;caption label=&quot;&amp;pref.refreshbox.label;&quot;/&gt;</span>
<a href="#l10.40"></a><span id="l10.40">             &lt;hbox align=&quot;center&quot;&gt;</span>
<a href="#l10.41"></a><span id="l10.41">                 &lt;checkbox id=&quot;autorefreshenabled&quot;</span>
<a href="#l10.42"></a><span id="l10.42">                           label=&quot;&amp;pref.autorefresh.label;&quot;</span>
<a href="#l10.43"></a><span id="l10.43">                           preference=&quot;calendar.autorefresh.enabled&quot;</span>
<a href="#l10.44"></a><span id="l10.44">                           accesskey=&quot;&amp;pref.autorefresh.accesskey;&quot;/&gt;</span>
<a href="#l10.45"></a><span id="l10.45">                 &lt;textbox id=&quot;refreshtimeout&quot;</span>
<a href="#l10.46"></a><span id="l10.46">                          preference=&quot;calendar.autorefresh.timeout&quot;</span>
<a href="#l10.47"></a><span id="l10.47" class="difflineminus">-                         size=&quot;3&quot;</span>
<a href="#l10.48"></a><span id="l10.48" class="difflineminus">-                         oninput=&quot;validateIntegerRange(event, 1, 0x7FFFF);&quot;/&gt;</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineplus">+                         type=&quot;number&quot;</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineplus">+                         min=&quot;1&quot;</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineplus">+                         max=&quot;0x7FFFF&quot;</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineplus">+                         size=&quot;3&quot;/&gt;</span>
<a href="#l10.53"></a><span id="l10.53">                 &lt;label value=&quot;&amp;calendar.global.units.minutes;&quot;/&gt;</span>
<a href="#l10.54"></a><span id="l10.54">             &lt;/hbox&gt;</span>
<a href="#l10.55"></a><span id="l10.55">         &lt;/groupbox&gt;</span>
<a href="#l10.56"></a><span id="l10.56"> </span>
<a href="#l10.57"></a><span id="l10.57">         &lt;separator/&gt;</span>
<a href="#l10.58"></a><span id="l10.58"> </span>
<a href="#l10.59"></a><span id="l10.59">     &lt;/vbox&gt;</span>
<a href="#l10.60"></a><span id="l10.60"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mail/base/content/folderPane.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mail/base/content/folderPane.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -802,16 +802,18 @@ let gFolderTreeView = {</span>
<a href="#l11.4"></a><span id="l11.4">     gFolderTreeView._addSmartFoldersForFlag(smartChildren, accounts, smartRoot,</span>
<a href="#l11.5"></a><span id="l11.5">                                             nsMsgFolderFlags.Trash, &quot;Trash&quot;);</span>
<a href="#l11.6"></a><span id="l11.6">     gFolderTreeView._addSmartFoldersForFlag(smartChildren, accounts, smartRoot,</span>
<a href="#l11.7"></a><span id="l11.7">                                             nsMsgFolderFlags.Templates, &quot;Templates&quot;);</span>
<a href="#l11.8"></a><span id="l11.8">     gFolderTreeView._addSmartFoldersForFlag(smartChildren, accounts, smartRoot,</span>
<a href="#l11.9"></a><span id="l11.9">                                             nsMsgFolderFlags.Archive, &quot;Archives&quot;);</span>
<a href="#l11.10"></a><span id="l11.10">     gFolderTreeView._addSmartFoldersForFlag(smartChildren, accounts, smartRoot,</span>
<a href="#l11.11"></a><span id="l11.11">                                             nsMsgFolderFlags.Junk, &quot;Junk&quot;);</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+    gFolderTreeView._addSmartFoldersForFlag(smartChildren, accounts, smartRoot,</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+                                            nsMsgFolderFlags.Queue, &quot;Outbox&quot;);</span>
<a href="#l11.14"></a><span id="l11.14"> </span>
<a href="#l11.15"></a><span id="l11.15">     sortFolderItems(smartChildren);</span>
<a href="#l11.16"></a><span id="l11.16">     for each (smartChild in smartChildren)</span>
<a href="#l11.17"></a><span id="l11.17">       map.push(smartChild);</span>
<a href="#l11.18"></a><span id="l11.18"> </span>
<a href="#l11.19"></a><span id="l11.19">     for each (acct in accounts) {</span>
<a href="#l11.20"></a><span id="l11.20">       // Bug 466311 Sometimes this can throw file not found, we're unsure</span>
<a href="#l11.21"></a><span id="l11.21">       // why, but catch it and log the fact.</span>
<a href="#l11.22"></a><span id="l11.22" class="difflineat">@@ -828,16 +830,25 @@ let gFolderTreeView = {</span>
<a href="#l11.23"></a><span id="l11.23">       map.push(new ftv_SmartItem(acct.incomingServer.rootFolder));</span>
<a href="#l11.24"></a><span id="l11.24"> </span>
<a href="#l11.25"></a><span id="l11.25">     return map;</span>
<a href="#l11.26"></a><span id="l11.26">   },</span>
<a href="#l11.27"></a><span id="l11.27"> </span>
<a href="#l11.28"></a><span id="l11.28">   _addSmartFoldersForFlag: function ftv_addSmartFoldersForFlag(map, accounts, smartRootFolder,</span>
<a href="#l11.29"></a><span id="l11.29">                                                                flag, folderName)</span>
<a href="#l11.30"></a><span id="l11.30">   {</span>
<a href="#l11.31"></a><span id="l11.31" class="difflineplus">+    // If there's only one subFolder, just put it at the root.</span>
<a href="#l11.32"></a><span id="l11.32" class="difflineplus">+    let subFolders = gFolderTreeView._allFoldersWithFlag(accounts, flag, false);</span>
<a href="#l11.33"></a><span id="l11.33" class="difflineplus">+    if (subFolders.length == 1) {</span>
<a href="#l11.34"></a><span id="l11.34" class="difflineplus">+      let folderItem = new ftvItem(subFolders[0]);</span>
<a href="#l11.35"></a><span id="l11.35" class="difflineplus">+      folderItem._level = 0;</span>
<a href="#l11.36"></a><span id="l11.36" class="difflineplus">+      map.push(folderItem);</span>
<a href="#l11.37"></a><span id="l11.37" class="difflineplus">+      return;</span>
<a href="#l11.38"></a><span id="l11.38" class="difflineplus">+    }</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineplus">+</span>
<a href="#l11.40"></a><span id="l11.40">     let smartFolder;</span>
<a href="#l11.41"></a><span id="l11.41">     try {</span>
<a href="#l11.42"></a><span id="l11.42">       let folderUri = smartRootFolder.URI + &quot;/&quot; + folderName;</span>
<a href="#l11.43"></a><span id="l11.43">       smartFolder = smartRootFolder.getChildWithURI(folderUri, false, true);</span>
<a href="#l11.44"></a><span id="l11.44">     } catch (ex) {</span>
<a href="#l11.45"></a><span id="l11.45">         smartFolder = null;</span>
<a href="#l11.46"></a><span id="l11.46">     };</span>
<a href="#l11.47"></a><span id="l11.47">     if (!smartFolder) {</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineat">@@ -852,17 +863,16 @@ let gFolderTreeView = {</span>
<a href="#l11.49"></a><span id="l11.49">         return;</span>
<a href="#l11.50"></a><span id="l11.50">       smartFolder = gFolderTreeView._createVFFolder(folderName, smartRootFolder,</span>
<a href="#l11.51"></a><span id="l11.51">                                                     searchFolderURIs, flag);</span>
<a href="#l11.52"></a><span id="l11.52">     }</span>
<a href="#l11.53"></a><span id="l11.53"> </span>
<a href="#l11.54"></a><span id="l11.54">     let smartFolderItem = new ftvItem(smartFolder);</span>
<a href="#l11.55"></a><span id="l11.55">     smartFolderItem._level = 0;</span>
<a href="#l11.56"></a><span id="l11.56">     map.push(smartFolderItem);</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineminus">-    let subFolders = gFolderTreeView._allFoldersWithFlag(accounts, flag, false);</span>
<a href="#l11.58"></a><span id="l11.58">     // now add the actual inboxes as sub-folders of the saved search.</span>
<a href="#l11.59"></a><span id="l11.59">     // By setting _children directly, we bypass the normal calculation</span>
<a href="#l11.60"></a><span id="l11.60">     // of subfolders.</span>
<a href="#l11.61"></a><span id="l11.61">     smartFolderItem._children = [new ftvItem(f) for each (f in subFolders)];</span>
<a href="#l11.62"></a><span id="l11.62"> </span>
<a href="#l11.63"></a><span id="l11.63">     // sortFolderItems(this._children);</span>
<a href="#l11.64"></a><span id="l11.64">     // Each child is a level one below the smartFolder</span>
<a href="#l11.65"></a><span id="l11.65">     for each (let child in smartFolderItem._children) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mail/base/content/mailWindowOverlay.xul</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -824,29 +824,31 @@</span>
<a href="#l12.4"></a><span id="l12.4">         &lt;menu id=&quot;menu_File&quot;&gt;</span>
<a href="#l12.5"></a><span id="l12.5">           &lt;menupopup id=&quot;menu_FilePopup&quot; onpopupshowing=&quot;file_init();&quot;&gt;</span>
<a href="#l12.6"></a><span id="l12.6">           &lt;menu id=&quot;menu_New&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7">             &lt;menupopup id=&quot;menu_NewPopup&quot; onpopupshowing=&quot;menu_new_init();&quot;&gt;</span>
<a href="#l12.8"></a><span id="l12.8">               &lt;menuitem id=&quot;newNewMsgCmd&quot; label=&quot;&amp;newNewMsgCmd.label;&quot;</span>
<a href="#l12.9"></a><span id="l12.9">                         accesskey=&quot;&amp;newNewMsgCmd.accesskey;&quot;</span>
<a href="#l12.10"></a><span id="l12.10">                         key=&quot;key_newMessage2&quot;</span>
<a href="#l12.11"></a><span id="l12.11">                         oncommand=&quot;MsgNewMessage(null);&quot;/&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-              &lt;menuitem id=&quot;newMailAccountMenuItem&quot;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-                        label=&quot;&amp;newMailAccountCmd.label;&quot;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineminus">-                        accesskey=&quot;&amp;newMailAccountCmd.accesskey;&quot;</span>
<a href="#l12.15"></a><span id="l12.15" class="difflineminus">-                        oncommand=&quot;NewMailAccount(msgWindow);&quot;/&gt;</span>
<a href="#l12.16"></a><span id="l12.16">               &lt;menuitem id=&quot;menu_newFolder&quot; label=&quot;&amp;newFolderCmd.label;&quot;</span>
<a href="#l12.17"></a><span id="l12.17">                          oncommand=&quot;gFolderTreeController.newFolder();&quot;</span>
<a href="#l12.18"></a><span id="l12.18">                          accesskey=&quot;&amp;newFolderCmd.accesskey;&quot;/&gt;</span>
<a href="#l12.19"></a><span id="l12.19">               &lt;menuitem id=&quot;menu_newVirtualFolder&quot; label=&quot;&amp;newVirtualFolderCmd.label;&quot;</span>
<a href="#l12.20"></a><span id="l12.20">                          oncommand=&quot;gFolderTreeController.newVirtualFolder();&quot;</span>
<a href="#l12.21"></a><span id="l12.21">                          accesskey=&quot;&amp;newVirtualFolderCmd.accesskey;&quot;/&gt;</span>
<a href="#l12.22"></a><span id="l12.22" class="difflineminus">-              &lt;menuitem id=&quot;newAccountMenuItem&quot; label=&quot;&amp;newAccountCmd.label;&quot;</span>
<a href="#l12.23"></a><span id="l12.23" class="difflineminus">-                         accesskey=&quot;&amp;newAccountCmd.accesskey;&quot;</span>
<a href="#l12.24"></a><span id="l12.24" class="difflineminus">-                         oncommand=&quot;MsgAccountWizard();&quot;/&gt;</span>
<a href="#l12.25"></a><span id="l12.25" class="difflineplus">+              &lt;menuseparator id=&quot;newAccountPopupMenuSeparator&quot;/&gt;</span>
<a href="#l12.26"></a><span id="l12.26" class="difflineplus">+              &lt;menuitem id=&quot;newMailAccountMenuItem&quot;</span>
<a href="#l12.27"></a><span id="l12.27" class="difflineplus">+                        label=&quot;&amp;newEmailAccountCmd.label;&quot;</span>
<a href="#l12.28"></a><span id="l12.28" class="difflineplus">+                        accesskey=&quot;&amp;newEmailAccountCmd.accesskey;&quot;</span>
<a href="#l12.29"></a><span id="l12.29" class="difflineplus">+                        oncommand=&quot;NewMailAccount(msgWindow);&quot;/&gt;</span>
<a href="#l12.30"></a><span id="l12.30" class="difflineplus">+              &lt;menuitem id=&quot;newAccountMenuItem&quot;</span>
<a href="#l12.31"></a><span id="l12.31" class="difflineplus">+                        label=&quot;&amp;newOtherAccountsCmd.label;&quot;</span>
<a href="#l12.32"></a><span id="l12.32" class="difflineplus">+                        accesskey=&quot;&amp;newOtherAccountsCmd.accesskey;&quot;</span>
<a href="#l12.33"></a><span id="l12.33" class="difflineplus">+                        oncommand=&quot;MsgAccountWizard();&quot;/&gt;</span>
<a href="#l12.34"></a><span id="l12.34">               &lt;menuseparator id=&quot;newPopupMenuSeparator&quot;/&gt;</span>
<a href="#l12.35"></a><span id="l12.35">               &lt;menuitem id=&quot;menu_newCard&quot;/&gt;</span>
<a href="#l12.36"></a><span id="l12.36">             &lt;/menupopup&gt;</span>
<a href="#l12.37"></a><span id="l12.37">           &lt;/menu&gt;</span>
<a href="#l12.38"></a><span id="l12.38">           &lt;menuitem id=&quot;openMessageFileMenuitem&quot; label=&quot;&amp;openMessageFileCmd.label;&quot;</span>
<a href="#l12.39"></a><span id="l12.39">             accesskey=&quot;&amp;openMessageFileCmd.accesskey;&quot;</span>
<a href="#l12.40"></a><span id="l12.40">             oncommand=&quot;MsgOpenFromFile();&quot;/&gt;</span>
<a href="#l12.41"></a><span id="l12.41">           &lt;menu id=&quot;fileAttachmentMenu&quot; label=&quot;&amp;openAttachmentCmd.label;&quot; accesskey=&quot;&amp;openAttachmentCmd.accesskey;&quot; disabled=&quot;true&quot; persist=&quot;hidden&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/messenger.dtd</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -4,20 +4,20 @@</span>
<a href="#l13.4"></a><span id="l13.4"> </span>
<a href="#l13.5"></a><span id="l13.5"> &lt;!-- File Menu --&gt;</span>
<a href="#l13.6"></a><span id="l13.6"> &lt;!ENTITY newFolderCmd.label &quot;Folder&quot;&gt;</span>
<a href="#l13.7"></a><span id="l13.7"> &lt;!ENTITY newFolderCmd.accesskey &quot;F&quot;&gt;</span>
<a href="#l13.8"></a><span id="l13.8"> &lt;!ENTITY closeTabCmd.label &quot;Close Tab&quot;&gt;</span>
<a href="#l13.9"></a><span id="l13.9"> &lt;!ENTITY closeTabCmd.accesskey &quot;e&quot;&gt;</span>
<a href="#l13.10"></a><span id="l13.10"> &lt;!ENTITY newVirtualFolderCmd.label &quot;Saved Search&quot;&gt;</span>
<a href="#l13.11"></a><span id="l13.11"> &lt;!ENTITY newVirtualFolderCmd.accesskey &quot;S&quot;&gt;</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-&lt;!ENTITY newAccountCmd.label &quot;Account&quot;&gt;</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineminus">-&lt;!ENTITY newAccountCmd.accesskey &quot;A&quot;&gt;</span>
<a href="#l13.14"></a><span id="l13.14" class="difflineminus">-&lt;!ENTITY newMailAccountCmd.label &quot;Mail Account (Quick Setup)&quot;&gt;</span>
<a href="#l13.15"></a><span id="l13.15" class="difflineminus">-&lt;!ENTITY newMailAccountCmd.accesskey &quot;Q&quot;&gt;</span>
<a href="#l13.16"></a><span id="l13.16" class="difflineplus">+&lt;!ENTITY newOtherAccountsCmd.label &quot;Other Accounts&quot;&gt;</span>
<a href="#l13.17"></a><span id="l13.17" class="difflineplus">+&lt;!ENTITY newOtherAccountsCmd.accesskey &quot;O&quot;&gt;</span>
<a href="#l13.18"></a><span id="l13.18" class="difflineplus">+&lt;!ENTITY newEmailAccountCmd.label &quot;Mail Account&quot;&gt;</span>
<a href="#l13.19"></a><span id="l13.19" class="difflineplus">+&lt;!ENTITY newEmailAccountCmd.accesskey &quot;A&quot;&gt;</span>
<a href="#l13.20"></a><span id="l13.20"> &lt;!ENTITY openMessageFileCmd.label &quot;Open Saved Message&quot;&gt;</span>
<a href="#l13.21"></a><span id="l13.21"> &lt;!ENTITY openMessageFileCmd.accesskey &quot;O&quot;&gt;</span>
<a href="#l13.22"></a><span id="l13.22"> &lt;!ENTITY openAttachmentCmd.label &quot;Attachments&quot;&gt;</span>
<a href="#l13.23"></a><span id="l13.23"> &lt;!ENTITY openAttachmentCmd.accesskey &quot;A&quot;&gt;</span>
<a href="#l13.24"></a><span id="l13.24"> &lt;!ENTITY saveAsMenu.label &quot;Save As&quot;&gt;</span>
<a href="#l13.25"></a><span id="l13.25"> &lt;!ENTITY saveAsMenu.accesskey &quot;S&quot;&gt;</span>
<a href="#l13.26"></a><span id="l13.26"> &lt;!ENTITY saveAsFileCmd.label &quot;File&quot;&gt;</span>
<a href="#l13.27"></a><span id="l13.27"> &lt;!ENTITY saveAsFileCmd.accesskey &quot;F&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/base/util/nsMsgDBFolder.cpp</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/base/util/nsMsgDBFolder.cpp</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -5133,31 +5133,31 @@ NS_IMETHODIMP nsMsgDBFolder::GetSortOrde</span>
<a href="#l14.4"></a><span id="l14.4">   NS_ENSURE_ARG_POINTER(order);</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6">   PRUint32 flags;</span>
<a href="#l14.7"></a><span id="l14.7">   nsresult rv = GetFlags(&amp;flags);</span>
<a href="#l14.8"></a><span id="l14.8">   NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l14.9"></a><span id="l14.9"> </span>
<a href="#l14.10"></a><span id="l14.10">   if (flags &amp; nsMsgFolderFlags::Inbox)</span>
<a href="#l14.11"></a><span id="l14.11">     *order = 0;</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Queue)</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Drafts)</span>
<a href="#l14.14"></a><span id="l14.14">     *order = 1;</span>
<a href="#l14.15"></a><span id="l14.15" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Drafts)</span>
<a href="#l14.16"></a><span id="l14.16" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Templates)</span>
<a href="#l14.17"></a><span id="l14.17">     *order = 2;</span>
<a href="#l14.18"></a><span id="l14.18" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Templates)</span>
<a href="#l14.19"></a><span id="l14.19" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::SentMail)</span>
<a href="#l14.20"></a><span id="l14.20">     *order = 3;</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::SentMail)</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Archive)</span>
<a href="#l14.23"></a><span id="l14.23">     *order = 4;</span>
<a href="#l14.24"></a><span id="l14.24" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Archive)</span>
<a href="#l14.25"></a><span id="l14.25" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Junk)</span>
<a href="#l14.26"></a><span id="l14.26">     *order = 5;</span>
<a href="#l14.27"></a><span id="l14.27" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Junk)</span>
<a href="#l14.28"></a><span id="l14.28" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Trash)</span>
<a href="#l14.29"></a><span id="l14.29">     *order = 6;</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Trash)</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Virtual)</span>
<a href="#l14.32"></a><span id="l14.32">     *order = 7;</span>
<a href="#l14.33"></a><span id="l14.33" class="difflineminus">-  else if (flags &amp; nsMsgFolderFlags::Virtual)</span>
<a href="#l14.34"></a><span id="l14.34" class="difflineplus">+  else if (flags &amp; nsMsgFolderFlags::Queue)</span>
<a href="#l14.35"></a><span id="l14.35">     *order = 8;</span>
<a href="#l14.36"></a><span id="l14.36">   else</span>
<a href="#l14.37"></a><span id="l14.37">     *order = 9;</span>
<a href="#l14.38"></a><span id="l14.38"> </span>
<a href="#l14.39"></a><span id="l14.39">   return NS_OK;</span>
<a href="#l14.40"></a><span id="l14.40"> }</span>
<a href="#l14.41"></a><span id="l14.41"> </span>
<a href="#l14.42"></a><span id="l14.42"> NS_IMETHODIMP nsMsgDBFolder::GetSortKey(PRUint32 *aLength, PRUint8 **aKey)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/locales/shipped-locales</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/locales/shipped-locales</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1,17 +1,17 @@</span>
<a href="#l16.4"></a><span id="l16.4"> be</span>
<a href="#l16.5"></a><span id="l16.5"> ca</span>
<a href="#l16.6"></a><span id="l16.6" class="difflineminus">-cs</span>
<a href="#l16.7"></a><span id="l16.7"> de</span>
<a href="#l16.8"></a><span id="l16.8"> en-US</span>
<a href="#l16.9"></a><span id="l16.9"> es-AR</span>
<a href="#l16.10"></a><span id="l16.10"> es-ES</span>
<a href="#l16.11"></a><span id="l16.11"> fr</span>
<a href="#l16.12"></a><span id="l16.12"> gl</span>
<a href="#l16.13"></a><span id="l16.13"> hu</span>
<a href="#l16.14"></a><span id="l16.14"> lt</span>
<a href="#l16.15"></a><span id="l16.15"> nb-NO</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+nl</span>
<a href="#l16.17"></a><span id="l16.17"> pl</span>
<a href="#l16.18"></a><span id="l16.18"> pt-PT</span>
<a href="#l16.19"></a><span id="l16.19"> ru</span>
<a href="#l16.20"></a><span id="l16.20"> sk</span>
<a href="#l16.21"></a><span id="l16.21"> tr</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

