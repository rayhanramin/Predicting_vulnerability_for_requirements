<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 5771:8c9473e4b9f332850215af561b185b61eb30d565</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ 8c9473e4b9f332850215af561b185b61eb30d565" />
<meta property="og:url" content="/comm-central/rev/8c9473e4b9f332850215af561b185b61eb30d565" />
<meta property="og:description" content="Bug 521927 - Make Search, Folder Location and Views widgets for MailNews customizable toolbars" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / 8c9473e4b9f332850215af561b185b61eb30d565 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/8c9473e4b9f332850215af561b185b61eb30d565">shortlog</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/8c9473e4b9f332850215af561b185b61eb30d565">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565">files</a> |
changeset |
<a href="/comm-central/raw-rev/8c9473e4b9f332850215af561b185b61eb30d565">raw</a>  | <a href="/comm-central/archive/8c9473e4b9f332850215af561b185b61eb30d565.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=521927">Bug 521927</a> - Make Search, Folder Location and Views widgets for MailNews customizable toolbars
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#73;&#97;&#110;&#32;&#78;&#101;&#97;&#108;&#32;&#60;&#105;&#97;&#110;&#110;&#95;&#99;&#118;&#115;&#64;&#98;&#108;&#117;&#101;&#121;&#111;&#110;&#100;&#101;&#114;&#46;&#99;&#111;&#46;&#117;&#107;&#62;</td></tr>
<tr><td></td><td class="date age">Sun, 06 Jun 2010 22:59:58 +0100</td></tr>

<tr>
 <td>changeset 5771</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/8c9473e4b9f332850215af561b185b61eb30d565">8c9473e4b9f332850215af561b185b61eb30d565</a></td>
</tr>



<tr>
<td>parent 5770</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/7a8d5a27ace0df3be220503cefe2c99060c06787">7a8d5a27ace0df3be220503cefe2c99060c06787</a>
</td>
</tr>

<tr>
<td>child 5772</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/dde58b518386c68d9c3e465ed118d3f456f0db3f">dde58b518386c68d9c3e465ed118d3f456f0db3f</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=8c9473e4b9f332850215af561b185b61eb30d565">4475</a></td></tr>
<tr><td>push user</td><td>iann_cvs@blueyonder.co.uk</td></tr>
<tr><td>push date</td><td class="date age">Sun, 06 Jun 2010 22:01:31 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@8c9473e4b9f3 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=8c9473e4b9f332850215af561b185b61eb30d565">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=8c9473e4b9f332850215af561b185b61eb30d565&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8c9473e4b9f332850215af561b185b61eb30d565&newProject=comm-central&newRevision=8c9473e4b9f332850215af561b185b61eb30d565&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8c9473e4b9f332850215af561b185b61eb30d565&newProject=comm-central&newRevision=8c9473e4b9f332850215af561b185b61eb30d565&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=8c9473e4b9f332850215af561b185b61eb30d565&newProject=comm-central&newRevision=8c9473e4b9f332850215af561b185b61eb30d565&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=521927">521927</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=521927">Bug 521927</a> - Make Search, Folder Location and Views widgets for MailNews customizable toolbars
r=mnyromyr sr=neil f=ratty/stefanh/kairo/ehsan</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/common/communicator.css">suite/common/communicator.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/common/communicator.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/common/communicator.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/common/communicator.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/common/communicator.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/common/communicator.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/folderpane.dtd">suite/locales/en-US/chrome/mailnews/folderpane.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/folderpane.dtd">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/folderpane.dtd">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/folderpane.dtd">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/folderpane.dtd">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/folderpane.dtd">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/messenger.dtd">suite/locales/en-US/chrome/mailnews/messenger.dtd</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/messenger.dtd">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/messenger.dtd">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/messenger.dtd">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/messenger.dtd">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/locales/en-US/chrome/mailnews/messenger.dtd">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/commandglue.js">suite/mailnews/commandglue.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/commandglue.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/commandglue.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/commandglue.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/commandglue.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/commandglue.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/folderPane.xul">suite/mailnews/folderPane.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/folderPane.xul">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/folderPane.xul">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/folderPane.xul">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/folderPane.xul">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/folderPane.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/jar.mn">suite/mailnews/jar.mn</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/jar.mn">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/jar.mn">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/jar.mn">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/jar.mn">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/jar.mn">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mail3PaneWindowCommands.js">suite/mailnews/mail3PaneWindowCommands.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mail3PaneWindowCommands.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mail3PaneWindowCommands.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mail3PaneWindowCommands.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mail3PaneWindowCommands.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mail3PaneWindowCommands.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindow.js">suite/mailnews/mailWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindow.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindow.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindow.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindow.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindow.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.js">suite/mailnews/mailWindowOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.xul">suite/mailnews/mailWindowOverlay.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.xul">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.xul">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.xul">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.xul">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/mailWindowOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.js">suite/mailnews/messageWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.xul">suite/mailnews/messageWindow.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.xul">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.xul">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.xul">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.xul">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messageWindow.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.css">suite/mailnews/messenger.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.xul">suite/mailnews/messenger.xul</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.xul">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.xul">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.xul">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.xul">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/messenger.xul">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgMail3PaneWindow.js">suite/mailnews/msgMail3PaneWindow.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgMail3PaneWindow.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgMail3PaneWindow.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgMail3PaneWindow.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgMail3PaneWindow.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgMail3PaneWindow.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.js">suite/mailnews/msgViewPickerOverlay.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.xul">suite/mailnews/msgViewPickerOverlay.xul</a></td>
<td></td>
<td class="link">
file |
annotate |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.xul">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.xul">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/msgViewPickerOverlay.xul">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/searchBar.js">suite/mailnews/searchBar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/searchBar.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/searchBar.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/searchBar.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/searchBar.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/searchBar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/tabmail.js">suite/mailnews/tabmail.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/tabmail.js">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/tabmail.js">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/tabmail.js">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/tabmail.js">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/mailnews/tabmail.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/mailWindow1.css">suite/themes/classic/mac/messenger/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/primaryToolbar.css">suite/themes/classic/mac/messenger/primaryToolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/primaryToolbar.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/primaryToolbar.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/primaryToolbar.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/primaryToolbar.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/mac/messenger/primaryToolbar.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/mailWindow1.css">suite/themes/classic/messenger/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/primaryToolbar.css">suite/themes/classic/messenger/primaryToolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/primaryToolbar.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/primaryToolbar.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/primaryToolbar.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/primaryToolbar.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/classic/messenger/primaryToolbar.css">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/mailWindow1.css">suite/themes/modern/messenger/mailWindow1.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/mailWindow1.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/mailWindow1.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/mailWindow1.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/mailWindow1.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/mailWindow1.css">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/primaryToolbar.css">suite/themes/modern/messenger/primaryToolbar.css</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/primaryToolbar.css">file</a> |
<a href="/comm-central/annotate/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/primaryToolbar.css">annotate</a> |
<a href="/comm-central/diff/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/primaryToolbar.css">diff</a> |
<a href="/comm-central/comparison/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/primaryToolbar.css">comparison</a> |
<a href="/comm-central/log/8c9473e4b9f332850215af561b185b61eb30d565/suite/themes/modern/messenger/primaryToolbar.css">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/suite/common/communicator.css</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/suite/common/communicator.css</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -16,16 +16,17 @@</span>
<a href="#l1.4"></a><span id="l1.4">  * The Initial Developer of the Original Code is</span>
<a href="#l1.5"></a><span id="l1.5">  * Netscape Communications Corporation.</span>
<a href="#l1.6"></a><span id="l1.6">  * Portions created by the Initial Developer are Copyright (C) 2002</span>
<a href="#l1.7"></a><span id="l1.7">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l1.8"></a><span id="l1.8">  *</span>
<a href="#l1.9"></a><span id="l1.9">  * Contributor(s):</span>
<a href="#l1.10"></a><span id="l1.10">  *   Samir Gehani &lt;sgehani@netscape.com&gt;</span>
<a href="#l1.11"></a><span id="l1.11">  *   Karsten Düsterloh &lt;mnyromyr@tprac.de&gt;</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l1.13"></a><span id="l1.13">  *</span>
<a href="#l1.14"></a><span id="l1.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l1.15"></a><span id="l1.15">  * either the GNU General Public License Version 2 or later (the &quot;GPL&quot;), or</span>
<a href="#l1.16"></a><span id="l1.16">  * the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l1.17"></a><span id="l1.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l1.18"></a><span id="l1.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l1.19"></a><span id="l1.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l1.20"></a><span id="l1.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l1.21"></a><span id="l1.21" class="difflineat">@@ -45,16 +46,20 @@ toolbar[printpreview=&quot;true&quot;] {</span>
<a href="#l1.22"></a><span id="l1.22"> }</span>
<a href="#l1.23"></a><span id="l1.23"> </span>
<a href="#l1.24"></a><span id="l1.24"> /* ::::: notification box ::::: */</span>
<a href="#l1.25"></a><span id="l1.25"> </span>
<a href="#l1.26"></a><span id="l1.26"> .browser-notificationbox {</span>
<a href="#l1.27"></a><span id="l1.27">   -moz-binding: url(&quot;chrome://communicator/content/bindings/notification.xml#browser-notificationbox&quot;);</span>
<a href="#l1.28"></a><span id="l1.28"> }</span>
<a href="#l1.29"></a><span id="l1.29"> </span>
<a href="#l1.30"></a><span id="l1.30" class="difflineplus">+/* ::::: toolbaritem ::::: */</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineplus">+toolbaritem {</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+  -moz-binding: url(&quot;chrome://global/content/bindings/general.xml#basecontrol&quot;);</span>
<a href="#l1.33"></a><span id="l1.33" class="difflineplus">+}</span>
<a href="#l1.34"></a><span id="l1.34"> </span>
<a href="#l1.35"></a><span id="l1.35"> /* With the move to the new toolkit, SeaMonkey needs to overwrite certain bindings</span>
<a href="#l1.36"></a><span id="l1.36">  * if it wants to keep its distinctive likeness. The now hidden new toolkit bindings</span>
<a href="#l1.37"></a><span id="l1.37">  * will stay accessible via a set xpfe=&quot;false&quot; attribute, though, where necessary.</span>
<a href="#l1.38"></a><span id="l1.38">  */</span>
<a href="#l1.39"></a><span id="l1.39"> </span>
<a href="#l1.40"></a><span id="l1.40"> /******* toolkit access layer *******/</span>
<a href="#l1.41"></a><span id="l1.41"> /* These rules reintroduce the toolkit bindings overwritten later below */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/suite/locales/en-US/chrome/mailnews/folderpane.dtd</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/mailnews/folderpane.dtd</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -15,16 +15,17 @@</span>
<a href="#l2.4"></a><span id="l2.4">  March 31, 1998.</span>
<a href="#l2.5"></a><span id="l2.5"> </span>
<a href="#l2.6"></a><span id="l2.6">  The Initial Developer of the Original Code is</span>
<a href="#l2.7"></a><span id="l2.7">  Netscape Communications Corporation.</span>
<a href="#l2.8"></a><span id="l2.8">  Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l2.9"></a><span id="l2.9">  the Initial Developer. All Rights Reserved.</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">  Contributor(s):</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineplus">+    Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l2.13"></a><span id="l2.13"> </span>
<a href="#l2.14"></a><span id="l2.14">  Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l2.15"></a><span id="l2.15">  either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l2.16"></a><span id="l2.16">  or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l2.17"></a><span id="l2.17">  in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l2.18"></a><span id="l2.18">  of those above. If you wish to allow use of your version of this file only</span>
<a href="#l2.19"></a><span id="l2.19">  under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l2.20"></a><span id="l2.20">  use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l2.21"></a><span id="l2.21" class="difflineat">@@ -33,8 +34,12 @@</span>
<a href="#l2.22"></a><span id="l2.22">  the provisions above, a recipient may use your version of this file under</span>
<a href="#l2.23"></a><span id="l2.23">  the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l2.24"></a><span id="l2.24"> </span>
<a href="#l2.25"></a><span id="l2.25">  ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l2.26"></a><span id="l2.26"> &lt;!ENTITY nameColumn.label   &quot;Name&quot;&gt; </span>
<a href="#l2.27"></a><span id="l2.27"> &lt;!ENTITY unreadColumn.label &quot;Unread&quot;&gt; </span>
<a href="#l2.28"></a><span id="l2.28"> &lt;!ENTITY totalColumn.label &quot;Total&quot;&gt; </span>
<a href="#l2.29"></a><span id="l2.29"> &lt;!ENTITY folderSizeColumn.label &quot;Size&quot;&gt; </span>
<a href="#l2.30"></a><span id="l2.30" class="difflineplus">+&lt;!ENTITY folderLocationToolbarItem.title &quot;Folder Location&quot;&gt;</span>
<a href="#l2.31"></a><span id="l2.31" class="difflineplus">+&lt;!ENTITY mailViewsToolbarItem.title &quot;Mail Views&quot;&gt;</span>
<a href="#l2.32"></a><span id="l2.32" class="difflineplus">+&lt;!ENTITY searchToolbarItem.title &quot;Search&quot;&gt;</span>
<a href="#l2.33"></a><span id="l2.33" class="difflineplus">+&lt;!ENTITY searchSubjectOrAddress.placeholder &quot;Search Subject or Address&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/suite/locales/en-US/chrome/mailnews/messenger.dtd</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/mailnews/messenger.dtd</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -17,16 +17,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">  The Initial Developer of the Original Code is</span>
<a href="#l3.5"></a><span id="l3.5">  Netscape Communications Corporation.</span>
<a href="#l3.6"></a><span id="l3.6">  Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l3.7"></a><span id="l3.7">  the Initial Developer. All Rights Reserved.</span>
<a href="#l3.8"></a><span id="l3.8"> </span>
<a href="#l3.9"></a><span id="l3.9">  Contributor(s):</span>
<a href="#l3.10"></a><span id="l3.10">     Karsten Düsterloh &lt;mnyromyr@tprac.de&gt;</span>
<a href="#l3.11"></a><span id="l3.11">     Jeremy Morton &lt;bugzilla@game-point.net&gt;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+    Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l3.13"></a><span id="l3.13"> </span>
<a href="#l3.14"></a><span id="l3.14">  Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l3.15"></a><span id="l3.15">  either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l3.16"></a><span id="l3.16">  or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l3.17"></a><span id="l3.17">  in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l3.18"></a><span id="l3.18">  of those above. If you wish to allow use of your version of this file only</span>
<a href="#l3.19"></a><span id="l3.19">  under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l3.20"></a><span id="l3.20">  use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l3.21"></a><span id="l3.21" class="difflineat">@@ -151,25 +152,20 @@</span>
<a href="#l3.22"></a><span id="l3.22"> &lt;!ENTITY undoCopyMsgCmd.label &quot;Undo Copy Message&quot;&gt;</span>
<a href="#l3.23"></a><span id="l3.23"> &lt;!ENTITY redoCopyMsgCmd.label &quot;Redo Copy Message&quot;&gt;</span>
<a href="#l3.24"></a><span id="l3.24"> &lt;!ENTITY undoMarkAllCmd.label &quot;Undo Mark All Read&quot;&gt;</span>
<a href="#l3.25"></a><span id="l3.25"> &lt;!ENTITY redoMarkAllCmd.label &quot;Redo Mark All Read&quot;&gt;</span>
<a href="#l3.26"></a><span id="l3.26"> &lt;!ENTITY undoDefaultCmd.label &quot;Undo&quot;&gt;</span>
<a href="#l3.27"></a><span id="l3.27"> &lt;!ENTITY redoDefaultCmd.label &quot;Redo&quot;&gt;</span>
<a href="#l3.28"></a><span id="l3.28"> </span>
<a href="#l3.29"></a><span id="l3.29"> &lt;!-- View Menu --&gt;</span>
<a href="#l3.30"></a><span id="l3.30" class="difflineminus">-&lt;!ENTITY showMessengerToolbarCmd.label		&quot;Mail Toolbar&quot;&gt;</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-&lt;!ENTITY showMessengerToolbarCmd.accesskey	&quot;o&quot;&gt;</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineminus">- </span>
<a href="#l3.33"></a><span id="l3.33" class="difflineminus">-&lt;!-- showSearchToolbarCmd is also used by addressbook --&gt;</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineminus">-&lt;!ENTITY showSearchToolbarCmd.label		&quot;Search Bar&quot;&gt;</span>
<a href="#l3.35"></a><span id="l3.35" class="difflineminus">-&lt;!ENTITY showSearchToolbarCmd.accesskey	&quot;e&quot;&gt;</span>
<a href="#l3.36"></a><span id="l3.36" class="difflineminus">-</span>
<a href="#l3.37"></a><span id="l3.37" class="difflineminus">-&lt;!ENTITY showLocationToolbarCmd.label &quot;Location Toolbar&quot;&gt;</span>
<a href="#l3.38"></a><span id="l3.38" class="difflineminus">-&lt;!ENTITY showLocationToolbarCmd.accesskey &quot;L&quot;&gt;</span>
<a href="#l3.39"></a><span id="l3.39" class="difflineplus">+&lt;!ENTITY showMessengerToolbarCmd.label &quot;Mail Toolbar&quot;&gt;</span>
<a href="#l3.40"></a><span id="l3.40" class="difflineplus">+&lt;!ENTITY showMessengerToolbarCmd.accesskey &quot;M&quot;&gt;</span>
<a href="#l3.41"></a><span id="l3.41" class="difflineplus">+&lt;!ENTITY showSearchToolbarCmd.label &quot;Search Bar&quot;&gt;</span>
<a href="#l3.42"></a><span id="l3.42" class="difflineplus">+&lt;!ENTITY showSearchToolbarCmd.accesskey &quot;e&quot;&gt;</span>
<a href="#l3.43"></a><span id="l3.43"> </span>
<a href="#l3.44"></a><span id="l3.44"> &lt;!ENTITY messagePaneLayoutStyle.label &quot;Layout&quot;&gt;</span>
<a href="#l3.45"></a><span id="l3.45"> &lt;!ENTITY messagePaneLayoutStyle.accesskey &quot;L&quot;&gt;</span>
<a href="#l3.46"></a><span id="l3.46"> &lt;!ENTITY messagePaneClassic.label &quot;Classic View&quot;&gt;</span>
<a href="#l3.47"></a><span id="l3.47"> &lt;!ENTITY messagePaneClassic.accesskey &quot;C&quot;&gt;</span>
<a href="#l3.48"></a><span id="l3.48"> &lt;!ENTITY messagePaneWide.label &quot;Wide View&quot;&gt;</span>
<a href="#l3.49"></a><span id="l3.49"> &lt;!ENTITY messagePaneWide.accesskey &quot;W&quot;&gt;</span>
<a href="#l3.50"></a><span id="l3.50"> &lt;!ENTITY messagePaneVertical.label &quot;Vertical View&quot;&gt;</span>
<a href="#l3.51"></a><span id="l3.51" class="difflineat">@@ -484,21 +480,22 @@</span>
<a href="#l3.52"></a><span id="l3.52"> &lt;!ENTITY goForwardButton.label &quot;Go Forward&quot;&gt;</span>
<a href="#l3.53"></a><span id="l3.53"> &lt;!ENTITY deleteButton.label &quot;Delete&quot;&gt;</span>
<a href="#l3.54"></a><span id="l3.54"> &lt;!ENTITY undeleteButton.label &quot;Undelete&quot;&gt;</span>
<a href="#l3.55"></a><span id="l3.55"> &lt;!ENTITY markButton.label &quot;Mark&quot;&gt;</span>
<a href="#l3.56"></a><span id="l3.56"> &lt;!ENTITY printButton.label &quot;Print&quot;&gt;</span>
<a href="#l3.57"></a><span id="l3.57"> &lt;!ENTITY stopButton.label &quot;Stop&quot;&gt;</span>
<a href="#l3.58"></a><span id="l3.58"> &lt;!ENTITY junkButton.label &quot;Junk&quot;&gt;</span>
<a href="#l3.59"></a><span id="l3.59"> &lt;!ENTITY notJunkButton.label &quot;Not Junk&quot;&gt;</span>
<a href="#l3.60"></a><span id="l3.60" class="difflineplus">+&lt;!ENTITY searchButton.title &quot;Advanced Search&quot;&gt;</span>
<a href="#l3.61"></a><span id="l3.61"> </span>
<a href="#l3.62"></a><span id="l3.62"> &lt;!-- Tooltips --&gt;</span>
<a href="#l3.63"></a><span id="l3.63"> &lt;!ENTITY menuBar.tooltip &quot;Menu Bar&quot;&gt;</span>
<a href="#l3.64"></a><span id="l3.64"> &lt;!ENTITY mailToolbar.tooltip &quot;Mail Toolbar&quot;&gt;</span>
<a href="#l3.65"></a><span id="l3.65" class="difflineminus">-&lt;!ENTITY locationToolbar.tooltip &quot;Location Toolbar&quot;&gt;</span>
<a href="#l3.66"></a><span id="l3.66" class="difflineplus">+&lt;!ENTITY searchToolbar.tooltip &quot;Search Bar&quot;&gt;</span>
<a href="#l3.67"></a><span id="l3.67"> &lt;!ENTITY advancedButton.tooltip &quot;Advanced message search&quot;&gt;</span>
<a href="#l3.68"></a><span id="l3.68"> &lt;!ENTITY getMsgButton.tooltip &quot;Get new messages&quot;&gt;</span>
<a href="#l3.69"></a><span id="l3.69"> &lt;!ENTITY newMsgButton.tooltip &quot;Create a new message&quot;&gt;</span>
<a href="#l3.70"></a><span id="l3.70"> &lt;!ENTITY replyButton.tooltip &quot;Reply to the message&quot;&gt;</span>
<a href="#l3.71"></a><span id="l3.71"> &lt;!ENTITY replyAllButton.tooltip &quot;Reply to sender and all recipients&quot;&gt;</span>
<a href="#l3.72"></a><span id="l3.72"> &lt;!ENTITY replyAllButtonNews.tooltip &quot;Reply to sender and newsgroup&quot;&gt;</span>
<a href="#l3.73"></a><span id="l3.73"> &lt;!ENTITY forwardButton.tooltip &quot;Forward selected message&quot;&gt;</span>
<a href="#l3.74"></a><span id="l3.74"> &lt;!ENTITY fileButton.tooltip &quot;File selected message&quot;&gt;</span>
<a href="#l3.75"></a><span id="l3.75" class="difflineat">@@ -584,19 +581,20 @@</span>
<a href="#l3.76"></a><span id="l3.76"> &lt;!ENTITY folderContextSearchMessages.accesskey &quot;S&quot;&gt;</span>
<a href="#l3.77"></a><span id="l3.77"> &lt;!ENTITY folderContextProperties.label &quot;Properties…&quot;&gt;</span>
<a href="#l3.78"></a><span id="l3.78"> &lt;!ENTITY folderContextProperties.accesskey &quot;P&quot;&gt;</span>
<a href="#l3.79"></a><span id="l3.79"> &lt;!ENTITY folderContextSettings.label &quot;Settings…&quot;&gt;</span>
<a href="#l3.80"></a><span id="l3.80"> &lt;!ENTITY folderContextSettings.accesskey &quot;e&quot;&gt;</span>
<a href="#l3.81"></a><span id="l3.81"> </span>
<a href="#l3.82"></a><span id="l3.82"> &lt;!-- focusSearchInput.key also used by addressbook --&gt;</span>
<a href="#l3.83"></a><span id="l3.83"> &lt;!ENTITY focusSearchInput.key &quot;k&quot;&gt;</span>
<a href="#l3.84"></a><span id="l3.84" class="difflineminus">-&lt;!ENTITY searchSubjectOrAddress.placeholder &quot;Search Subject or Address&quot;&gt;</span>
<a href="#l3.85"></a><span id="l3.85"> &lt;!ENTITY advancedButton.label &quot;Advanced…&quot;&gt;</span>
<a href="#l3.86"></a><span id="l3.86"> &lt;!ENTITY advancedButton.accesskey &quot;A&quot;&gt;</span>
<a href="#l3.87"></a><span id="l3.87" class="difflineplus">+&lt;!ENTITY searchButton.label &quot;Search Messages…&quot;&gt;</span>
<a href="#l3.88"></a><span id="l3.88" class="difflineplus">+&lt;!ENTITY searchButton.accesskey &quot;S&quot;&gt;</span>
<a href="#l3.89"></a><span id="l3.89"> </span>
<a href="#l3.90"></a><span id="l3.90"> &lt;!ENTITY all.label &quot;All&quot;&gt;</span>
<a href="#l3.91"></a><span id="l3.91"> &lt;!ENTITY all.accesskey &quot;A&quot;&gt;</span>
<a href="#l3.92"></a><span id="l3.92"> </span>
<a href="#l3.93"></a><span id="l3.93"> &lt;!-- Junk Bar --&gt;</span>
<a href="#l3.94"></a><span id="l3.94"> &lt;!ENTITY junkBarMessage.label &quot;&amp;brandShortName; thinks this message is junk.&quot;&gt;</span>
<a href="#l3.95"></a><span id="l3.95"> &lt;!ENTITY junkBarButton.label &quot;This is Not Junk&quot;&gt;</span>
<a href="#l3.96"></a><span id="l3.96"> &lt;!ENTITY junkInfoButton.label &quot;?&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/suite/mailnews/commandglue.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/suite/mailnews/commandglue.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -872,18 +872,16 @@ function FolderPaneSelectionChange()</span>
<a href="#l4.4"></a><span id="l4.4">     else</span>
<a href="#l4.5"></a><span id="l4.5">     {</span>
<a href="#l4.6"></a><span id="l4.6">         msgWindow.openFolder = null;</span>
<a href="#l4.7"></a><span id="l4.7">         ClearThreadPane();</span>
<a href="#l4.8"></a><span id="l4.8">     }</span>
<a href="#l4.9"></a><span id="l4.9"> </span>
<a href="#l4.10"></a><span id="l4.10">     if (gAccountCentralLoaded)</span>
<a href="#l4.11"></a><span id="l4.11">       UpdateMailToolbar(&quot;gAccountCentralLoaded&quot;);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-    else</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineminus">-      document.getElementById('advancedButton').setAttribute(&quot;disabled&quot; , !(IsCanSearchMessagesEnabled()));</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15">     if (gDisplayStartupPage)</span>
<a href="#l4.16"></a><span id="l4.16">     {</span>
<a href="#l4.17"></a><span id="l4.17">         loadStartPage();</span>
<a href="#l4.18"></a><span id="l4.18">         gDisplayStartupPage = false;</span>
<a href="#l4.19"></a><span id="l4.19">         UpdateMailToolbar(&quot;gDisplayStartupPage&quot;);</span>
<a href="#l4.20"></a><span id="l4.20">     }    </span>
<a href="#l4.21"></a><span id="l4.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/suite/mailnews/folderPane.xul</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/suite/mailnews/folderPane.xul</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -19,16 +19,17 @@</span>
<a href="#l5.4"></a><span id="l5.4">  The Initial Developer of the Original Code is</span>
<a href="#l5.5"></a><span id="l5.5">  Netscape Communications Corporation.</span>
<a href="#l5.6"></a><span id="l5.6">  Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l5.7"></a><span id="l5.7">  the Initial Developer. All Rights Reserved.</span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9">  Contributor(s):</span>
<a href="#l5.10"></a><span id="l5.10">    Jan Varga &lt;varga@ku.sk&gt;</span>
<a href="#l5.11"></a><span id="l5.11">    Håkan Waara &lt;hwaara@chello.se&gt;</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineplus">+   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l5.13"></a><span id="l5.13"> </span>
<a href="#l5.14"></a><span id="l5.14">  Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l5.15"></a><span id="l5.15">  either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l5.16"></a><span id="l5.16">  or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l5.17"></a><span id="l5.17">  in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l5.18"></a><span id="l5.18">  of those above. If you wish to allow use of your version of this file only</span>
<a href="#l5.19"></a><span id="l5.19">  under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l5.20"></a><span id="l5.20">  use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l5.21"></a><span id="l5.21" class="difflineat">@@ -37,17 +38,22 @@</span>
<a href="#l5.22"></a><span id="l5.22">  the provisions above, a recipient may use your version of this file under</span>
<a href="#l5.23"></a><span id="l5.23">  the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l5.24"></a><span id="l5.24"> </span>
<a href="#l5.25"></a><span id="l5.25">  ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l5.26"></a><span id="l5.26"> </span>
<a href="#l5.27"></a><span id="l5.27"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPane.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.28"></a><span id="l5.28"> &lt;?xml-stylesheet href=&quot;chrome://messenger/skin/folderPaneExtras.css&quot; type=&quot;text/css&quot;?&gt;</span>
<a href="#l5.29"></a><span id="l5.29"> </span>
<a href="#l5.30"></a><span id="l5.30" class="difflineminus">-&lt;!DOCTYPE overlay SYSTEM &quot;chrome://messenger/locale/folderpane.dtd&quot;&gt;</span>
<a href="#l5.31"></a><span id="l5.31" class="difflineplus">+&lt;!DOCTYPE overlay [</span>
<a href="#l5.32"></a><span id="l5.32" class="difflineplus">+  &lt;!ENTITY % folderpaneDTD SYSTEM &quot;chrome://messenger/locale/folderpane.dtd&quot;&gt;</span>
<a href="#l5.33"></a><span id="l5.33" class="difflineplus">+  %folderpaneDTD;</span>
<a href="#l5.34"></a><span id="l5.34" class="difflineplus">+  &lt;!ENTITY % msgViewPickerDTD SYSTEM &quot;chrome://messenger/locale/msgViewPickerOverlay.dtd&quot;&gt;</span>
<a href="#l5.35"></a><span id="l5.35" class="difflineplus">+  %msgViewPickerDTD;</span>
<a href="#l5.36"></a><span id="l5.36" class="difflineplus">+]&gt;</span>
<a href="#l5.37"></a><span id="l5.37"> </span>
<a href="#l5.38"></a><span id="l5.38"> &lt;overlay xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>
<a href="#l5.39"></a><span id="l5.39">          xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l5.40"></a><span id="l5.40"> </span>
<a href="#l5.41"></a><span id="l5.41">   &lt;tree id=&quot;folderTree&quot; class=&quot;plain focusring&quot; flex=&quot;1&quot;</span>
<a href="#l5.42"></a><span id="l5.42">             disableKeyNavigation=&quot;true&quot;</span>
<a href="#l5.43"></a><span id="l5.43">             datasources=&quot;rdf:null&quot;</span>
<a href="#l5.44"></a><span id="l5.44">             statedatasource=&quot;rdf:mailnewsfolders&quot;</span>
<a href="#l5.45"></a><span id="l5.45" class="difflineat">@@ -163,9 +169,95 @@</span>
<a href="#l5.46"></a><span id="l5.46">       &lt;treecol id=&quot;folderSizeCol&quot;</span>
<a href="#l5.47"></a><span id="l5.47">                    hidden=&quot;true&quot;</span>
<a href="#l5.48"></a><span id="l5.48">                    persist=&quot;hidden width&quot;</span>
<a href="#l5.49"></a><span id="l5.49">                    flex=&quot;1&quot;</span>
<a href="#l5.50"></a><span id="l5.50">                    label=&quot;&amp;folderSizeColumn.label;&quot;</span>
<a href="#l5.51"></a><span id="l5.51">                    selectable=&quot;false&quot;/&gt;</span>
<a href="#l5.52"></a><span id="l5.52">     &lt;/treecols&gt;</span>
<a href="#l5.53"></a><span id="l5.53">   &lt;/tree&gt;</span>
<a href="#l5.54"></a><span id="l5.54" class="difflineplus">+</span>
<a href="#l5.55"></a><span id="l5.55" class="difflineplus">+  &lt;toolbarpalette id=&quot;MailToolbarPalette&quot;&gt;</span>
<a href="#l5.56"></a><span id="l5.56" class="difflineplus">+    &lt;toolbaritem id=&quot;folder-location-container&quot;</span>
<a href="#l5.57"></a><span id="l5.57" class="difflineplus">+                 title=&quot;&amp;folderLocationToolbarItem.title;&quot;</span>
<a href="#l5.58"></a><span id="l5.58" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l5.59"></a><span id="l5.59" class="difflineplus">+                 context=&quot;folderPaneContext&quot;</span>
<a href="#l5.60"></a><span id="l5.60" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l5.61"></a><span id="l5.61" class="difflineplus">+      &lt;image id=&quot;locationIcon&quot; class=&quot;folderMenuItem&quot;/&gt;</span>
<a href="#l5.62"></a><span id="l5.62" class="difflineplus">+      &lt;menulist id=&quot;locationFolders&quot;</span>
<a href="#l5.63"></a><span id="l5.63" class="difflineplus">+                class=&quot;folderMenuItem&quot;</span>
<a href="#l5.64"></a><span id="l5.64" class="difflineplus">+                label=&quot; &quot;</span>
<a href="#l5.65"></a><span id="l5.65" class="difflineplus">+                crop=&quot;center&quot;&gt;</span>
<a href="#l5.66"></a><span id="l5.66" class="difflineplus">+        &lt;menupopup id=&quot;folderLocationPopup&quot;</span>
<a href="#l5.67"></a><span id="l5.67" class="difflineplus">+                   height=&quot;400&quot;</span>
<a href="#l5.68"></a><span id="l5.68" class="difflineplus">+                   oncommand=&quot;OnLocationTreeSelect(this);&quot;/&gt;</span>
<a href="#l5.69"></a><span id="l5.69" class="difflineplus">+      &lt;/menulist&gt;</span>
<a href="#l5.70"></a><span id="l5.70" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l5.71"></a><span id="l5.71" class="difflineplus">+    &lt;toolbaritem id=&quot;mailviews-container&quot;</span>
<a href="#l5.72"></a><span id="l5.72" class="difflineplus">+                 title=&quot;&amp;mailViewsToolbarItem.title;&quot;</span>
<a href="#l5.73"></a><span id="l5.73" class="difflineplus">+                 observes=&quot;mailDisableViewsSearch&quot;</span>
<a href="#l5.74"></a><span id="l5.74" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l5.75"></a><span id="l5.75" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l5.76"></a><span id="l5.76" class="difflineplus">+      &lt;label id=&quot;viewPickerLabel&quot;</span>
<a href="#l5.77"></a><span id="l5.77" class="difflineplus">+             value=&quot;&amp;viewPicker.label;&quot;</span>
<a href="#l5.78"></a><span id="l5.78" class="difflineplus">+             accesskey=&quot;&amp;viewPicker.accesskey;&quot;</span>
<a href="#l5.79"></a><span id="l5.79" class="difflineplus">+             control=&quot;viewPicker&quot;&gt;</span>
<a href="#l5.80"></a><span id="l5.80" class="difflineplus">+        &lt;observes element=&quot;mailviews-container&quot; attribute=&quot;disabled&quot;/&gt;</span>
<a href="#l5.81"></a><span id="l5.81" class="difflineplus">+      &lt;/label&gt;</span>
<a href="#l5.82"></a><span id="l5.82" class="difflineplus">+      &lt;menulist id=&quot;viewPicker&quot;</span>
<a href="#l5.83"></a><span id="l5.83" class="difflineplus">+                oncommand=&quot;ViewChangeByMenuitem(event.target);&quot;&gt;</span>
<a href="#l5.84"></a><span id="l5.84" class="difflineplus">+        &lt;menupopup id=&quot;viewPickerPopup&quot;</span>
<a href="#l5.85"></a><span id="l5.85" class="difflineplus">+                   onpopupshowing=&quot;RefreshViewPopup(this);&quot;&gt;</span>
<a href="#l5.86"></a><span id="l5.86" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerAll&quot;</span>
<a href="#l5.87"></a><span id="l5.87" class="difflineplus">+                    label=&quot;&amp;viewAll.label;&quot;</span>
<a href="#l5.88"></a><span id="l5.88" class="difflineplus">+                    type=&quot;radio&quot;</span>
<a href="#l5.89"></a><span id="l5.89" class="difflineplus">+                    name=&quot;viewmessages&quot;</span>
<a href="#l5.90"></a><span id="l5.90" class="difflineplus">+                    value=&quot;0&quot;/&gt;</span>
<a href="#l5.91"></a><span id="l5.91" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerUnread&quot;</span>
<a href="#l5.92"></a><span id="l5.92" class="difflineplus">+                    label=&quot;&amp;viewUnread.label;&quot;</span>
<a href="#l5.93"></a><span id="l5.93" class="difflineplus">+                    type=&quot;radio&quot;</span>
<a href="#l5.94"></a><span id="l5.94" class="difflineplus">+                    name=&quot;viewmessages&quot;</span>
<a href="#l5.95"></a><span id="l5.95" class="difflineplus">+                    value=&quot;1&quot;/&gt;</span>
<a href="#l5.96"></a><span id="l5.96" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerNotDeleted&quot;</span>
<a href="#l5.97"></a><span id="l5.97" class="difflineplus">+                    label=&quot;&amp;viewNotDeleted.label;&quot;</span>
<a href="#l5.98"></a><span id="l5.98" class="difflineplus">+                    type=&quot;radio&quot;</span>
<a href="#l5.99"></a><span id="l5.99" class="difflineplus">+                    name=&quot;viewmessages&quot;</span>
<a href="#l5.100"></a><span id="l5.100" class="difflineplus">+                    value=&quot;3&quot;/&gt;</span>
<a href="#l5.101"></a><span id="l5.101" class="difflineplus">+          &lt;menuseparator id=&quot;afterViewPickerUnreadSeparator&quot;/&gt;</span>
<a href="#l5.102"></a><span id="l5.102" class="difflineplus">+          &lt;menu id=&quot;viewPickerTags&quot; label=&quot;&amp;viewTags.label;&quot;&gt;</span>
<a href="#l5.103"></a><span id="l5.103" class="difflineplus">+            &lt;menupopup id=&quot;viewPickerTagsPopup&quot;</span>
<a href="#l5.104"></a><span id="l5.104" class="difflineplus">+                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l5.105"></a><span id="l5.105" class="difflineplus">+                       onpopupshowing=&quot;RefreshTagsPopup(this);&quot;/&gt;</span>
<a href="#l5.106"></a><span id="l5.106" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l5.107"></a><span id="l5.107" class="difflineplus">+          &lt;menu id=&quot;viewPickerCustomViews&quot; label=&quot;&amp;viewCustomViews.label;&quot;&gt;</span>
<a href="#l5.108"></a><span id="l5.108" class="difflineplus">+            &lt;menupopup id=&quot;viewPickerCustomViewsPopup&quot;</span>
<a href="#l5.109"></a><span id="l5.109" class="difflineplus">+                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l5.110"></a><span id="l5.110" class="difflineplus">+                       onpopupshowing=&quot;RefreshCustomViewsPopup(this);&quot;/&gt;</span>
<a href="#l5.111"></a><span id="l5.111" class="difflineplus">+          &lt;/menu&gt;</span>
<a href="#l5.112"></a><span id="l5.112" class="difflineplus">+          &lt;menuseparator id=&quot;afterViewPickerCustomViewsSeparator&quot;/&gt;</span>
<a href="#l5.113"></a><span id="l5.113" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerVirtualFolder&quot;</span>
<a href="#l5.114"></a><span id="l5.114" class="difflineplus">+                    label=&quot;&amp;viewVirtualFolder.label;&quot;</span>
<a href="#l5.115"></a><span id="l5.115" class="difflineplus">+                    value=&quot;7&quot;/&gt;</span>
<a href="#l5.116"></a><span id="l5.116" class="difflineplus">+          &lt;menuitem id=&quot;viewPickerCustomize&quot;</span>
<a href="#l5.117"></a><span id="l5.117" class="difflineplus">+                    label=&quot;&amp;viewCustomizeView.label;&quot;</span>
<a href="#l5.118"></a><span id="l5.118" class="difflineplus">+                    value=&quot;8&quot;/&gt;</span>
<a href="#l5.119"></a><span id="l5.119" class="difflineplus">+        &lt;/menupopup&gt;</span>
<a href="#l5.120"></a><span id="l5.120" class="difflineplus">+        &lt;observes element=&quot;mailviews-container&quot; attribute=&quot;disabled&quot;/&gt;</span>
<a href="#l5.121"></a><span id="l5.121" class="difflineplus">+      &lt;/menulist&gt;</span>
<a href="#l5.122"></a><span id="l5.122" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l5.123"></a><span id="l5.123" class="difflineplus">+    &lt;toolbaritem id=&quot;search-container&quot;</span>
<a href="#l5.124"></a><span id="l5.124" class="difflineplus">+                 title=&quot;&amp;searchToolbarItem.title;&quot;</span>
<a href="#l5.125"></a><span id="l5.125" class="difflineplus">+                 observes=&quot;mailDisableViewsSearch&quot;</span>
<a href="#l5.126"></a><span id="l5.126" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l5.127"></a><span id="l5.127" class="difflineplus">+                 flex=&quot;1&quot;</span>
<a href="#l5.128"></a><span id="l5.128" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l5.129"></a><span id="l5.129" class="difflineplus">+      &lt;textbox id=&quot;searchInput&quot;</span>
<a href="#l5.130"></a><span id="l5.130" class="difflineplus">+               flex=&quot;1&quot;</span>
<a href="#l5.131"></a><span id="l5.131" class="difflineplus">+               type=&quot;search&quot;</span>
<a href="#l5.132"></a><span id="l5.132" class="difflineplus">+               placeholder=&quot;&amp;searchSubjectOrAddress.placeholder;&quot;</span>
<a href="#l5.133"></a><span id="l5.133" class="difflineplus">+               clickSelectsAll=&quot;true&quot;</span>
<a href="#l5.134"></a><span id="l5.134" class="difflineplus">+               onkeypress=&quot;if (event.keyCode == KeyEvent.DOM_VK_RETURN) this.select();&quot;</span>
<a href="#l5.135"></a><span id="l5.135" class="difflineplus">+               oncommand=&quot;onEnterInSearchBar();&quot;&gt;</span>
<a href="#l5.136"></a><span id="l5.136" class="difflineplus">+        &lt;observes element=&quot;search-container&quot; attribute=&quot;disabled&quot;/&gt;</span>
<a href="#l5.137"></a><span id="l5.137" class="difflineplus">+      &lt;/textbox&gt;</span>
<a href="#l5.138"></a><span id="l5.138" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l5.139"></a><span id="l5.139" class="difflineplus">+  &lt;/toolbarpalette&gt;</span>
<a href="#l5.140"></a><span id="l5.140"> &lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/suite/mailnews/jar.mn</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/suite/mailnews/jar.mn</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -11,18 +11,16 @@ messenger.jar:</span>
<a href="#l6.4"></a><span id="l6.4"> % overlay chrome://navigator/content/navigatorOverlay.xul                      chrome://messenger/content/mailOverlay.xul</span>
<a href="#l6.5"></a><span id="l6.5"> % overlay chrome://messenger/content/messenger.xul                             chrome://messenger/content/mailMessengerOverlay.xul</span>
<a href="#l6.6"></a><span id="l6.6"> % overlay chrome://messenger/content/messengercompose/messengercompose.xul     chrome://messenger/content/mailMessengerComposeOverlay.xul</span>
<a href="#l6.7"></a><span id="l6.7"> % overlay chrome://messenger/content/addressbook/addressbook.xul               chrome://messenger/content/mailABOverlay.xul</span>
<a href="#l6.8"></a><span id="l6.8"> % overlay chrome://messenger/content/addressbook/abSelectAddressesDialog.xul   chrome://messenger/content/mailOverlay.xul</span>
<a href="#l6.9"></a><span id="l6.9"> % overlay chrome://editor/content/editor.xul                                   chrome://messenger/content/mailEditorOverlay.xul</span>
<a href="#l6.10"></a><span id="l6.10"> % overlay chrome://editor/content/EdImageOverlay.xul                           chrome://messenger/content/messengercompose/mailComposeEditorOverlay.xul</span>
<a href="#l6.11"></a><span id="l6.11"> % overlay chrome://editor/content/EdLinkProps.xul                              chrome://messenger/content/messengercompose/mailComposeEditorOverlay.xul</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-% overlay chrome://messenger/content/mailWindowOverlay.xul                     chrome://messenger/content/msgViewPickerOverlay.xul</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-    content/messenger/msgViewPickerOverlay.xul</span>
<a href="#l6.14"></a><span id="l6.14">     content/messenger/msgViewPickerOverlay.js</span>
<a href="#l6.15"></a><span id="l6.15">     content/messenger/mailViewSetup.js</span>
<a href="#l6.16"></a><span id="l6.16">     content/messenger/mailViewSetup.xul</span>
<a href="#l6.17"></a><span id="l6.17">     content/messenger/mailViewList.xul</span>
<a href="#l6.18"></a><span id="l6.18">     content/messenger/mailViewList.js</span>
<a href="#l6.19"></a><span id="l6.19">     content/messenger/mailWidgets.xml</span>
<a href="#l6.20"></a><span id="l6.20">     content/messenger/tabmail.xml</span>
<a href="#l6.21"></a><span id="l6.21">     content/messenger/tabmail.js</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/suite/mailnews/mail3PaneWindowCommands.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/suite/mailnews/mail3PaneWindowCommands.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -18,16 +18,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">  * The Initial Developer of the Original Code is</span>
<a href="#l7.5"></a><span id="l7.5">  * Netscape Communications Corporation.</span>
<a href="#l7.6"></a><span id="l7.6">  * Portions created by the Initial Developer are Copyright (C) 1998-2000</span>
<a href="#l7.7"></a><span id="l7.7">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l7.8"></a><span id="l7.8">  *</span>
<a href="#l7.9"></a><span id="l7.9">  * Contributor(s):</span>
<a href="#l7.10"></a><span id="l7.10">  *   Jan Varga &lt;varga@ku.sk&gt;</span>
<a href="#l7.11"></a><span id="l7.11">  *   Håkan Waara (hwaara@chello.se)</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l7.13"></a><span id="l7.13">  *</span>
<a href="#l7.14"></a><span id="l7.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l7.15"></a><span id="l7.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l7.16"></a><span id="l7.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l7.17"></a><span id="l7.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l7.18"></a><span id="l7.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l7.19"></a><span id="l7.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l7.20"></a><span id="l7.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l7.21"></a><span id="l7.21" class="difflineat">@@ -205,16 +206,17 @@ var DefaultController =</span>
<a href="#l7.22"></a><span id="l7.22"> 			case &quot;cmd_reload&quot;:</span>
<a href="#l7.23"></a><span id="l7.23">       case &quot;button_getNewMessages&quot;:</span>
<a href="#l7.24"></a><span id="l7.24"> 			case &quot;cmd_getNewMessages&quot;:</span>
<a href="#l7.25"></a><span id="l7.25">       case &quot;cmd_getMsgsForAuthAccounts&quot;:</span>
<a href="#l7.26"></a><span id="l7.26"> 			case &quot;cmd_getNextNMessages&quot;:</span>
<a href="#l7.27"></a><span id="l7.27"> 			case &quot;cmd_find&quot;:</span>
<a href="#l7.28"></a><span id="l7.28"> 			case &quot;cmd_findAgain&quot;:</span>
<a href="#l7.29"></a><span id="l7.29"> 			case &quot;cmd_findPrev&quot;:</span>
<a href="#l7.30"></a><span id="l7.30" class="difflineplus">+      case &quot;button_search&quot;:</span>
<a href="#l7.31"></a><span id="l7.31">       case &quot;cmd_search&quot;:</span>
<a href="#l7.32"></a><span id="l7.32">       case &quot;button_mark&quot;:</span>
<a href="#l7.33"></a><span id="l7.33"> 			case &quot;cmd_markAsRead&quot;:</span>
<a href="#l7.34"></a><span id="l7.34"> 			case &quot;cmd_markAllRead&quot;:</span>
<a href="#l7.35"></a><span id="l7.35"> 			case &quot;cmd_markThreadAsRead&quot;:</span>
<a href="#l7.36"></a><span id="l7.36"> 			case &quot;cmd_markReadByDate&quot;:</span>
<a href="#l7.37"></a><span id="l7.37"> 			case &quot;cmd_markAsFlagged&quot;:</span>
<a href="#l7.38"></a><span id="l7.38"> 			case &quot;cmd_markAsJunk&quot;:</span>
<a href="#l7.39"></a><span id="l7.39" class="difflineat">@@ -406,16 +408,17 @@ var DefaultController =</span>
<a href="#l7.40"></a><span id="l7.40">       case &quot;cmd_markAllRead&quot;:</span>
<a href="#l7.41"></a><span id="l7.41">       case &quot;cmd_markReadByDate&quot;:</span>
<a href="#l7.42"></a><span id="l7.42">         return IsFolderSelected();</span>
<a href="#l7.43"></a><span id="l7.43">       case &quot;cmd_find&quot;:</span>
<a href="#l7.44"></a><span id="l7.44">       case &quot;cmd_findAgain&quot;:</span>
<a href="#l7.45"></a><span id="l7.45">       case &quot;cmd_findPrev&quot;:</span>
<a href="#l7.46"></a><span id="l7.46">         return IsMessageDisplayedInMessagePane();</span>
<a href="#l7.47"></a><span id="l7.47">         break;</span>
<a href="#l7.48"></a><span id="l7.48" class="difflineplus">+      case &quot;button_search&quot;:</span>
<a href="#l7.49"></a><span id="l7.49">       case &quot;cmd_search&quot;:</span>
<a href="#l7.50"></a><span id="l7.50">         return IsCanSearchMessagesEnabled();</span>
<a href="#l7.51"></a><span id="l7.51">       case &quot;cmd_selectAll&quot;:</span>
<a href="#l7.52"></a><span id="l7.52">       case &quot;cmd_selectFlagged&quot;:</span>
<a href="#l7.53"></a><span id="l7.53">         return gDBView != null;</span>
<a href="#l7.54"></a><span id="l7.54">       // these are enabled on when we are in threaded mode</span>
<a href="#l7.55"></a><span id="l7.55">       case &quot;cmd_selectThread&quot;:</span>
<a href="#l7.56"></a><span id="l7.56">         if (GetNumSelectedMessages() &lt;= 0) return false;</span>
<a href="#l7.57"></a><span id="l7.57" class="difflineat">@@ -647,16 +650,17 @@ var DefaultController =</span>
<a href="#l7.58"></a><span id="l7.58"> 				MsgFindAgain(false);</span>
<a href="#l7.59"></a><span id="l7.59"> 				return;</span>
<a href="#l7.60"></a><span id="l7.60"> 			case &quot;cmd_findPrev&quot;:</span>
<a href="#l7.61"></a><span id="l7.61"> 				MsgFindAgain(true);</span>
<a href="#l7.62"></a><span id="l7.62"> 				return;</span>
<a href="#l7.63"></a><span id="l7.63">       case &quot;cmd_properties&quot;:</span>
<a href="#l7.64"></a><span id="l7.64">         MsgFolderProperties();</span>
<a href="#l7.65"></a><span id="l7.65">         return;</span>
<a href="#l7.66"></a><span id="l7.66" class="difflineplus">+      case &quot;button_search&quot;:</span>
<a href="#l7.67"></a><span id="l7.67">       case &quot;cmd_search&quot;:</span>
<a href="#l7.68"></a><span id="l7.68">         MsgSearchMessages();</span>
<a href="#l7.69"></a><span id="l7.69">         return;</span>
<a href="#l7.70"></a><span id="l7.70">       case &quot;button_mark&quot;:</span>
<a href="#l7.71"></a><span id="l7.71"> 			case &quot;cmd_markAsRead&quot;:</span>
<a href="#l7.72"></a><span id="l7.72"> 				MsgMarkMsgAsRead(null);</span>
<a href="#l7.73"></a><span id="l7.73"> 				return;</span>
<a href="#l7.74"></a><span id="l7.74"> 			case &quot;cmd_markThreadAsRead&quot;:</span>
<a href="#l7.75"></a><span id="l7.75" class="difflineat">@@ -1023,46 +1027,16 @@ function MsgGoBack()</span>
<a href="#l7.76"></a><span id="l7.76">   GoNextMessage(nsMsgNavigationType.back, true);</span>
<a href="#l7.77"></a><span id="l7.77"> }</span>
<a href="#l7.78"></a><span id="l7.78"> </span>
<a href="#l7.79"></a><span id="l7.79"> function MsgGoForward()</span>
<a href="#l7.80"></a><span id="l7.80"> {</span>
<a href="#l7.81"></a><span id="l7.81">   GoNextMessage(nsMsgNavigationType.forward, true);</span>
<a href="#l7.82"></a><span id="l7.82"> }</span>
<a href="#l7.83"></a><span id="l7.83"> </span>
<a href="#l7.84"></a><span id="l7.84" class="difflineminus">-/* XXX hiding the search bar while it is focus kills the keyboard so we focus the thread pane */</span>
<a href="#l7.85"></a><span id="l7.85" class="difflineminus">-function SearchBarToggled()</span>
<a href="#l7.86"></a><span id="l7.86" class="difflineminus">-{</span>
<a href="#l7.87"></a><span id="l7.87" class="difflineminus">-  var searchBox = document.getElementById('searchBox');</span>
<a href="#l7.88"></a><span id="l7.88" class="difflineminus">-  if (searchBox)</span>
<a href="#l7.89"></a><span id="l7.89" class="difflineminus">-  {</span>
<a href="#l7.90"></a><span id="l7.90" class="difflineminus">-    var attribValue = searchBox.getAttribute(&quot;hidden&quot;) ;</span>
<a href="#l7.91"></a><span id="l7.91" class="difflineminus">-    if (attribValue == &quot;true&quot;)</span>
<a href="#l7.92"></a><span id="l7.92" class="difflineminus">-    {</span>
<a href="#l7.93"></a><span id="l7.93" class="difflineminus">-      /*come out of quick search view */</span>
<a href="#l7.94"></a><span id="l7.94" class="difflineminus">-      if (gDBView &amp;&amp; gDBView.viewType == nsMsgViewType.eShowQuickSearchResults)</span>
<a href="#l7.95"></a><span id="l7.95" class="difflineminus">-        onClearSearch();</span>
<a href="#l7.96"></a><span id="l7.96" class="difflineminus">-    }</span>
<a href="#l7.97"></a><span id="l7.97" class="difflineminus">-    else</span>
<a href="#l7.98"></a><span id="l7.98" class="difflineminus">-    {</span>
<a href="#l7.99"></a><span id="l7.99" class="difflineminus">-      /*we have to initialize searchInput because we cannot do it when searchBox is hidden */</span>
<a href="#l7.100"></a><span id="l7.100" class="difflineminus">-      var searchInput = GetSearchInput();</span>
<a href="#l7.101"></a><span id="l7.101" class="difflineminus">-      searchInput.value=&quot;&quot;;</span>
<a href="#l7.102"></a><span id="l7.102" class="difflineminus">-    }</span>
<a href="#l7.103"></a><span id="l7.103" class="difflineminus">-  }</span>
<a href="#l7.104"></a><span id="l7.104" class="difflineminus">-</span>
<a href="#l7.105"></a><span id="l7.105" class="difflineminus">-  for (var currentNode = top.document.commandDispatcher.focusedElement; currentNode; currentNode = currentNode.parentNode) {</span>
<a href="#l7.106"></a><span id="l7.106" class="difflineminus">-    // But skip the last node, which is a XULDocument.</span>
<a href="#l7.107"></a><span id="l7.107" class="difflineminus">-    if ((currentNode instanceof XULElement) &amp;&amp; currentNode.hidden) {</span>
<a href="#l7.108"></a><span id="l7.108" class="difflineminus">-      SetFocusThreadPane();</span>
<a href="#l7.109"></a><span id="l7.109" class="difflineminus">-      return;</span>
<a href="#l7.110"></a><span id="l7.110" class="difflineminus">-    }</span>
<a href="#l7.111"></a><span id="l7.111" class="difflineminus">-  }</span>
<a href="#l7.112"></a><span id="l7.112" class="difflineminus">-}</span>
<a href="#l7.113"></a><span id="l7.113" class="difflineminus">-</span>
<a href="#l7.114"></a><span id="l7.114"> function SwitchPaneFocus(event)</span>
<a href="#l7.115"></a><span id="l7.115"> {</span>
<a href="#l7.116"></a><span id="l7.116">   var folderTree = GetFolderTree();</span>
<a href="#l7.117"></a><span id="l7.117">   var threadTree = GetThreadTree();</span>
<a href="#l7.118"></a><span id="l7.118">   var messagePane = GetMessagePane();</span>
<a href="#l7.119"></a><span id="l7.119"> </span>
<a href="#l7.120"></a><span id="l7.120">   // Although internally this is actually a four-pane window, it is presented as</span>
<a href="#l7.121"></a><span id="l7.121">   // a three-pane -- the search pane is more of a toolbar.  So, shift among the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/mailnews/mailWindow.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/mailnews/mailWindow.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -63,17 +63,17 @@ var gBrandBundle;</span>
<a href="#l8.4"></a><span id="l8.4"> var datasourceContractIDPrefix = &quot;@mozilla.org/rdf/datasource;1?name=&quot;;</span>
<a href="#l8.5"></a><span id="l8.5"> var accountManagerDSContractID = datasourceContractIDPrefix + &quot;msgaccountmanager&quot;;</span>
<a href="#l8.6"></a><span id="l8.6"> var folderDSContractID         = datasourceContractIDPrefix + &quot;mailnewsfolders&quot;;</span>
<a href="#l8.7"></a><span id="l8.7"> </span>
<a href="#l8.8"></a><span id="l8.8"> var accountManagerDataSource;</span>
<a href="#l8.9"></a><span id="l8.9"> var folderDataSource;</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11"> var accountCentralBox = null;</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-var gSearchBox = null;</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+var gDisableViewsSearch = null;</span>
<a href="#l8.14"></a><span id="l8.14"> var gAccountCentralLoaded = true;</span>
<a href="#l8.15"></a><span id="l8.15"> //End progress and Status variables</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17"> var gOfflineManager;</span>
<a href="#l8.18"></a><span id="l8.18"> </span>
<a href="#l8.19"></a><span id="l8.19"> // cache the last keywords</span>
<a href="#l8.20"></a><span id="l8.20"> var gLastKeywords = &quot;&quot;;</span>
<a href="#l8.21"></a><span id="l8.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/suite/mailnews/mailWindowOverlay.js</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/suite/mailnews/mailWindowOverlay.js</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -22,17 +22,17 @@</span>
<a href="#l9.4"></a><span id="l9.4">  *</span>
<a href="#l9.5"></a><span id="l9.5">  * Contributor(s):</span>
<a href="#l9.6"></a><span id="l9.6">  *   timeless</span>
<a href="#l9.7"></a><span id="l9.7">  *   slucy@objectivesw.co.uk</span>
<a href="#l9.8"></a><span id="l9.8">  *   Håkan Waara &lt;hwaara@chello.se&gt;</span>
<a href="#l9.9"></a><span id="l9.9">  *   Jan Varga &lt;varga@ku.sk&gt;</span>
<a href="#l9.10"></a><span id="l9.10">  *   Seth Spitzer &lt;sspitzer@netscape.com&gt;</span>
<a href="#l9.11"></a><span id="l9.11">  *   David Bienvenu &lt;bienvenu@netscape.com&gt;</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">- *   Ian Neal &lt;bugzilla@arlen.demon.co.uk&gt;</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l9.14"></a><span id="l9.14">  *   Karsten Düsterloh &lt;mnyromyr@tprac.de&gt;</span>
<a href="#l9.15"></a><span id="l9.15">  *   Christopher Thomas &lt;cst@yecc.com&gt;</span>
<a href="#l9.16"></a><span id="l9.16">  *   Jeremy Morton &lt;bugzilla@game-point.net&gt;</span>
<a href="#l9.17"></a><span id="l9.17">  *</span>
<a href="#l9.18"></a><span id="l9.18">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l9.19"></a><span id="l9.19">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l9.20"></a><span id="l9.20">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l9.21"></a><span id="l9.21">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l9.22"></a><span id="l9.22" class="difflineat">@@ -3130,14 +3130,18 @@ function MailToolboxCustomizeInit()</span>
<a href="#l9.23"></a><span id="l9.23"> {</span>
<a href="#l9.24"></a><span id="l9.24">   toolboxCustomizeInit(&quot;mail-menubar&quot;);</span>
<a href="#l9.25"></a><span id="l9.25"> }</span>
<a href="#l9.26"></a><span id="l9.26"> </span>
<a href="#l9.27"></a><span id="l9.27"> function MailToolboxCustomizeDone(aToolboxChanged)</span>
<a href="#l9.28"></a><span id="l9.28"> {</span>
<a href="#l9.29"></a><span id="l9.29">   toolboxCustomizeDone(&quot;mail-menubar&quot;, getMailToolbox(), aToolboxChanged);</span>
<a href="#l9.30"></a><span id="l9.30">   SetupMoveCopyMenus('button-file', accountManagerDataSource, folderDataSource);</span>
<a href="#l9.31"></a><span id="l9.31" class="difflineplus">+</span>
<a href="#l9.32"></a><span id="l9.32" class="difflineplus">+  // make sure the folder location picker is initialized, if it exists</span>
<a href="#l9.33"></a><span id="l9.33" class="difflineplus">+  if (&quot;OnLoadLocationTree&quot; in window)</span>
<a href="#l9.34"></a><span id="l9.34" class="difflineplus">+    OnLoadLocationTree();</span>
<a href="#l9.35"></a><span id="l9.35"> }</span>
<a href="#l9.36"></a><span id="l9.36"> </span>
<a href="#l9.37"></a><span id="l9.37"> function MailToolboxCustomizeChange(event)</span>
<a href="#l9.38"></a><span id="l9.38"> {</span>
<a href="#l9.39"></a><span id="l9.39">   toolboxCustomizeChange(getMailToolbox(), event);</span>
<a href="#l9.40"></a><span id="l9.40"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/suite/mailnews/mailWindowOverlay.xul</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/suite/mailnews/mailWindowOverlay.xul</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -65,16 +65,17 @@</span>
<a href="#l10.4"></a><span id="l10.4"> </span>
<a href="#l10.5"></a><span id="l10.5"> &lt;overlay</span>
<a href="#l10.6"></a><span id="l10.6">   xmlns:nc=&quot;http://home.netscape.com/NC-rdf#&quot;</span>
<a href="#l10.7"></a><span id="l10.7">   xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l10.8"></a><span id="l10.8"> </span>
<a href="#l10.9"></a><span id="l10.9"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailCommands.js&quot;/&gt;</span>
<a href="#l10.10"></a><span id="l10.10"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/junkCommands.js&quot;/&gt;</span>
<a href="#l10.11"></a><span id="l10.11"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mailWindowOverlay.js&quot;/&gt;</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineplus">+&lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/msgViewPickerOverlay.js&quot;/&gt;</span>
<a href="#l10.13"></a><span id="l10.13"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger-newsblog/content/newsblogOverlay.js&quot;/&gt;</span>
<a href="#l10.14"></a><span id="l10.14"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/mail-offline.js&quot;/&gt;</span>
<a href="#l10.15"></a><span id="l10.15"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/findUtils.js&quot;/&gt;</span>
<a href="#l10.16"></a><span id="l10.16"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://communicator/content/bookmarks/bookmarks.js&quot;/&gt;</span>
<a href="#l10.17"></a><span id="l10.17"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://global/content/printUtils.js&quot;/&gt;</span>
<a href="#l10.18"></a><span id="l10.18"> &lt;script type=&quot;application/javascript&quot; src=&quot;chrome://messenger/content/folderDisplay.js&quot;/&gt;</span>
<a href="#l10.19"></a><span id="l10.19"> </span>
<a href="#l10.20"></a><span id="l10.20"> &lt;stringbundleset id=&quot;stringbundleset&quot;&gt;</span>
<a href="#l10.21"></a><span id="l10.21" class="difflineat">@@ -276,16 +277,17 @@</span>
<a href="#l10.22"></a><span id="l10.22">   &lt;command id=&quot;button_getNewMessages&quot;/&gt;</span>
<a href="#l10.23"></a><span id="l10.23">   &lt;command id=&quot;button_print&quot;/&gt;</span>
<a href="#l10.24"></a><span id="l10.24">   &lt;command id=&quot;button_next&quot;/&gt;</span>
<a href="#l10.25"></a><span id="l10.25">   &lt;command id=&quot;button_goBack&quot;/&gt;</span>
<a href="#l10.26"></a><span id="l10.26">   &lt;command id=&quot;button_goForward&quot;/&gt;</span>
<a href="#l10.27"></a><span id="l10.27">   &lt;command id=&quot;button_file&quot;/&gt;</span>
<a href="#l10.28"></a><span id="l10.28">   &lt;command id=&quot;cmd_shiftDelete&quot; oncommand=&quot;goDoCommand('cmd_shiftDelete');&quot;/&gt;</span>
<a href="#l10.29"></a><span id="l10.29">   &lt;command id=&quot;button_junk&quot;/&gt;</span>
<a href="#l10.30"></a><span id="l10.30" class="difflineplus">+  &lt;command id=&quot;button_search&quot;/&gt;</span>
<a href="#l10.31"></a><span id="l10.31"> &lt;/commandset&gt;</span>
<a href="#l10.32"></a><span id="l10.32"> </span>
<a href="#l10.33"></a><span id="l10.33"> </span>
<a href="#l10.34"></a><span id="l10.34"> &lt;commandset id=&quot;mailGetMsgMenuItems&quot;</span>
<a href="#l10.35"></a><span id="l10.35">             commandupdater=&quot;true&quot;</span>
<a href="#l10.36"></a><span id="l10.36">             events=&quot;create-menu-getMsgToolbar,create-menu-file&quot;</span>
<a href="#l10.37"></a><span id="l10.37">             oncommandupdate=&quot;goUpdateMailMenuItems(this)&quot;&gt;</span>
<a href="#l10.38"></a><span id="l10.38"> </span>
<a href="#l10.39"></a><span id="l10.39" class="difflineat">@@ -1151,31 +1153,24 @@</span>
<a href="#l10.40"></a><span id="l10.40">     &lt;menupopup id=&quot;menu_View_Popup&quot; onpopupshowing=&quot;view_init()&quot;&gt;</span>
<a href="#l10.41"></a><span id="l10.41">       &lt;menu id=&quot;menu_Toolbars&quot;&gt;</span>
<a href="#l10.42"></a><span id="l10.42">         &lt;menupopup id=&quot;view_toolbars_popup&quot;&gt;</span>
<a href="#l10.43"></a><span id="l10.43">           &lt;menuitem id=&quot;menu_showMessengerToolbar&quot;</span>
<a href="#l10.44"></a><span id="l10.44">                     type=&quot;checkbox&quot;</span>
<a href="#l10.45"></a><span id="l10.45">                     checked=&quot;true&quot;</span>
<a href="#l10.46"></a><span id="l10.46">                     label=&quot;&amp;showMessengerToolbarCmd.label;&quot;</span>
<a href="#l10.47"></a><span id="l10.47">                     accesskey=&quot;&amp;showMessengerToolbarCmd.accesskey;&quot;</span>
<a href="#l10.48"></a><span id="l10.48" class="difflineminus">-                    oncommand=&quot;goToggleToolbar('msgToolbar', 'menu_showMessengerToolbar')&quot;/&gt;</span>
<a href="#l10.49"></a><span id="l10.49" class="difflineminus">-          &lt;menuitem id=&quot;menu_showLocationToolbar&quot;</span>
<a href="#l10.50"></a><span id="l10.50" class="difflineminus">-                    type=&quot;checkbox&quot;</span>
<a href="#l10.51"></a><span id="l10.51" class="difflineminus">-                    label=&quot;&amp;showLocationToolbarCmd.label;&quot;</span>
<a href="#l10.52"></a><span id="l10.52" class="difflineminus">-                    accesskey=&quot;&amp;showLocationToolbarCmd.accesskey;&quot;</span>
<a href="#l10.53"></a><span id="l10.53" class="difflineminus">-                    oncommand=&quot;goToggleToolbar('msgLocationToolbar', 'menu_showLocationToolbar');&quot;</span>
<a href="#l10.54"></a><span id="l10.54" class="difflineminus">-                    observes=&quot;mailHideMenus&quot;</span>
<a href="#l10.55"></a><span id="l10.55" class="difflineminus">-                    checked=&quot;false&quot; persist=&quot;checked&quot;/&gt;</span>
<a href="#l10.56"></a><span id="l10.56" class="difflineplus">+                    oncommand=&quot;goToggleToolbar('msgToolbar', 'menu_showMessengerToolbar');&quot;/&gt;</span>
<a href="#l10.57"></a><span id="l10.57">           &lt;menuitem id=&quot;menu_showSearchToolbar&quot;</span>
<a href="#l10.58"></a><span id="l10.58">                     type=&quot;checkbox&quot;</span>
<a href="#l10.59"></a><span id="l10.59">                     checked=&quot;true&quot;</span>
<a href="#l10.60"></a><span id="l10.60">                     label=&quot;&amp;showSearchToolbarCmd.label;&quot;</span>
<a href="#l10.61"></a><span id="l10.61">                     accesskey=&quot;&amp;showSearchToolbarCmd.accesskey;&quot;</span>
<a href="#l10.62"></a><span id="l10.62" class="difflineminus">-                    oncommand=&quot;goToggleToolbar('searchBox', 'menu_showSearchToolbar'); SearchBarToggled();&quot;</span>
<a href="#l10.63"></a><span id="l10.63" class="difflineminus">-                    observes=&quot;mailHideMenus&quot;/&gt;</span>
<a href="#l10.64"></a><span id="l10.64" class="difflineplus">+                    observes=&quot;mailHideMenus&quot;</span>
<a href="#l10.65"></a><span id="l10.65" class="difflineplus">+                    oncommand=&quot;goToggleToolbar('searchToolbar', 'menu_showSearchToolbar');&quot;/&gt;</span>
<a href="#l10.66"></a><span id="l10.66">           &lt;menuitem id=&quot;menu_showTaskbar&quot;/&gt;</span>
<a href="#l10.67"></a><span id="l10.67">         &lt;/menupopup&gt;</span>
<a href="#l10.68"></a><span id="l10.68">       &lt;/menu&gt;</span>
<a href="#l10.69"></a><span id="l10.69">       &lt;menu id=&quot;menu_MessagePaneLayout&quot; label=&quot;&amp;messagePaneLayoutStyle.label;&quot;</span>
<a href="#l10.70"></a><span id="l10.70">             accesskey=&quot;&amp;messagePaneLayoutStyle.accesskey;&quot; observes=&quot;mailHideMenus&quot;&gt;</span>
<a href="#l10.71"></a><span id="l10.71">         &lt;menupopup id=&quot;view_layout_popup&quot; onpopupshowing=&quot;InitViewLayoutStyleMenu(event)&quot;&gt;</span>
<a href="#l10.72"></a><span id="l10.72">           &lt;menuitem id=&quot;messagePaneClassic&quot; type=&quot;radio&quot; label=&quot;&amp;messagePaneClassic.label;&quot; name=&quot;viewlayoutgroup&quot;</span>
<a href="#l10.73"></a><span id="l10.73">                     accesskey=&quot;&amp;messagePaneClassic.accesskey;&quot; oncommand=&quot;ChangeMailLayout(kClassicMailLayout);&quot;/&gt;</span>
<a href="#l10.74"></a><span id="l10.74" class="difflineat">@@ -1231,26 +1226,44 @@</span>
<a href="#l10.75"></a><span id="l10.75">           &lt;menuseparator id=&quot;sortAfterDescendingSeparator&quot;/&gt;</span>
<a href="#l10.76"></a><span id="l10.76">           &lt;menuitem id=&quot;sortThreaded&quot; type=&quot;radio&quot; name=&quot;threaded&quot; label=&quot;&amp;sortThreaded.label;&quot; accesskey=&quot;&amp;sortThreaded.accesskey;&quot; oncommand=&quot;MsgSortThreaded();&quot;/&gt;</span>
<a href="#l10.77"></a><span id="l10.77">           &lt;menuitem id=&quot;sortUnthreaded&quot; type=&quot;radio&quot; name=&quot;threaded&quot; label=&quot;&amp;sortUnthreaded.label;&quot; accesskey=&quot;&amp;sortUnthreaded.accesskey;&quot; oncommand=&quot;MsgSortUnthreaded();&quot;/&gt;</span>
<a href="#l10.78"></a><span id="l10.78">           &lt;menuitem id=&quot;groupBySort&quot; type=&quot;radio&quot; name=&quot;group&quot; label=&quot;&amp;groupBySort.label;&quot; accesskey=&quot;&amp;groupBySort.accesskey;&quot; oncommand=&quot;MsgGroupBySort();&quot;/&gt;</span>
<a href="#l10.79"></a><span id="l10.79">         &lt;/menupopup&gt;</span>
<a href="#l10.80"></a><span id="l10.80">       &lt;/menu&gt;</span>
<a href="#l10.81"></a><span id="l10.81">       &lt;menu id=&quot;viewMessageViewMenu&quot; label=&quot;&amp;msgsMenu.label;&quot; accesskey=&quot;&amp;msgsMenu.accesskey;&quot;</span>
<a href="#l10.82"></a><span id="l10.82">             observes=&quot;mailHideMenus&quot; oncommand=&quot;ViewChangeByMenuitem(event.target);&quot;&gt;</span>
<a href="#l10.83"></a><span id="l10.83" class="difflineminus">-        &lt;menupopup id=&quot;viewMessagePopup&quot; onpopupshowing=&quot;RefreshViewPopup(this, false);&quot;&gt;</span>
<a href="#l10.84"></a><span id="l10.84" class="difflineminus">-          &lt;menuitem id=&quot;viewMessageAll&quot;    value=&quot;0&quot; type=&quot;radio&quot; label=&quot;&amp;viewAll.label;&quot; accesskey=&quot;&amp;viewAll.accesskey;&quot;/&gt;</span>
<a href="#l10.85"></a><span id="l10.85" class="difflineminus">-          &lt;menuitem id=&quot;viewMessageUnread&quot; value=&quot;1&quot; type=&quot;radio&quot; label=&quot;&amp;viewUnread.label;&quot; accesskey=&quot;&amp;viewUnread.accesskey;&quot;/&gt;</span>
<a href="#l10.86"></a><span id="l10.86" class="difflineminus">-          &lt;menuitem id=&quot;viewMessageNotDeleted&quot; value=&quot;3&quot; type=&quot;radio&quot; label=&quot;&amp;viewNotDeleted.label;&quot; accesskey=&quot;&amp;viewNotDeleted.accesskey;&quot;/&gt;</span>
<a href="#l10.87"></a><span id="l10.87" class="difflineplus">+        &lt;menupopup id=&quot;viewMessagePopup&quot;</span>
<a href="#l10.88"></a><span id="l10.88" class="difflineplus">+                   onpopupshowing=&quot;RefreshViewPopup(this);&quot;&gt;</span>
<a href="#l10.89"></a><span id="l10.89" class="difflineplus">+          &lt;menuitem id=&quot;viewMessageAll&quot;</span>
<a href="#l10.90"></a><span id="l10.90" class="difflineplus">+                    label=&quot;&amp;viewAll.label;&quot;</span>
<a href="#l10.91"></a><span id="l10.91" class="difflineplus">+                    accesskey=&quot;&amp;viewAll.accesskey;&quot;</span>
<a href="#l10.92"></a><span id="l10.92" class="difflineplus">+                    type=&quot;radio&quot;</span>
<a href="#l10.93"></a><span id="l10.93" class="difflineplus">+                    name=&quot;viewmessages&quot;</span>
<a href="#l10.94"></a><span id="l10.94" class="difflineplus">+                    value=&quot;0&quot;/&gt;</span>
<a href="#l10.95"></a><span id="l10.95" class="difflineplus">+          &lt;menuitem id=&quot;viewMessageUnread&quot;</span>
<a href="#l10.96"></a><span id="l10.96" class="difflineplus">+                    label=&quot;&amp;viewUnread.label;&quot;</span>
<a href="#l10.97"></a><span id="l10.97" class="difflineplus">+                    accesskey=&quot;&amp;viewUnread.accesskey;&quot;</span>
<a href="#l10.98"></a><span id="l10.98" class="difflineplus">+                    type=&quot;radio&quot;</span>
<a href="#l10.99"></a><span id="l10.99" class="difflineplus">+                    name=&quot;viewmessages&quot;</span>
<a href="#l10.100"></a><span id="l10.100" class="difflineplus">+                    value=&quot;1&quot;/&gt;</span>
<a href="#l10.101"></a><span id="l10.101" class="difflineplus">+          &lt;menuitem id=&quot;viewMessageNotDeleted&quot;</span>
<a href="#l10.102"></a><span id="l10.102" class="difflineplus">+                    label=&quot;&amp;viewNotDeleted.label;&quot;</span>
<a href="#l10.103"></a><span id="l10.103" class="difflineplus">+                    accesskey=&quot;&amp;viewNotDeleted.accesskey;&quot;</span>
<a href="#l10.104"></a><span id="l10.104" class="difflineplus">+                    type=&quot;radio&quot;</span>
<a href="#l10.105"></a><span id="l10.105" class="difflineplus">+                    name=&quot;viewmessages&quot;</span>
<a href="#l10.106"></a><span id="l10.106" class="difflineplus">+                    value=&quot;3&quot;/&gt;</span>
<a href="#l10.107"></a><span id="l10.107">           &lt;menuseparator id=&quot;messageViewAfterUnreadSeparator&quot;/&gt;</span>
<a href="#l10.108"></a><span id="l10.108">           &lt;menu id=&quot;viewMessageTags&quot; label=&quot;&amp;viewTags.label;&quot; accesskey=&quot;&amp;viewTags.accesskey;&quot;&gt;</span>
<a href="#l10.109"></a><span id="l10.109" class="difflineminus">-            &lt;menupopup id=&quot;viewMessageTagsPopup&quot; onpopupshowing=&quot;RefreshTagsPopup(this, false);&quot;/&gt;</span>
<a href="#l10.110"></a><span id="l10.110" class="difflineplus">+            &lt;menupopup id=&quot;viewMessageTagsPopup&quot;</span>
<a href="#l10.111"></a><span id="l10.111" class="difflineplus">+                       onpopupshowing=&quot;RefreshTagsPopup(this);&quot;/&gt;</span>
<a href="#l10.112"></a><span id="l10.112">           &lt;/menu&gt;</span>
<a href="#l10.113"></a><span id="l10.113">           &lt;menu id=&quot;viewMessageCustomViews&quot; label=&quot;&amp;viewCustomViews.label;&quot; accesskey=&quot;&amp;viewCustomViews.accesskey;&quot;&gt;</span>
<a href="#l10.114"></a><span id="l10.114" class="difflineminus">-            &lt;menupopup id=&quot;viewMessageCustomViewsPopup&quot; onpopupshowing=&quot;RefreshCustomViewsPopup(this, false);&quot;/&gt;</span>
<a href="#l10.115"></a><span id="l10.115" class="difflineplus">+            &lt;menupopup id=&quot;viewMessageCustomViewsPopup&quot;</span>
<a href="#l10.116"></a><span id="l10.116" class="difflineplus">+                       onpopupshowing=&quot;RefreshCustomViewsPopup(this);&quot;/&gt;</span>
<a href="#l10.117"></a><span id="l10.117">           &lt;/menu&gt;</span>
<a href="#l10.118"></a><span id="l10.118">           &lt;menuseparator id=&quot;messageViewAfterCustomSeparator&quot;/&gt;</span>
<a href="#l10.119"></a><span id="l10.119">           &lt;menuitem id=&quot;viewMessageVirtualFolder&quot; value=&quot;7&quot; label=&quot;&amp;viewVirtualFolder.label;&quot; accesskey=&quot;&amp;viewVirtualFolder.accesskey;&quot;/&gt;</span>
<a href="#l10.120"></a><span id="l10.120">           &lt;menuitem id=&quot;viewMessageCustomize&quot;     value=&quot;8&quot; label=&quot;&amp;viewCustomizeView.label;&quot; accesskey=&quot;&amp;viewCustomizeView.accesskey;&quot;/&gt;</span>
<a href="#l10.121"></a><span id="l10.121">         &lt;/menupopup&gt;</span>
<a href="#l10.122"></a><span id="l10.122">       &lt;/menu&gt;</span>
<a href="#l10.123"></a><span id="l10.123">       &lt;menu id=&quot;viewMessagesMenu&quot; label=&quot;&amp;threads.label;&quot;</span>
<a href="#l10.124"></a><span id="l10.124">             accesskey=&quot;&amp;threads.accesskey;&quot; observes=&quot;mailHideMenus&quot;&gt;</span>
<a href="#l10.125"></a><span id="l10.125" class="difflineat">@@ -1917,16 +1930,17 @@</span>
<a href="#l10.126"></a><span id="l10.126">            grippytooltiptext=&quot;&amp;mailToolbar.tooltip;&quot;</span>
<a href="#l10.127"></a><span id="l10.127">            toolbarname=&quot;&amp;showMessengerToolbarCmd.label;&quot;</span>
<a href="#l10.128"></a><span id="l10.128">            accesskey=&quot;&amp;showMessengerToolbarCmd.accesskey;&quot;</span>
<a href="#l10.129"></a><span id="l10.129">            customizable=&quot;true&quot;</span>
<a href="#l10.130"></a><span id="l10.130">            defaultset=&quot;button-getmsg,button-newmsg,separator,button-reply,button-replyall,button-forward,separator,button-goback,button-goforward,button-next,button-junk,button-delete,button-mark,spring,throbber-box&quot;</span>
<a href="#l10.131"></a><span id="l10.131">            togglemenuitem=&quot;menu_showMessengerToolbar&quot;</span>
<a href="#l10.132"></a><span id="l10.132">            context=&quot;toolbar-context-menu&quot;&gt;</span>
<a href="#l10.133"></a><span id="l10.133">   &lt;/toolbar&gt;</span>
<a href="#l10.134"></a><span id="l10.134" class="difflineplus">+  &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l10.135"></a><span id="l10.135"> </span>
<a href="#l10.136"></a><span id="l10.136">   &lt;toolbarpalette id=&quot;MailToolbarPalette&quot;&gt;</span>
<a href="#l10.137"></a><span id="l10.137">     &lt;toolbarbutton id=&quot;button-getmsg&quot;</span>
<a href="#l10.138"></a><span id="l10.138">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.139"></a><span id="l10.139">                    type=&quot;menu-button&quot;</span>
<a href="#l10.140"></a><span id="l10.140">                    label=&quot;&amp;getMsgButton.label;&quot;</span>
<a href="#l10.141"></a><span id="l10.141">                    tooltiptext=&quot;&amp;getMsgButton.tooltip;&quot;</span>
<a href="#l10.142"></a><span id="l10.142">                    sortResource=&quot;http://home.netscape.com/NC-rdf#FolderTreeName&quot;</span>
<a href="#l10.143"></a><span id="l10.143" class="difflineat">@@ -2188,39 +2202,39 @@</span>
<a href="#l10.144"></a><span id="l10.144">     &lt;toolbaritem id=&quot;button-junk&quot;</span>
<a href="#l10.145"></a><span id="l10.145">                  observes=&quot;button_junk&quot;&gt;</span>
<a href="#l10.146"></a><span id="l10.146">       &lt;deck id=&quot;junk-deck&quot;</span>
<a href="#l10.147"></a><span id="l10.147">             oncommand=&quot;goDoCommand('button_junk')&quot;&gt;</span>
<a href="#l10.148"></a><span id="l10.148">         &lt;toolbarbutton id=&quot;button-isJunk&quot;</span>
<a href="#l10.149"></a><span id="l10.149">                        class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.150"></a><span id="l10.150">                        label=&quot;&amp;junkButton.label;&quot;</span>
<a href="#l10.151"></a><span id="l10.151">                        tooltiptext=&quot;&amp;junkButton.tooltip;&quot;</span>
<a href="#l10.152"></a><span id="l10.152" class="difflineminus">-                       observes=&quot;button_junk&quot;/&gt;</span>
<a href="#l10.153"></a><span id="l10.153" class="difflineplus">+                       observes=&quot;button-junk&quot;/&gt;</span>
<a href="#l10.154"></a><span id="l10.154">         &lt;toolbarbutton id=&quot;button-notJunk&quot;</span>
<a href="#l10.155"></a><span id="l10.155">                        class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.156"></a><span id="l10.156">                        label=&quot;&amp;notJunkButton.label;&quot;</span>
<a href="#l10.157"></a><span id="l10.157">                        tooltiptext=&quot;&amp;notJunkButton.tooltip;&quot;</span>
<a href="#l10.158"></a><span id="l10.158" class="difflineminus">-                       observes=&quot;button_junk&quot;/&gt;</span>
<a href="#l10.159"></a><span id="l10.159" class="difflineplus">+                       observes=&quot;button-junk&quot;/&gt;</span>
<a href="#l10.160"></a><span id="l10.160">       &lt;/deck&gt;</span>
<a href="#l10.161"></a><span id="l10.161">     &lt;/toolbaritem&gt;</span>
<a href="#l10.162"></a><span id="l10.162"> </span>
<a href="#l10.163"></a><span id="l10.163">     &lt;toolbaritem id=&quot;button-delete&quot;</span>
<a href="#l10.164"></a><span id="l10.164">                  observes=&quot;button_delete&quot;&gt;</span>
<a href="#l10.165"></a><span id="l10.165">       &lt;deck id=&quot;delete-deck&quot;&gt;</span>
<a href="#l10.166"></a><span id="l10.166">         &lt;toolbarbutton id=&quot;button-mark-deleted&quot;</span>
<a href="#l10.167"></a><span id="l10.167">                        class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.168"></a><span id="l10.168">                        label=&quot;&amp;deleteButton.label;&quot;</span>
<a href="#l10.169"></a><span id="l10.169">                        tooltiptext=&quot;&amp;deleteButton.tooltip;&quot;</span>
<a href="#l10.170"></a><span id="l10.170" class="difflineminus">-                       observes=&quot;button_delete&quot;</span>
<a href="#l10.171"></a><span id="l10.171" class="difflineplus">+                       observes=&quot;button-delete&quot;</span>
<a href="#l10.172"></a><span id="l10.172">                        oncommand=&quot;goDoCommand(event.shiftKey ? 'button_shiftDelete' : 'button_delete')&quot;/&gt;</span>
<a href="#l10.173"></a><span id="l10.173">         &lt;toolbarbutton id=&quot;button-mark-undelete&quot;</span>
<a href="#l10.174"></a><span id="l10.174">                        class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.175"></a><span id="l10.175">                        label=&quot;&amp;undeleteButton.label;&quot;</span>
<a href="#l10.176"></a><span id="l10.176">                        tooltiptext=&quot;&amp;undeleteButton.tooltip;&quot;</span>
<a href="#l10.177"></a><span id="l10.177" class="difflineminus">-                       observes=&quot;button_delete&quot;</span>
<a href="#l10.178"></a><span id="l10.178" class="difflineplus">+                       observes=&quot;button-delete&quot;</span>
<a href="#l10.179"></a><span id="l10.179">                        oncommand=&quot;goDoCommand('button_delete')&quot;/&gt;</span>
<a href="#l10.180"></a><span id="l10.180">       &lt;/deck&gt;</span>
<a href="#l10.181"></a><span id="l10.181">     &lt;/toolbaritem&gt;</span>
<a href="#l10.182"></a><span id="l10.182"> </span>
<a href="#l10.183"></a><span id="l10.183">     &lt;toolbarbutton id=&quot;button-mark&quot;</span>
<a href="#l10.184"></a><span id="l10.184">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.185"></a><span id="l10.185">                    type=&quot;menu-button&quot;</span>
<a href="#l10.186"></a><span id="l10.186">                    label=&quot;&amp;markButton.label;&quot;</span>
<a href="#l10.187"></a><span id="l10.187" class="difflineat">@@ -2273,57 +2287,43 @@</span>
<a href="#l10.188"></a><span id="l10.188">                   command=&quot;cmd_printpreview&quot;/&gt;</span>
<a href="#l10.189"></a><span id="l10.189">       &lt;/menupopup&gt;</span>
<a href="#l10.190"></a><span id="l10.190">     &lt;/toolbarbutton&gt;</span>
<a href="#l10.191"></a><span id="l10.191">     &lt;toolbarbutton id=&quot;button-stop&quot;</span>
<a href="#l10.192"></a><span id="l10.192">                    class=&quot;toolbarbutton-1&quot;</span>
<a href="#l10.193"></a><span id="l10.193">                    label=&quot;&amp;stopButton.label;&quot;</span>
<a href="#l10.194"></a><span id="l10.194">                    tooltiptext=&quot;&amp;stopButton.tooltip;&quot;</span>
<a href="#l10.195"></a><span id="l10.195">                    command=&quot;cmd_stop&quot;/&gt;</span>
<a href="#l10.196"></a><span id="l10.196" class="difflineplus">+    &lt;toolbaritem id=&quot;button-search-container&quot;</span>
<a href="#l10.197"></a><span id="l10.197" class="difflineplus">+                 title=&quot;&amp;searchButton.title;&quot;</span>
<a href="#l10.198"></a><span id="l10.198" class="difflineplus">+                 align=&quot;center&quot;</span>
<a href="#l10.199"></a><span id="l10.199" class="difflineplus">+                 class=&quot;chromeclass-toolbar-additional&quot;&gt;</span>
<a href="#l10.200"></a><span id="l10.200" class="difflineplus">+      &lt;button id=&quot;button-search&quot;</span>
<a href="#l10.201"></a><span id="l10.201" class="difflineplus">+              label=&quot;&amp;searchButton.label;&quot;</span>
<a href="#l10.202"></a><span id="l10.202" class="difflineplus">+              accesskey=&quot;&amp;searchButton.accesskey;&quot;</span>
<a href="#l10.203"></a><span id="l10.203" class="difflineplus">+              tooltiptext=&quot;&amp;advancedButton.tooltip;&quot;</span>
<a href="#l10.204"></a><span id="l10.204" class="difflineplus">+              observes=&quot;button_search&quot;</span>
<a href="#l10.205"></a><span id="l10.205" class="difflineplus">+              oncommand=&quot;goDoCommand('button_search')&quot;/&gt;</span>
<a href="#l10.206"></a><span id="l10.206" class="difflineplus">+      &lt;button id=&quot;button-advanced&quot;</span>
<a href="#l10.207"></a><span id="l10.207" class="difflineplus">+              label=&quot;&amp;advancedButton.label;&quot;</span>
<a href="#l10.208"></a><span id="l10.208" class="difflineplus">+              accesskey=&quot;&amp;advancedButton.accesskey;&quot;</span>
<a href="#l10.209"></a><span id="l10.209" class="difflineplus">+              tooltiptext=&quot;&amp;advancedButton.tooltip;&quot;</span>
<a href="#l10.210"></a><span id="l10.210" class="difflineplus">+              observes=&quot;button_search&quot;</span>
<a href="#l10.211"></a><span id="l10.211" class="difflineplus">+              oncommand=&quot;goDoCommand('button_search')&quot;/&gt;</span>
<a href="#l10.212"></a><span id="l10.212" class="difflineplus">+    &lt;/toolbaritem&gt;</span>
<a href="#l10.213"></a><span id="l10.213">     &lt;toolbaritem id=&quot;throbber-box&quot;</span>
<a href="#l10.214"></a><span id="l10.214">                  align=&quot;center&quot;&gt;</span>
<a href="#l10.215"></a><span id="l10.215">         &lt;button id=&quot;navigator-throbber&quot;</span>
<a href="#l10.216"></a><span id="l10.216">                 oncommand=&quot;goClickThrobber('messenger.throbber.url')&quot;</span>
<a href="#l10.217"></a><span id="l10.217">                 tooltiptext=&quot;&amp;throbber.tooltip;&quot;/&gt;</span>
<a href="#l10.218"></a><span id="l10.218">     &lt;/toolbaritem&gt;</span>
<a href="#l10.219"></a><span id="l10.219">   &lt;/toolbarpalette&gt;</span>
<a href="#l10.220"></a><span id="l10.220"> </span>
<a href="#l10.221"></a><span id="l10.221"> &lt;/toolbox&gt;</span>
<a href="#l10.222"></a><span id="l10.222"> </span>
<a href="#l10.223"></a><span id="l10.223" class="difflineminus">-&lt;toolbar id=&quot;msgLocationToolbar&quot;</span>
<a href="#l10.224"></a><span id="l10.224" class="difflineminus">-         persist=&quot;hidden&quot;</span>
<a href="#l10.225"></a><span id="l10.225" class="difflineminus">-         hidden=&quot;true&quot;</span>
<a href="#l10.226"></a><span id="l10.226" class="difflineminus">-         grippytooltiptext=&quot;&amp;locationToolbar.tooltip;&quot;</span>
<a href="#l10.227"></a><span id="l10.227" class="difflineminus">-         nowindowdrag=&quot;true&quot;&gt;</span>
<a href="#l10.228"></a><span id="l10.228" class="difflineminus">-  &lt;hbox align=&quot;center&quot; context=&quot;folderPaneContext&quot;&gt;</span>
<a href="#l10.229"></a><span id="l10.229" class="difflineminus">-    &lt;image id=&quot;locationIcon&quot; class=&quot;folderMenuItem&quot;/&gt;</span>
<a href="#l10.230"></a><span id="l10.230" class="difflineminus">-    &lt;menulist id=&quot;locationFolders&quot; class=&quot;folderMenuItem&quot;</span>
<a href="#l10.231"></a><span id="l10.231" class="difflineminus">-              label=&quot; &quot; crop=&quot;center&quot;&gt;</span>
<a href="#l10.232"></a><span id="l10.232" class="difflineminus">-      &lt;menupopup id=&quot;locationPopup&quot; height=&quot;400&quot;</span>
<a href="#l10.233"></a><span id="l10.233" class="difflineminus">-                 oncommand=&quot;OnLocationTreeSelect(this);&quot;/&gt;</span>
<a href="#l10.234"></a><span id="l10.234" class="difflineminus">-    &lt;/menulist&gt;</span>
<a href="#l10.235"></a><span id="l10.235" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l10.236"></a><span id="l10.236" class="difflineminus">-</span>
<a href="#l10.237"></a><span id="l10.237" class="difflineminus">-  &lt;hbox id=&quot;searchBox&quot; align=&quot;center&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l10.238"></a><span id="l10.238" class="difflineminus">-    &lt;spacer id=&quot;searchSpacer&quot; flex=&quot;2&quot;/&gt;</span>
<a href="#l10.239"></a><span id="l10.239" class="difflineminus">-    &lt;textbox id=&quot;searchInput&quot;</span>
<a href="#l10.240"></a><span id="l10.240" class="difflineminus">-             flex=&quot;1&quot;</span>
<a href="#l10.241"></a><span id="l10.241" class="difflineminus">-             type=&quot;search&quot;</span>
<a href="#l10.242"></a><span id="l10.242" class="difflineminus">-             placeholder=&quot;&amp;searchSubjectOrAddress.placeholder;&quot;</span>
<a href="#l10.243"></a><span id="l10.243" class="difflineminus">-             clickSelectsAll=&quot;true&quot;</span>
<a href="#l10.244"></a><span id="l10.244" class="difflineminus">-             onkeypress=&quot;if (event.keyCode == KeyEvent.DOM_VK_RETURN) this.select();&quot;</span>
<a href="#l10.245"></a><span id="l10.245" class="difflineminus">-             oncommand=&quot;onEnterInSearchBar();&quot;/&gt;</span>
<a href="#l10.246"></a><span id="l10.246" class="difflineminus">-    &lt;button id=&quot;advancedButton&quot;</span>
<a href="#l10.247"></a><span id="l10.247" class="difflineminus">-            label=&quot;&amp;advancedButton.label;&quot;</span>
<a href="#l10.248"></a><span id="l10.248" class="difflineminus">-            tooltiptext=&quot;&amp;advancedButton.tooltip;&quot;</span>
<a href="#l10.249"></a><span id="l10.249" class="difflineminus">-            accesskey=&quot;&amp;advancedButton.accesskey;&quot;</span>
<a href="#l10.250"></a><span id="l10.250" class="difflineminus">-            oncommand=&quot;onAdvancedSearch();&quot;/&gt;</span>
<a href="#l10.251"></a><span id="l10.251" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l10.252"></a><span id="l10.252" class="difflineminus">-&lt;/toolbar&gt;</span>
<a href="#l10.253"></a><span id="l10.253" class="difflineminus">-</span>
<a href="#l10.254"></a><span id="l10.254"> &lt;!-- The msgNotificationBar appears on top of the message and displays</span>
<a href="#l10.255"></a><span id="l10.255">      information like: junk, contains remote images, or is a suspected phishing</span>
<a href="#l10.256"></a><span id="l10.256">      URL.</span>
<a href="#l10.257"></a><span id="l10.257"> --&gt;</span>
<a href="#l10.258"></a><span id="l10.258"> &lt;deck id=&quot;msgNotificationBar&quot; selectedIndex=&quot;0&quot; collapsed=&quot;true&quot;&gt;</span>
<a href="#l10.259"></a><span id="l10.259">   &lt;hbox id=&quot;msgNotificationNoStatus&quot;/&gt;</span>
<a href="#l10.260"></a><span id="l10.260"> </span>
<a href="#l10.261"></a><span id="l10.261">   &lt;hbox id=&quot;phishingBar&quot; class=&quot;msgNotificationBar&quot; align=&quot;center&quot;&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/suite/mailnews/messageWindow.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/suite/mailnews/messageWindow.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -16,16 +16,17 @@</span>
<a href="#l11.4"></a><span id="l11.4">  * March 31, 1998.</span>
<a href="#l11.5"></a><span id="l11.5">  *</span>
<a href="#l11.6"></a><span id="l11.6">  * The Initial Developer of the Original Code is</span>
<a href="#l11.7"></a><span id="l11.7">  * Netscape Communications Corporation.</span>
<a href="#l11.8"></a><span id="l11.8">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l11.9"></a><span id="l11.9">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l11.10"></a><span id="l11.10">  *</span>
<a href="#l11.11"></a><span id="l11.11">  * Contributor(s):</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l11.13"></a><span id="l11.13">  *</span>
<a href="#l11.14"></a><span id="l11.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l11.15"></a><span id="l11.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l11.16"></a><span id="l11.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l11.17"></a><span id="l11.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l11.18"></a><span id="l11.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l11.19"></a><span id="l11.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l11.20"></a><span id="l11.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l11.21"></a><span id="l11.21" class="difflineat">@@ -663,16 +664,17 @@ var MessageWindowController =</span>
<a href="#l11.22"></a><span id="l11.22">       case &quot;button_forward&quot;:</span>
<a href="#l11.23"></a><span id="l11.23">       case &quot;cmd_forwardInline&quot;:</span>
<a href="#l11.24"></a><span id="l11.24">       case &quot;cmd_forwardAttachment&quot;:</span>
<a href="#l11.25"></a><span id="l11.25">       case &quot;cmd_editAsNew&quot;:</span>
<a href="#l11.26"></a><span id="l11.26">       case &quot;cmd_getNextNMessages&quot;:</span>
<a href="#l11.27"></a><span id="l11.27">       case &quot;cmd_find&quot;:</span>
<a href="#l11.28"></a><span id="l11.28">       case &quot;cmd_findAgain&quot;:</span>
<a href="#l11.29"></a><span id="l11.29">       case &quot;cmd_findPrev&quot;:</span>
<a href="#l11.30"></a><span id="l11.30" class="difflineplus">+      case &quot;button_search&quot;:</span>
<a href="#l11.31"></a><span id="l11.31">       case &quot;cmd_search&quot;:</span>
<a href="#l11.32"></a><span id="l11.32">       case &quot;cmd_reload&quot;:</span>
<a href="#l11.33"></a><span id="l11.33">       case &quot;cmd_saveAsFile&quot;:</span>
<a href="#l11.34"></a><span id="l11.34">       case &quot;cmd_getNewMessages&quot;:</span>
<a href="#l11.35"></a><span id="l11.35">       case &quot;button_getNewMessages&quot;:</span>
<a href="#l11.36"></a><span id="l11.36">       case &quot;button_print&quot;:</span>
<a href="#l11.37"></a><span id="l11.37">       case &quot;cmd_print&quot;:</span>
<a href="#l11.38"></a><span id="l11.38">       case &quot;cmd_printpreview&quot;:</span>
<a href="#l11.39"></a><span id="l11.39" class="difflineat">@@ -791,16 +793,17 @@ var MessageWindowController =</span>
<a href="#l11.40"></a><span id="l11.40"> 			case &quot;cmd_findPrev&quot;:</span>
<a href="#l11.41"></a><span id="l11.41"> 				return MsgCanFindAgain();</span>
<a href="#l11.42"></a><span id="l11.42">       case &quot;cmd_goBack&quot;:</span>
<a href="#l11.43"></a><span id="l11.43">       case &quot;button_goBack&quot;:</span>
<a href="#l11.44"></a><span id="l11.44">         return gDBView &amp;&amp; gDBView.navigateStatus(nsMsgNavigationType.back);</span>
<a href="#l11.45"></a><span id="l11.45">       case &quot;cmd_goForward&quot;:</span>
<a href="#l11.46"></a><span id="l11.46">       case &quot;button_goForward&quot;:</span>
<a href="#l11.47"></a><span id="l11.47">         return gDBView &amp;&amp; gDBView.navigateStatus(nsMsgNavigationType.forward);</span>
<a href="#l11.48"></a><span id="l11.48" class="difflineplus">+      case &quot;button_search&quot;:</span>
<a href="#l11.49"></a><span id="l11.49">       case &quot;cmd_search&quot;:</span>
<a href="#l11.50"></a><span id="l11.50">         loadedFolder = GetLoadedMsgFolder();</span>
<a href="#l11.51"></a><span id="l11.51">         return (loadedFolder &amp;&amp; loadedFolder.server.canSearchMessages);</span>
<a href="#l11.52"></a><span id="l11.52">       case &quot;cmd_stop&quot;:</span>
<a href="#l11.53"></a><span id="l11.53">         return true;</span>
<a href="#l11.54"></a><span id="l11.54">       case &quot;cmd_undo&quot;:</span>
<a href="#l11.55"></a><span id="l11.55">       case &quot;cmd_redo&quot;:</span>
<a href="#l11.56"></a><span id="l11.56">         return SetupUndoRedoCommand(command);</span>
<a href="#l11.57"></a><span id="l11.57" class="difflineat">@@ -917,16 +920,17 @@ var MessageWindowController =</span>
<a href="#l11.58"></a><span id="l11.58"> 				MsgFind();</span>
<a href="#l11.59"></a><span id="l11.59"> 				break;</span>
<a href="#l11.60"></a><span id="l11.60"> 			case &quot;cmd_findAgain&quot;:</span>
<a href="#l11.61"></a><span id="l11.61"> 				MsgFindAgain(false);</span>
<a href="#l11.62"></a><span id="l11.62"> 				break;</span>
<a href="#l11.63"></a><span id="l11.63"> 			case &quot;cmd_findPrev&quot;:</span>
<a href="#l11.64"></a><span id="l11.64"> 				MsgFindAgain(true);</span>
<a href="#l11.65"></a><span id="l11.65"> 				break;</span>
<a href="#l11.66"></a><span id="l11.66" class="difflineplus">+      case &quot;button_search&quot;:</span>
<a href="#l11.67"></a><span id="l11.67">       case &quot;cmd_search&quot;:</span>
<a href="#l11.68"></a><span id="l11.68">         MsgSearchMessages();</span>
<a href="#l11.69"></a><span id="l11.69">         break;</span>
<a href="#l11.70"></a><span id="l11.70">       case &quot;button_mark&quot;:</span>
<a href="#l11.71"></a><span id="l11.71"> 			case &quot;cmd_markAsRead&quot;:</span>
<a href="#l11.72"></a><span id="l11.72"> 				MsgMarkMsgAsRead(null);</span>
<a href="#l11.73"></a><span id="l11.73"> 				return;</span>
<a href="#l11.74"></a><span id="l11.74"> 			case &quot;cmd_markThreadAsRead&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/suite/mailnews/messageWindow.xul</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/suite/mailnews/messageWindow.xul</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -127,17 +127,18 @@</span>
<a href="#l12.4"></a><span id="l12.4">   &lt;popup id=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6">   &lt;toolbox id=&quot;mail-toolbox&quot;&gt;</span>
<a href="#l12.7"></a><span id="l12.7">     &lt;toolbar id=&quot;mail-toolbar-menubar2&quot;&gt;</span>
<a href="#l12.8"></a><span id="l12.8">       &lt;toolbaritem id=&quot;menubar-items&quot;&gt;</span>
<a href="#l12.9"></a><span id="l12.9">         &lt;menubar id=&quot;mail-menubar&quot;/&gt;</span>
<a href="#l12.10"></a><span id="l12.10">       &lt;/toolbaritem&gt;</span>
<a href="#l12.11"></a><span id="l12.11">     &lt;/toolbar&gt;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-    &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+    &lt;toolbar id=&quot;msgToolbar&quot;/&gt;</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+    &lt;toolbarset id=&quot;customToolbars&quot;/&gt;</span>
<a href="#l12.15"></a><span id="l12.15">   &lt;/toolbox&gt;</span>
<a href="#l12.16"></a><span id="l12.16"> </span>
<a href="#l12.17"></a><span id="l12.17">   &lt;tooltip id=&quot;aHTMLTooltip&quot; onpopupshowing=&quot;return FillInHTMLTooltip(document.tooltipNode);&quot;/&gt;</span>
<a href="#l12.18"></a><span id="l12.18">   </span>
<a href="#l12.19"></a><span id="l12.19">  &lt;!-- msg header view --&gt;</span>
<a href="#l12.20"></a><span id="l12.20"> &lt;vbox id=&quot;messagesBox&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l12.21"></a><span id="l12.21">   &lt;vbox id=&quot;messagepanebox&quot; flex=&quot;3&quot; persist=&quot;collapsed&quot;</span>
<a href="#l12.22"></a><span id="l12.22">         ondragover=&quot;nsDragAndDrop.dragOver(event, messagepaneObserver);&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/suite/mailnews/messenger.css</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/suite/mailnews/messenger.css</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -15,16 +15,17 @@</span>
<a href="#l13.4"></a><span id="l13.4">  * March 31, 1998.</span>
<a href="#l13.5"></a><span id="l13.5">  *</span>
<a href="#l13.6"></a><span id="l13.6">  * The Initial Developer of the Original Code is</span>
<a href="#l13.7"></a><span id="l13.7">  * Netscape Communications Corporation.</span>
<a href="#l13.8"></a><span id="l13.8">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l13.9"></a><span id="l13.9">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l13.10"></a><span id="l13.10">  *</span>
<a href="#l13.11"></a><span id="l13.11">  * Contributor(s):</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l13.13"></a><span id="l13.13">  *</span>
<a href="#l13.14"></a><span id="l13.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l13.15"></a><span id="l13.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l13.16"></a><span id="l13.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l13.17"></a><span id="l13.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l13.18"></a><span id="l13.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l13.19"></a><span id="l13.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l13.20"></a><span id="l13.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l13.21"></a><span id="l13.21" class="difflineat">@@ -157,17 +158,17 @@ searchterm {</span>
<a href="#l13.22"></a><span id="l13.22">   -moz-binding: url(&quot;chrome://messenger/content/mailWidgets.xml#folderTargetPopup&quot;);</span>
<a href="#l13.23"></a><span id="l13.23"> }</span>
<a href="#l13.24"></a><span id="l13.24"> </span>
<a href="#l13.25"></a><span id="l13.25"> .searchPopup {</span>
<a href="#l13.26"></a><span id="l13.26">   display: -moz-popup;</span>
<a href="#l13.27"></a><span id="l13.27">   -moz-binding: url(&quot;chrome://messenger/content/mailWidgets.xml#searchpopup&quot;);</span>
<a href="#l13.28"></a><span id="l13.28"> }</span>
<a href="#l13.29"></a><span id="l13.29"> </span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-#locationPopup {</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+#folderLocationPopup {</span>
<a href="#l13.32"></a><span id="l13.32">   display: -moz-popup;</span>
<a href="#l13.33"></a><span id="l13.33">   -moz-binding: url(&quot;chrome://messenger/content/mailWidgets.xml#locationpopup&quot;);</span>
<a href="#l13.34"></a><span id="l13.34">   visibility: visible;</span>
<a href="#l13.35"></a><span id="l13.35"> }</span>
<a href="#l13.36"></a><span id="l13.36"> </span>
<a href="#l13.37"></a><span id="l13.37"> .folderSummaryPopup</span>
<a href="#l13.38"></a><span id="l13.38"> {</span>
<a href="#l13.39"></a><span id="l13.39">   -moz-binding: url(&quot;chrome://messenger/content/mailWidgets.xml#folderSummary-popup&quot;);</span>
<a href="#l13.40"></a><span id="l13.40" class="difflineat">@@ -250,15 +251,35 @@ dummy.usesMailWidgets {</span>
<a href="#l13.41"></a><span id="l13.41">   display: -moz-box;</span>
<a href="#l13.42"></a><span id="l13.42"> }</span>
<a href="#l13.43"></a><span id="l13.43"> </span>
<a href="#l13.44"></a><span id="l13.44"> .tabs-alltabs-popup {</span>
<a href="#l13.45"></a><span id="l13.45">   /* override toolkit's .menulist-menupopup binding */</span>
<a href="#l13.46"></a><span id="l13.46">   -moz-binding: url(&quot;chrome://messenger/content/tabmail.xml#tabmail-alltabs-popup&quot;) ! important;</span>
<a href="#l13.47"></a><span id="l13.47"> }</span>
<a href="#l13.48"></a><span id="l13.48"> </span>
<a href="#l13.49"></a><span id="l13.49" class="difflineplus">+/* Used for selecting appropriate button for when next to search box */</span>
<a href="#l13.50"></a><span id="l13.50" class="difflineplus">+</span>
<a href="#l13.51"></a><span id="l13.51" class="difflineplus">+#button-search {</span>
<a href="#l13.52"></a><span id="l13.52" class="difflineplus">+  display: -moz-box;</span>
<a href="#l13.53"></a><span id="l13.53" class="difflineplus">+}</span>
<a href="#l13.54"></a><span id="l13.54" class="difflineplus">+</span>
<a href="#l13.55"></a><span id="l13.55" class="difflineplus">+#search-container + #button-search-container &gt; #button-search,</span>
<a href="#l13.56"></a><span id="l13.56" class="difflineplus">+#wrapper-search-container + toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; #button-search-container &gt; #button-search {</span>
<a href="#l13.57"></a><span id="l13.57" class="difflineplus">+  display: none;</span>
<a href="#l13.58"></a><span id="l13.58" class="difflineplus">+}</span>
<a href="#l13.59"></a><span id="l13.59" class="difflineplus">+</span>
<a href="#l13.60"></a><span id="l13.60" class="difflineplus">+#button-advanced {</span>
<a href="#l13.61"></a><span id="l13.61" class="difflineplus">+  display: none;</span>
<a href="#l13.62"></a><span id="l13.62" class="difflineplus">+}</span>
<a href="#l13.63"></a><span id="l13.63" class="difflineplus">+</span>
<a href="#l13.64"></a><span id="l13.64" class="difflineplus">+#search-container + #button-search-container &gt; #button-advanced,</span>
<a href="#l13.65"></a><span id="l13.65" class="difflineplus">+#wrapper-search-container + toolbarpaletteitem[place=&quot;toolbar&quot;] &gt; #button-search-container &gt; #button-advanced {</span>
<a href="#l13.66"></a><span id="l13.66" class="difflineplus">+  display: -moz-box;</span>
<a href="#l13.67"></a><span id="l13.67" class="difflineplus">+}</span>
<a href="#l13.68"></a><span id="l13.68" class="difflineplus">+</span>
<a href="#l13.69"></a><span id="l13.69"> /* Wallpaper patch for  Bug 517924 */</span>
<a href="#l13.70"></a><span id="l13.70"> </span>
<a href="#l13.71"></a><span id="l13.71"> #expandedHeaderView {</span>
<a href="#l13.72"></a><span id="l13.72">   overflow-y: auto;</span>
<a href="#l13.73"></a><span id="l13.73">   overflow-x: hidden;</span>
<a href="#l13.74"></a><span id="l13.74">   max-height: 14em;</span>
<a href="#l13.75"></a><span id="l13.75"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/suite/mailnews/messenger.xul</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/suite/mailnews/messenger.xul</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -16,16 +16,17 @@</span>
<a href="#l14.4"></a><span id="l14.4">  March 31, 1998.</span>
<a href="#l14.5"></a><span id="l14.5"> </span>
<a href="#l14.6"></a><span id="l14.6">  The Initial Developer of the Original Code is</span>
<a href="#l14.7"></a><span id="l14.7">  Netscape Communications Corporation.</span>
<a href="#l14.8"></a><span id="l14.8">  Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l14.9"></a><span id="l14.9">  the Initial Developer. All Rights Reserved.</span>
<a href="#l14.10"></a><span id="l14.10"> </span>
<a href="#l14.11"></a><span id="l14.11">  Contributor(s):</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineplus">+    Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l14.13"></a><span id="l14.13"> </span>
<a href="#l14.14"></a><span id="l14.14">  Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l14.15"></a><span id="l14.15">  either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l14.16"></a><span id="l14.16">  or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l14.17"></a><span id="l14.17">  in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l14.18"></a><span id="l14.18">  of those above. If you wish to allow use of your version of this file only</span>
<a href="#l14.19"></a><span id="l14.19">  under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l14.20"></a><span id="l14.20">  use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l14.21"></a><span id="l14.21" class="difflineat">@@ -110,16 +111,17 @@</span>
<a href="#l14.22"></a><span id="l14.22">         events=&quot;focus&quot;</span>
<a href="#l14.23"></a><span id="l14.23">         oncommandupdate=&quot;FocusRingUpdate_Mail()&quot;/&gt;</span>
<a href="#l14.24"></a><span id="l14.24">   &lt;commandset id=&quot;tasksCommands&quot;/&gt;</span>
<a href="#l14.25"></a><span id="l14.25"> &lt;/commandset&gt;</span>
<a href="#l14.26"></a><span id="l14.26"> </span>
<a href="#l14.27"></a><span id="l14.27"> &lt;broadcasterset id=&quot;mailBroadcasters&quot;&gt;</span>
<a href="#l14.28"></a><span id="l14.28">   &lt;broadcaster id=&quot;mailHideMenus&quot;/&gt;</span>
<a href="#l14.29"></a><span id="l14.29">   &lt;broadcaster id=&quot;mailDisableKeys&quot;/&gt;</span>
<a href="#l14.30"></a><span id="l14.30" class="difflineplus">+  &lt;broadcaster id=&quot;mailDisableViewsSearch&quot; disabled=&quot;true&quot;/&gt;</span>
<a href="#l14.31"></a><span id="l14.31">   &lt;!-- File Menu --&gt;</span>
<a href="#l14.32"></a><span id="l14.32">   &lt;broadcaster id=&quot;Communicator:WorkMode&quot;/&gt;</span>
<a href="#l14.33"></a><span id="l14.33"> &lt;/broadcasterset&gt;</span>
<a href="#l14.34"></a><span id="l14.34"> </span>
<a href="#l14.35"></a><span id="l14.35"> &lt;keyset id=&quot;mailKeys&quot;&gt;</span>
<a href="#l14.36"></a><span id="l14.36">   &lt;keyset id=&quot;tasksKeys&quot;/&gt;</span>
<a href="#l14.37"></a><span id="l14.37"> &lt;/keyset&gt;</span>
<a href="#l14.38"></a><span id="l14.38"> </span>
<a href="#l14.39"></a><span id="l14.39" class="difflineat">@@ -137,19 +139,36 @@</span>
<a href="#l14.40"></a><span id="l14.40"> </span>
<a href="#l14.41"></a><span id="l14.41">   &lt;toolbox id=&quot;mail-toolbox&quot; class=&quot;toolbox-top&quot;&gt;</span>
<a href="#l14.42"></a><span id="l14.42">     &lt;toolbar id=&quot;mail-toolbar-menubar2&quot;&gt;</span>
<a href="#l14.43"></a><span id="l14.43">       &lt;toolbaritem id=&quot;menubar-items&quot;&gt;</span>
<a href="#l14.44"></a><span id="l14.44">         &lt;menubar id=&quot;mail-menubar&quot;/&gt;</span>
<a href="#l14.45"></a><span id="l14.45">       &lt;/toolbaritem&gt;</span>
<a href="#l14.46"></a><span id="l14.46">     &lt;/toolbar&gt;</span>
<a href="#l14.47"></a><span id="l14.47">     &lt;toolbar id=&quot;msgToolbar&quot;/&gt;</span>
<a href="#l14.48"></a><span id="l14.48" class="difflineminus">-    &lt;toolbarset id=&quot;customToolbars&quot; context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l14.49"></a><span id="l14.49" class="difflineminus">-    &lt;toolbar id=&quot;msgLocationToolbar&quot;/&gt;</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineplus">+    &lt;toolbarset id=&quot;customToolbars&quot;/&gt;</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+    &lt;toolbar id=&quot;searchToolbar&quot;</span>
<a href="#l14.52"></a><span id="l14.52" class="difflineplus">+             class=&quot;chromeclass-toolbar&quot;</span>
<a href="#l14.53"></a><span id="l14.53" class="difflineplus">+             persist=&quot;collapsed&quot;</span>
<a href="#l14.54"></a><span id="l14.54" class="difflineplus">+             grippytooltiptext=&quot;&amp;searchToolbar.tooltip;&quot;</span>
<a href="#l14.55"></a><span id="l14.55" class="difflineplus">+             toolbarname=&quot;&amp;showSearchToolbarCmd.label;&quot;</span>
<a href="#l14.56"></a><span id="l14.56" class="difflineplus">+             accesskey=&quot;&amp;showSearchToolbarCmd.accesskey;&quot;</span>
<a href="#l14.57"></a><span id="l14.57" class="difflineplus">+             customizable=&quot;true&quot;</span>
<a href="#l14.58"></a><span id="l14.58" class="difflineplus">+             nowindowdrag=&quot;true&quot;</span>
<a href="#l14.59"></a><span id="l14.59" class="difflineplus">+             mode=&quot;full&quot;</span>
<a href="#l14.60"></a><span id="l14.60" class="difflineplus">+             iconsize=&quot;small&quot;</span>
<a href="#l14.61"></a><span id="l14.61" class="difflineplus">+             labelalign=&quot;end&quot;</span>
<a href="#l14.62"></a><span id="l14.62" class="difflineplus">+             defaultmode=&quot;full&quot;</span>
<a href="#l14.63"></a><span id="l14.63" class="difflineplus">+             defaulticonsize=&quot;small&quot;</span>
<a href="#l14.64"></a><span id="l14.64" class="difflineplus">+             defaultlabelalign=&quot;end&quot;</span>
<a href="#l14.65"></a><span id="l14.65" class="difflineplus">+             defaultset=&quot;mailviews-container,spring,search-container,button-search-container&quot;</span>
<a href="#l14.66"></a><span id="l14.66" class="difflineplus">+             togglemenuitem=&quot;menu_showSearchToolbar&quot;</span>
<a href="#l14.67"></a><span id="l14.67" class="difflineplus">+             context=&quot;toolbar-context-menu&quot;/&gt;</span>
<a href="#l14.68"></a><span id="l14.68">   &lt;/toolbox&gt;</span>
<a href="#l14.69"></a><span id="l14.69" class="difflineplus">+</span>
<a href="#l14.70"></a><span id="l14.70">   &lt;panel id=&quot;customizeToolbarSheetPopup&quot;/&gt;</span>
<a href="#l14.71"></a><span id="l14.71"> </span>
<a href="#l14.72"></a><span id="l14.72">   &lt;!-- XXX This extension point (tabmail-container) is only temporary!</span>
<a href="#l14.73"></a><span id="l14.73">            (See bug 460252 for details.)</span>
<a href="#l14.74"></a><span id="l14.74">            We will readd a mechanism for sidebar panes in bug 178003.</span>
<a href="#l14.75"></a><span id="l14.75">     --&gt;</span>
<a href="#l14.76"></a><span id="l14.76">   &lt;hbox id=&quot;tabmail-container&quot; flex=&quot;1&quot;&gt;</span>
<a href="#l14.77"></a><span id="l14.77">     &lt;tabbrowser id=&quot;tabmail&quot; flex=&quot;1&quot; panelcontainer=&quot;tabpanelcontainer&quot;&gt;</span>
<a href="#l14.78"></a><span id="l14.78" class="difflineat">@@ -198,17 +217,16 @@</span>
<a href="#l14.79"></a><span id="l14.79">                 &lt;vbox id=&quot;accountCentralBox&quot;&gt;</span>
<a href="#l14.80"></a><span id="l14.80">                   &lt;iframe name=&quot;accountCentralPane&quot;</span>
<a href="#l14.81"></a><span id="l14.81">                           width=&quot;150&quot;</span>
<a href="#l14.82"></a><span id="l14.82">                           flex=&quot;1&quot;</span>
<a href="#l14.83"></a><span id="l14.83">                           src=&quot;about:blank&quot;/&gt;</span>
<a href="#l14.84"></a><span id="l14.84">                 &lt;/vbox&gt;</span>
<a href="#l14.85"></a><span id="l14.85">                 &lt;!-- second panel is the threadPane --&gt;</span>
<a href="#l14.86"></a><span id="l14.86">                 &lt;vbox id=&quot;threadPaneBox&quot;&gt;</span>
<a href="#l14.87"></a><span id="l14.87" class="difflineminus">-                  &lt;hbox id=&quot;searchBoxHolder&quot;/&gt;</span>
<a href="#l14.88"></a><span id="l14.88">                   &lt;tree id=&quot;threadTree&quot;</span>
<a href="#l14.89"></a><span id="l14.89">                         treelines=&quot;true&quot;</span>
<a href="#l14.90"></a><span id="l14.90">                         keepcurrentinview=&quot;true&quot;</span>
<a href="#l14.91"></a><span id="l14.91">                         flex=&quot;1&quot;</span>
<a href="#l14.92"></a><span id="l14.92">                         minwidth=&quot;100&quot;</span>
<a href="#l14.93"></a><span id="l14.93">                         width=&quot;100&quot;</span>
<a href="#l14.94"></a><span id="l14.94">                         persist=&quot;width&quot;</span>
<a href="#l14.95"></a><span id="l14.95">                         context=&quot;mailContext&quot;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/suite/mailnews/msgMail3PaneWindow.js</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/suite/mailnews/msgMail3PaneWindow.js</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -21,16 +21,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l15.5"></a><span id="l15.5">  *</span>
<a href="#l15.6"></a><span id="l15.6">  * Contributor(s):</span>
<a href="#l15.7"></a><span id="l15.7">  *   Jan Varga (varga@ku.sk)</span>
<a href="#l15.8"></a><span id="l15.8">  *   Håkan Waara (hwaara@chello.se)</span>
<a href="#l15.9"></a><span id="l15.9">  *   Neil Rashbrook (neil@parkwaycc.co.uk)</span>
<a href="#l15.10"></a><span id="l15.10">  *   Seth Spitzer &lt;sspitzer@netscape.com&gt;</span>
<a href="#l15.11"></a><span id="l15.11">  *   Karsten Düsterloh &lt;mnyromyr@tprac.de&gt;</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l15.13"></a><span id="l15.13">  *</span>
<a href="#l15.14"></a><span id="l15.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l15.15"></a><span id="l15.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l15.16"></a><span id="l15.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l15.17"></a><span id="l15.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l15.18"></a><span id="l15.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l15.19"></a><span id="l15.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l15.20"></a><span id="l15.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l15.21"></a><span id="l15.21" class="difflineat">@@ -859,18 +860,17 @@ function NotifyObservers(aSubject, aTopi</span>
<a href="#l15.22"></a><span id="l15.22">             .getService(Components.interfaces.nsIObserverService)</span>
<a href="#l15.23"></a><span id="l15.23">             .notifyObservers(aSubject, aTopic, aData);</span>
<a href="#l15.24"></a><span id="l15.24"> }</span>
<a href="#l15.25"></a><span id="l15.25"> </span>
<a href="#l15.26"></a><span id="l15.26"> function Create3PaneGlobals()</span>
<a href="#l15.27"></a><span id="l15.27"> {</span>
<a href="#l15.28"></a><span id="l15.28">   // Update &lt;mailWindow.js&gt; global variables.</span>
<a href="#l15.29"></a><span id="l15.29">   accountCentralBox = document.getElementById(&quot;accountCentralBox&quot;);</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-  gSearchBox = document.getElementById(&quot;searchBox&quot;);</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-  gSearchBox.collapsed = true;</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+  gDisableViewsSearch = document.getElementById(&quot;mailDisableViewsSearch&quot;);</span>
<a href="#l15.33"></a><span id="l15.33"> </span>
<a href="#l15.34"></a><span id="l15.34">   GetMessagePane().collapsed = true;</span>
<a href="#l15.35"></a><span id="l15.35"> }</span>
<a href="#l15.36"></a><span id="l15.36"> </span>
<a href="#l15.37"></a><span id="l15.37"> function loadStartFolder(initialUri)</span>
<a href="#l15.38"></a><span id="l15.38"> {</span>
<a href="#l15.39"></a><span id="l15.39">     var defaultServer = null;</span>
<a href="#l15.40"></a><span id="l15.40">     var isLoginAtStartUpEnabled = false;</span>
<a href="#l15.41"></a><span id="l15.41" class="difflineat">@@ -1067,37 +1067,25 @@ function UpdateAttachmentCol(aFirstTimeF</span>
<a href="#l15.42"></a><span id="l15.42">   var threadTree = GetThreadTree();</span>
<a href="#l15.43"></a><span id="l15.43">   threadTree.setAttribute(&quot;noattachcol&quot;, attachmentCol.getAttribute(&quot;hidden&quot;));</span>
<a href="#l15.44"></a><span id="l15.44">   if (aFirstTimeFlag)</span>
<a href="#l15.45"></a><span id="l15.45">     attachmentCol.addEventListener(&quot;DOMAttrModified&quot;, OnAttachmentColAttrModified, false);</span>
<a href="#l15.46"></a><span id="l15.46">   else</span>
<a href="#l15.47"></a><span id="l15.47">     threadTree.treeBoxObject.clearStyleAndImageCaches();</span>
<a href="#l15.48"></a><span id="l15.48"> }</span>
<a href="#l15.49"></a><span id="l15.49"> </span>
<a href="#l15.50"></a><span id="l15.50" class="difflineminus">-function OnLocationToolbarAttrModified(event)</span>
<a href="#l15.51"></a><span id="l15.51" class="difflineminus">-{</span>
<a href="#l15.52"></a><span id="l15.52" class="difflineminus">-    if (!/collapsed|hidden/.test(event.attrName))</span>
<a href="#l15.53"></a><span id="l15.53" class="difflineminus">-        return;</span>
<a href="#l15.54"></a><span id="l15.54" class="difflineminus">-    var searchBox = document.getElementById(&quot;searchBox&quot;);</span>
<a href="#l15.55"></a><span id="l15.55" class="difflineminus">-    var desiredParent = document.getElementById(&quot;msgLocationToolbar&quot;);</span>
<a href="#l15.56"></a><span id="l15.56" class="difflineminus">-    if (desiredParent.hidden || desiredParent.collapsed)</span>
<a href="#l15.57"></a><span id="l15.57" class="difflineminus">-        desiredParent = document.getElementById(&quot;searchBoxHolder&quot;);</span>
<a href="#l15.58"></a><span id="l15.58" class="difflineminus">-    if (searchBox.parentNode != desiredParent)</span>
<a href="#l15.59"></a><span id="l15.59" class="difflineminus">-        desiredParent.appendChild(searchBox);</span>
<a href="#l15.60"></a><span id="l15.60" class="difflineminus">-}</span>
<a href="#l15.61"></a><span id="l15.61" class="difflineminus">-</span>
<a href="#l15.62"></a><span id="l15.62"> function OnLoadLocationTree()</span>
<a href="#l15.63"></a><span id="l15.63"> {</span>
<a href="#l15.64"></a><span id="l15.64" class="difflineminus">-    var locationTree = document.getElementById('locationPopup').tree;</span>
<a href="#l15.65"></a><span id="l15.65" class="difflineplus">+  var locationTree = document.getElementById(&quot;folderLocationPopup&quot;).tree;</span>
<a href="#l15.66"></a><span id="l15.66" class="difflineplus">+  if (locationTree)</span>
<a href="#l15.67"></a><span id="l15.67" class="difflineplus">+  {</span>
<a href="#l15.68"></a><span id="l15.68">     locationTree.database.AddDataSource(accountManagerDataSource);</span>
<a href="#l15.69"></a><span id="l15.69">     locationTree.database.AddDataSource(folderDataSource);</span>
<a href="#l15.70"></a><span id="l15.70">     locationTree.setAttribute(&quot;ref&quot;, &quot;msgaccounts:/&quot;);</span>
<a href="#l15.71"></a><span id="l15.71" class="difflineminus">-    var toolbar = document.getElementById(&quot;msgLocationToolbar&quot;);</span>
<a href="#l15.72"></a><span id="l15.72" class="difflineminus">-    toolbar.addEventListener(&quot;DOMAttrModified&quot;, OnLocationToolbarAttrModified, false);</span>
<a href="#l15.73"></a><span id="l15.73" class="difflineminus">-    OnLocationToolbarAttrModified({attrName:&quot;collapsed&quot;});</span>
<a href="#l15.74"></a><span id="l15.74" class="difflineplus">+  }</span>
<a href="#l15.75"></a><span id="l15.75"> }</span>
<a href="#l15.76"></a><span id="l15.76"> </span>
<a href="#l15.77"></a><span id="l15.77"> function OnLocationTreeSelect(menulist)</span>
<a href="#l15.78"></a><span id="l15.78"> {</span>
<a href="#l15.79"></a><span id="l15.79">   SelectFolder(menulist.getAttribute('uri'));</span>
<a href="#l15.80"></a><span id="l15.80"> }</span>
<a href="#l15.81"></a><span id="l15.81"> </span>
<a href="#l15.82"></a><span id="l15.82"> function UpdateLocationBar(resource)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/suite/mailnews/msgViewPickerOverlay.js</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/suite/mailnews/msgViewPickerOverlay.js</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -18,16 +18,17 @@</span>
<a href="#l16.4"></a><span id="l16.4">  * Netscape Communications Corporation.</span>
<a href="#l16.5"></a><span id="l16.5">  * Portions created by the Initial Developer are Copyright (C) 2002</span>
<a href="#l16.6"></a><span id="l16.6">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l16.7"></a><span id="l16.7">  *</span>
<a href="#l16.8"></a><span id="l16.8">  * Contributor(s):</span>
<a href="#l16.9"></a><span id="l16.9">  *   Scott MacGregor &lt;mscott@netscape.com&gt;</span>
<a href="#l16.10"></a><span id="l16.10">  *   Seth Spitzer &lt;sspitzer@netscape.com&gt;</span>
<a href="#l16.11"></a><span id="l16.11">  *   Karsten Düsterloh &lt;mnyromyr@tprac.de&gt;</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l16.13"></a><span id="l16.13">  *</span>
<a href="#l16.14"></a><span id="l16.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l16.15"></a><span id="l16.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l16.16"></a><span id="l16.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l16.17"></a><span id="l16.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l16.18"></a><span id="l16.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l16.19"></a><span id="l16.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l16.20"></a><span id="l16.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l16.21"></a><span id="l16.21" class="difflineat">@@ -147,17 +148,17 @@ function GetLabelForValue(aValue)</span>
<a href="#l16.22"></a><span id="l16.22">   var viewPickerPopup = document.getElementById(&quot;viewPickerPopup&quot;);</span>
<a href="#l16.23"></a><span id="l16.23">   if (viewPickerPopup)</span>
<a href="#l16.24"></a><span id="l16.24">   {</span>
<a href="#l16.25"></a><span id="l16.25">     // grab the label for the menulist from one of its menuitems</span>
<a href="#l16.26"></a><span id="l16.26">     var selectedItems = viewPickerPopup.getElementsByAttribute(&quot;value&quot;, aValue);</span>
<a href="#l16.27"></a><span id="l16.27">     if (!selectedItems || !selectedItems.length)</span>
<a href="#l16.28"></a><span id="l16.28">     {</span>
<a href="#l16.29"></a><span id="l16.29">       // we may have a new item</span>
<a href="#l16.30"></a><span id="l16.30" class="difflineminus">-      RefreshAllViewPopups(viewPickerPopup, true);</span>
<a href="#l16.31"></a><span id="l16.31" class="difflineplus">+      RefreshAllViewPopups(viewPickerPopup);</span>
<a href="#l16.32"></a><span id="l16.32">       selectedItems = viewPickerPopup.getElementsByAttribute(&quot;value&quot;, aValue);</span>
<a href="#l16.33"></a><span id="l16.33">     }</span>
<a href="#l16.34"></a><span id="l16.34">     label = selectedItems &amp;&amp; selectedItems.length &amp;&amp; selectedItems.item(0).getAttribute(&quot;label&quot;);</span>
<a href="#l16.35"></a><span id="l16.35">   }</span>
<a href="#l16.36"></a><span id="l16.36">   return label;</span>
<a href="#l16.37"></a><span id="l16.37"> }</span>
<a href="#l16.38"></a><span id="l16.38"> </span>
<a href="#l16.39"></a><span id="l16.39"> function UpdateViewPickerByValue(aValue)</span>
<a href="#l16.40"></a><span id="l16.40" class="difflineat">@@ -341,62 +342,63 @@ function PrepareForViewChange()</span>
<a href="#l16.41"></a><span id="l16.41">   // then we eventually call onEnterInSearchBar, and we think we need to restore the pre search view!</span>
<a href="#l16.42"></a><span id="l16.42">   initializeSearchBar();</span>
<a href="#l16.43"></a><span id="l16.43">   ClearThreadPaneSelection();</span>
<a href="#l16.44"></a><span id="l16.44">   ClearMessagePane();</span>
<a href="#l16.45"></a><span id="l16.45"> }</span>
<a href="#l16.46"></a><span id="l16.46"> </span>
<a href="#l16.47"></a><span id="l16.47"> </span>
<a href="#l16.48"></a><span id="l16.48"> // refresh view popup and its subpopups</span>
<a href="#l16.49"></a><span id="l16.49" class="difflineminus">-function RefreshAllViewPopups(aViewPopup, aIsMenulist)</span>
<a href="#l16.50"></a><span id="l16.50" class="difflineplus">+function RefreshAllViewPopups(aViewPopup)</span>
<a href="#l16.51"></a><span id="l16.51"> {</span>
<a href="#l16.52"></a><span id="l16.52" class="difflineminus">-  RefreshViewPopup(aViewPopup, aIsMenulist);</span>
<a href="#l16.53"></a><span id="l16.53">   var menupopups = aViewPopup.getElementsByTagName(&quot;menupopup&quot;);</span>
<a href="#l16.54"></a><span id="l16.54">   if (menupopups.length &gt; 1)</span>
<a href="#l16.55"></a><span id="l16.55">   {</span>
<a href="#l16.56"></a><span id="l16.56">     // when we have menupopups, we assume both tags and custom views are there</span>
<a href="#l16.57"></a><span id="l16.57" class="difflineminus">-    RefreshTagsPopup(menupopups[0], aIsMenulist);</span>
<a href="#l16.58"></a><span id="l16.58" class="difflineminus">-    RefreshCustomViewsPopup(menupopups[1], aIsMenulist);</span>
<a href="#l16.59"></a><span id="l16.59" class="difflineplus">+    RefreshTagsPopup(menupopups[0]);</span>
<a href="#l16.60"></a><span id="l16.60" class="difflineplus">+    RefreshCustomViewsPopup(menupopups[1]);</span>
<a href="#l16.61"></a><span id="l16.61">   }</span>
<a href="#l16.62"></a><span id="l16.62"> }</span>
<a href="#l16.63"></a><span id="l16.63"> </span>
<a href="#l16.64"></a><span id="l16.64"> </span>
<a href="#l16.65"></a><span id="l16.65" class="difflineminus">-function RefreshViewPopup(aViewPopup, aIsMenulist)</span>
<a href="#l16.66"></a><span id="l16.66" class="difflineplus">+function RefreshViewPopup(aViewPopup)</span>
<a href="#l16.67"></a><span id="l16.67"> {</span>
<a href="#l16.68"></a><span id="l16.68">   // mark default views if selected</span>
<a href="#l16.69"></a><span id="l16.69" class="difflineminus">-  if (!aIsMenulist)</span>
<a href="#l16.70"></a><span id="l16.70" class="difflineminus">-  {</span>
<a href="#l16.71"></a><span id="l16.71" class="difflineminus">-    var viewAll = aViewPopup.getElementsByAttribute(&quot;value&quot;, kViewItemAll)[0];</span>
<a href="#l16.72"></a><span id="l16.72" class="difflineminus">-    viewAll.setAttribute(&quot;checked&quot;, gCurrentViewValue == kViewItemAll);</span>
<a href="#l16.73"></a><span id="l16.73" class="difflineminus">-    var viewUnread = aViewPopup.getElementsByAttribute(&quot;value&quot;, kViewItemUnread)[0];</span>
<a href="#l16.74"></a><span id="l16.74" class="difflineminus">-    viewUnread.setAttribute(&quot;checked&quot;, gCurrentViewValue == kViewItemUnread);</span>
<a href="#l16.75"></a><span id="l16.75" class="difflineplus">+  let viewAll = aViewPopup.getElementsByAttribute(&quot;value&quot;, kViewItemAll)[0];</span>
<a href="#l16.76"></a><span id="l16.76" class="difflineplus">+  viewAll.setAttribute(&quot;checked&quot;, gCurrentViewValue == kViewItemAll);</span>
<a href="#l16.77"></a><span id="l16.77" class="difflineplus">+  let viewUnread =</span>
<a href="#l16.78"></a><span id="l16.78" class="difflineplus">+    aViewPopup.getElementsByAttribute(&quot;value&quot;, kViewItemUnread)[0];</span>
<a href="#l16.79"></a><span id="l16.79" class="difflineplus">+  viewUnread.setAttribute(&quot;checked&quot;, gCurrentViewValue == kViewItemUnread);</span>
<a href="#l16.80"></a><span id="l16.80"> </span>
<a href="#l16.81"></a><span id="l16.81" class="difflineminus">-    var viewNotDeleted = aViewPopup.getElementsByAttribute(&quot;value&quot;, kViewItemNotDeleted)[0];</span>
<a href="#l16.82"></a><span id="l16.82" class="difflineminus">-    var folderArray = GetSelectedMsgFolders();</span>
<a href="#l16.83"></a><span id="l16.83" class="difflineminus">-    if (folderArray.length == 0)</span>
<a href="#l16.84"></a><span id="l16.84" class="difflineminus">-      return;</span>
<a href="#l16.85"></a><span id="l16.85" class="difflineplus">+  let viewNotDeleted =</span>
<a href="#l16.86"></a><span id="l16.86" class="difflineplus">+    aViewPopup.getElementsByAttribute(&quot;value&quot;, kViewItemNotDeleted)[0];</span>
<a href="#l16.87"></a><span id="l16.87" class="difflineplus">+  var folderArray = GetSelectedMsgFolders();</span>
<a href="#l16.88"></a><span id="l16.88" class="difflineplus">+  if (folderArray.length == 0)</span>
<a href="#l16.89"></a><span id="l16.89" class="difflineplus">+    return;</span>
<a href="#l16.90"></a><span id="l16.90"> </span>
<a href="#l16.91"></a><span id="l16.91" class="difflineminus">-    // only show the &quot;Not Deleted&quot; item for IMAP servers that are using the IMAP delete model</span>
<a href="#l16.92"></a><span id="l16.92" class="difflineminus">-    viewNotDeleted.setAttribute(&quot;hidden&quot;, true);</span>
<a href="#l16.93"></a><span id="l16.93" class="difflineminus">-    var msgFolder = folderArray[0];</span>
<a href="#l16.94"></a><span id="l16.94" class="difflineminus">-    var server = msgFolder.server;</span>
<a href="#l16.95"></a><span id="l16.95" class="difflineminus">-    if (server.type == &quot;imap&quot;)</span>
<a href="#l16.96"></a><span id="l16.96" class="difflineplus">+  // Only show the &quot;Not Deleted&quot; item for IMAP servers</span>
<a href="#l16.97"></a><span id="l16.97" class="difflineplus">+  // that are using the IMAP delete model.</span>
<a href="#l16.98"></a><span id="l16.98" class="difflineplus">+  viewNotDeleted.setAttribute(&quot;hidden&quot;, true);</span>
<a href="#l16.99"></a><span id="l16.99" class="difflineplus">+  var msgFolder = folderArray[0];</span>
<a href="#l16.100"></a><span id="l16.100" class="difflineplus">+  var server = msgFolder.server;</span>
<a href="#l16.101"></a><span id="l16.101" class="difflineplus">+  if (server.type == &quot;imap&quot;)</span>
<a href="#l16.102"></a><span id="l16.102" class="difflineplus">+  {</span>
<a href="#l16.103"></a><span id="l16.103" class="difflineplus">+    let imapServer =</span>
<a href="#l16.104"></a><span id="l16.104" class="difflineplus">+      server.QueryInterface(Components.interfaces.nsIImapIncomingServer);</span>
<a href="#l16.105"></a><span id="l16.105" class="difflineplus">+    if (imapServer.deleteModel == 0)  // nsMsgImapDeleteModels.IMAPDelete == 0</span>
<a href="#l16.106"></a><span id="l16.106">     {</span>
<a href="#l16.107"></a><span id="l16.107" class="difflineminus">-      var imapServer = server.QueryInterface(Components.interfaces.nsIImapIncomingServer);</span>
<a href="#l16.108"></a><span id="l16.108" class="difflineminus">-      if (imapServer.deleteModel == 0)   // nsMsgImapDeleteModels.IMAPDelete == 0</span>
<a href="#l16.109"></a><span id="l16.109" class="difflineminus">-      {</span>
<a href="#l16.110"></a><span id="l16.110" class="difflineminus">-        viewNotDeleted.setAttribute(&quot;hidden&quot;, false);</span>
<a href="#l16.111"></a><span id="l16.111" class="difflineminus">-        viewNotDeleted.setAttribute(&quot;checked&quot;, gCurrentViewValue == kViewItemNotDeleted);</span>
<a href="#l16.112"></a><span id="l16.112" class="difflineminus">-      }</span>
<a href="#l16.113"></a><span id="l16.113" class="difflineplus">+      viewNotDeleted.setAttribute(&quot;hidden&quot;, false);</span>
<a href="#l16.114"></a><span id="l16.114" class="difflineplus">+      viewNotDeleted.setAttribute(&quot;checked&quot;,</span>
<a href="#l16.115"></a><span id="l16.115" class="difflineplus">+                                  gCurrentViewValue == kViewItemNotDeleted);</span>
<a href="#l16.116"></a><span id="l16.116">     }</span>
<a href="#l16.117"></a><span id="l16.117">   }</span>
<a href="#l16.118"></a><span id="l16.118"> }</span>
<a href="#l16.119"></a><span id="l16.119"> </span>
<a href="#l16.120"></a><span id="l16.120"> </span>
<a href="#l16.121"></a><span id="l16.121" class="difflineminus">-function RefreshCustomViewsPopup(aMenupopup, aIsMenulist)</span>
<a href="#l16.122"></a><span id="l16.122" class="difflineplus">+function RefreshCustomViewsPopup(aMenupopup)</span>
<a href="#l16.123"></a><span id="l16.123"> {</span>
<a href="#l16.124"></a><span id="l16.124">   // for each mail view in the msg view list, add an entry in our combo box</span>
<a href="#l16.125"></a><span id="l16.125">   if (!gMailViewList)</span>
<a href="#l16.126"></a><span id="l16.126">     gMailViewList = Components.classes[&quot;@mozilla.org/messenger/mailviewlist;1&quot;]</span>
<a href="#l16.127"></a><span id="l16.127">                               .getService(Components.interfaces.nsIMsgMailViewList);</span>
<a href="#l16.128"></a><span id="l16.128">   // remove all menuitems</span>
<a href="#l16.129"></a><span id="l16.129">   while (aMenupopup.hasChildNodes())</span>
<a href="#l16.130"></a><span id="l16.130">     aMenupopup.removeChild(aMenupopup.lastChild);</span>
<a href="#l16.131"></a><span id="l16.131" class="difflineat">@@ -405,59 +407,55 @@ function RefreshCustomViewsPopup(aMenupo</span>
<a href="#l16.132"></a><span id="l16.132">   var currentView = isNaN(gCurrentViewValue) ? kViewItemAll : Number(gCurrentViewValue);</span>
<a href="#l16.133"></a><span id="l16.133">   var numItems = gMailViewList.mailViewCount;</span>
<a href="#l16.134"></a><span id="l16.134">   for (var i = 0; i &lt; numItems; ++i)</span>
<a href="#l16.135"></a><span id="l16.135">   {</span>
<a href="#l16.136"></a><span id="l16.136">     var viewInfo = gMailViewList.getMailViewAt(i);</span>
<a href="#l16.137"></a><span id="l16.137">     var menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l16.138"></a><span id="l16.138">     menuitem.setAttribute(&quot;label&quot;, viewInfo.prettyName);</span>
<a href="#l16.139"></a><span id="l16.139">     menuitem.setAttribute(&quot;value&quot;, kViewItemFirstCustom + i);</span>
<a href="#l16.140"></a><span id="l16.140" class="difflineminus">-    if (!aIsMenulist)</span>
<a href="#l16.141"></a><span id="l16.141" class="difflineminus">-    {</span>
<a href="#l16.142"></a><span id="l16.142" class="difflineminus">-      menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l16.143"></a><span id="l16.143" class="difflineminus">-      if (kViewItemFirstCustom + i == currentView)</span>
<a href="#l16.144"></a><span id="l16.144" class="difflineminus">-        menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l16.145"></a><span id="l16.145" class="difflineminus">-    }</span>
<a href="#l16.146"></a><span id="l16.146" class="difflineplus">+    menuitem.setAttribute(&quot;name&quot;, &quot;viewmessages&quot;);</span>
<a href="#l16.147"></a><span id="l16.147" class="difflineplus">+    menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l16.148"></a><span id="l16.148" class="difflineplus">+    if (kViewItemFirstCustom + i == currentView)</span>
<a href="#l16.149"></a><span id="l16.149" class="difflineplus">+      menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l16.150"></a><span id="l16.150">     aMenupopup.appendChild(menuitem);</span>
<a href="#l16.151"></a><span id="l16.151">   }</span>
<a href="#l16.152"></a><span id="l16.152"> }</span>
<a href="#l16.153"></a><span id="l16.153"> </span>
<a href="#l16.154"></a><span id="l16.154"> </span>
<a href="#l16.155"></a><span id="l16.155" class="difflineminus">-function RefreshTagsPopup(aMenupopup, aIsMenulist)</span>
<a href="#l16.156"></a><span id="l16.156" class="difflineplus">+function RefreshTagsPopup(aMenupopup)</span>
<a href="#l16.157"></a><span id="l16.157"> {</span>
<a href="#l16.158"></a><span id="l16.158">   // remove all menuitems</span>
<a href="#l16.159"></a><span id="l16.159">   while (aMenupopup.hasChildNodes())</span>
<a href="#l16.160"></a><span id="l16.160">     aMenupopup.removeChild(aMenupopup.lastChild);</span>
<a href="#l16.161"></a><span id="l16.161"> </span>
<a href="#l16.162"></a><span id="l16.162">   // create tag menuitems</span>
<a href="#l16.163"></a><span id="l16.163">   var currentTagKey = isNaN(gCurrentViewValue) ? gCurrentViewValue.substr(kViewTagMarker.length) : &quot;&quot;;</span>
<a href="#l16.164"></a><span id="l16.164">   var tagService = Components.classes[&quot;@mozilla.org/messenger/tagservice;1&quot;]</span>
<a href="#l16.165"></a><span id="l16.165">                              .getService(Components.interfaces.nsIMsgTagService);</span>
<a href="#l16.166"></a><span id="l16.166">   var tagArray = tagService.getAllTags({});</span>
<a href="#l16.167"></a><span id="l16.167">   for (var i = 0; i &lt; tagArray.length; ++i)</span>
<a href="#l16.168"></a><span id="l16.168">   {</span>
<a href="#l16.169"></a><span id="l16.169">     var tagInfo = tagArray[i];</span>
<a href="#l16.170"></a><span id="l16.170">     var menuitem = document.createElement(&quot;menuitem&quot;);</span>
<a href="#l16.171"></a><span id="l16.171">     menuitem.setAttribute(&quot;label&quot;, tagInfo.tag);</span>
<a href="#l16.172"></a><span id="l16.172">     menuitem.setAttribute(&quot;value&quot;, kViewTagMarker + tagInfo.key);</span>
<a href="#l16.173"></a><span id="l16.173" class="difflineminus">-    if (!aIsMenulist)</span>
<a href="#l16.174"></a><span id="l16.174" class="difflineminus">-    {</span>
<a href="#l16.175"></a><span id="l16.175" class="difflineminus">-      menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l16.176"></a><span id="l16.176" class="difflineminus">-      if (tagInfo.key == currentTagKey)</span>
<a href="#l16.177"></a><span id="l16.177" class="difflineminus">-        menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l16.178"></a><span id="l16.178" class="difflineminus">-    }</span>
<a href="#l16.179"></a><span id="l16.179" class="difflineplus">+    menuitem.setAttribute(&quot;name&quot;, &quot;viewmessages&quot;);</span>
<a href="#l16.180"></a><span id="l16.180" class="difflineplus">+    menuitem.setAttribute(&quot;type&quot;, &quot;radio&quot;);</span>
<a href="#l16.181"></a><span id="l16.181" class="difflineplus">+    if (tagInfo.key == currentTagKey)</span>
<a href="#l16.182"></a><span id="l16.182" class="difflineplus">+      menuitem.setAttribute(&quot;checked&quot;, true);</span>
<a href="#l16.183"></a><span id="l16.183">     var color = tagInfo.color;</span>
<a href="#l16.184"></a><span id="l16.184">     if (color)</span>
<a href="#l16.185"></a><span id="l16.185">       menuitem.setAttribute(&quot;class&quot;, &quot;lc-&quot; + color.substr(1));</span>
<a href="#l16.186"></a><span id="l16.186">     aMenupopup.appendChild(menuitem);</span>
<a href="#l16.187"></a><span id="l16.187">   }</span>
<a href="#l16.188"></a><span id="l16.188"> }</span>
<a href="#l16.189"></a><span id="l16.189"> </span>
<a href="#l16.190"></a><span id="l16.190"> </span>
<a href="#l16.191"></a><span id="l16.191"> function ViewPickerOnLoad()</span>
<a href="#l16.192"></a><span id="l16.192"> {</span>
<a href="#l16.193"></a><span id="l16.193">   var viewPickerPopup = document.getElementById(&quot;viewPickerPopup&quot;);</span>
<a href="#l16.194"></a><span id="l16.194">   if (viewPickerPopup)</span>
<a href="#l16.195"></a><span id="l16.195" class="difflineminus">-    RefreshAllViewPopups(viewPickerPopup, true);</span>
<a href="#l16.196"></a><span id="l16.196" class="difflineplus">+    RefreshAllViewPopups(viewPickerPopup);</span>
<a href="#l16.197"></a><span id="l16.197"> }</span>
<a href="#l16.198"></a><span id="l16.198"> </span>
<a href="#l16.199"></a><span id="l16.199"> </span>
<a href="#l16.200"></a><span id="l16.200"> window.addEventListener(&quot;load&quot;, ViewPickerOnLoad, false);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1">deleted file mode 100644</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineminus">--- a/suite/mailnews/msgViewPickerOverlay.xul</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineplus">+++ /dev/null</span>
<a href="#l17.4"></a><span id="l17.4" class="difflineat">@@ -1,76 +0,0 @@</span>
<a href="#l17.5"></a><span id="l17.5" class="difflineminus">-&lt;?xml version=&quot;1.0&quot;?&gt; </span>
<a href="#l17.6"></a><span id="l17.6" class="difflineminus">-&lt;!-- ***** BEGIN LICENSE BLOCK *****</span>
<a href="#l17.7"></a><span id="l17.7" class="difflineminus">-   - Version: MPL 1.1/GPL 2.0/LGPL 2.1</span>
<a href="#l17.8"></a><span id="l17.8" class="difflineminus">-   -</span>
<a href="#l17.9"></a><span id="l17.9" class="difflineminus">-   - The contents of this file are subject to the Mozilla Public License Version</span>
<a href="#l17.10"></a><span id="l17.10" class="difflineminus">-   - 1.1 (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a href="#l17.11"></a><span id="l17.11" class="difflineminus">-   - the License. You may obtain a copy of the License at</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-   - http://www.mozilla.org/MPL/</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineminus">-   -</span>
<a href="#l17.14"></a><span id="l17.14" class="difflineminus">-   - Software distributed under the License is distributed on an &quot;AS IS&quot; basis,</span>
<a href="#l17.15"></a><span id="l17.15" class="difflineminus">-   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License</span>
<a href="#l17.16"></a><span id="l17.16" class="difflineminus">-   - for the specific language governing rights and limitations under the</span>
<a href="#l17.17"></a><span id="l17.17" class="difflineminus">-   - License.</span>
<a href="#l17.18"></a><span id="l17.18" class="difflineminus">-   -</span>
<a href="#l17.19"></a><span id="l17.19" class="difflineminus">-   - The Original Code is Mozilla Communicator client code, released</span>
<a href="#l17.20"></a><span id="l17.20" class="difflineminus">-   - March 31, 1998.</span>
<a href="#l17.21"></a><span id="l17.21" class="difflineminus">-   -</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineminus">-   - The Initial Developer of the Original Code is</span>
<a href="#l17.23"></a><span id="l17.23" class="difflineminus">-   - Netscape Communications Corporation.</span>
<a href="#l17.24"></a><span id="l17.24" class="difflineminus">-   - Portions created by the Initial Developer are Copyright (C) 2002</span>
<a href="#l17.25"></a><span id="l17.25" class="difflineminus">-   - the Initial Developer. All Rights Reserved.</span>
<a href="#l17.26"></a><span id="l17.26" class="difflineminus">-   -</span>
<a href="#l17.27"></a><span id="l17.27" class="difflineminus">-   - Contributor(s):</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineminus">-   -   Scott MacGregor &lt;mscott@netscape.com&gt;</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineminus">-   -   Karsten Düsterloh &lt;mnyromyr@tprac.de&gt;</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineminus">-   -</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-   - Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineminus">-   - either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineminus">-   - or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l17.34"></a><span id="l17.34" class="difflineminus">-   - in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l17.35"></a><span id="l17.35" class="difflineminus">-   - of those above. If you wish to allow use of your version of this file only</span>
<a href="#l17.36"></a><span id="l17.36" class="difflineminus">-   - under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l17.37"></a><span id="l17.37" class="difflineminus">-   - use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l17.38"></a><span id="l17.38" class="difflineminus">-   - decision by deleting the provisions above and replace them with the notice</span>
<a href="#l17.39"></a><span id="l17.39" class="difflineminus">-   - and other provisions required by the GPL or the LGPL. If you do not delete</span>
<a href="#l17.40"></a><span id="l17.40" class="difflineminus">-   - the provisions above, a recipient may use your version of this file under</span>
<a href="#l17.41"></a><span id="l17.41" class="difflineminus">-   - the terms of any one of the MPL, the GPL or the LGPL.</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineminus">-   -</span>
<a href="#l17.43"></a><span id="l17.43" class="difflineminus">-   - ***** END LICENSE BLOCK ***** --&gt;</span>
<a href="#l17.44"></a><span id="l17.44" class="difflineminus">-</span>
<a href="#l17.45"></a><span id="l17.45" class="difflineminus">-&lt;!DOCTYPE overlay SYSTEM &quot;chrome://messenger/locale/msgViewPickerOverlay.dtd&quot;&gt;</span>
<a href="#l17.46"></a><span id="l17.46" class="difflineminus">-</span>
<a href="#l17.47"></a><span id="l17.47" class="difflineminus">-&lt;overlay xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;</span>
<a href="#l17.48"></a><span id="l17.48" class="difflineminus">-</span>
<a href="#l17.49"></a><span id="l17.49" class="difflineminus">-  &lt;script type=&quot;application/javascript&quot;</span>
<a href="#l17.50"></a><span id="l17.50" class="difflineminus">-          src=&quot;chrome://messenger/content/msgViewPickerOverlay.js&quot;/&gt;</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineminus">-  </span>
<a href="#l17.52"></a><span id="l17.52" class="difflineminus">-  &lt;hbox id=&quot;searchBox&quot;&gt;</span>
<a href="#l17.53"></a><span id="l17.53" class="difflineminus">-    &lt;hbox id=&quot;viewPickerBox&quot; insertbefore=&quot;searchSpacer&quot; align=&quot;center&quot;&gt;</span>
<a href="#l17.54"></a><span id="l17.54" class="difflineminus">-      &lt;label value=&quot;&amp;viewPicker.label;&quot; accesskey=&quot;&amp;viewPicker.accesskey;&quot;</span>
<a href="#l17.55"></a><span id="l17.55" class="difflineminus">-             control=&quot;viewPicker&quot;/&gt;</span>
<a href="#l17.56"></a><span id="l17.56" class="difflineminus">-      &lt;menulist id=&quot;viewPicker&quot; oncommand=&quot;ViewChangeByMenuitem(event.target);&quot;&gt;</span>
<a href="#l17.57"></a><span id="l17.57" class="difflineminus">-        &lt;menupopup id=&quot;viewPickerPopup&quot; onpopupshowing=&quot;RefreshViewPopup(this, true);&quot;&gt;</span>
<a href="#l17.58"></a><span id="l17.58" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerAll&quot;    value=&quot;0&quot; label=&quot;&amp;viewAll.label;&quot;/&gt;</span>
<a href="#l17.59"></a><span id="l17.59" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerUnread&quot; value=&quot;1&quot; label=&quot;&amp;viewUnread.label;&quot;/&gt;</span>
<a href="#l17.60"></a><span id="l17.60" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerNotDeleted&quot; value=&quot;3&quot; label=&quot;&amp;viewNotDeleted.label;&quot;/&gt;</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineminus">-          &lt;menuseparator/&gt;</span>
<a href="#l17.62"></a><span id="l17.62" class="difflineminus">-          &lt;menu id=&quot;viewPickerTags&quot; label=&quot;&amp;viewTags.label;&quot;&gt;</span>
<a href="#l17.63"></a><span id="l17.63" class="difflineminus">-            &lt;menupopup id=&quot;viewPickerTagsPopup&quot;</span>
<a href="#l17.64"></a><span id="l17.64" class="difflineminus">-                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l17.65"></a><span id="l17.65" class="difflineminus">-                       onpopupshowing=&quot;RefreshTagsPopup(this, true);&quot;/&gt;</span>
<a href="#l17.66"></a><span id="l17.66" class="difflineminus">-          &lt;/menu&gt;</span>
<a href="#l17.67"></a><span id="l17.67" class="difflineminus">-          &lt;menu id=&quot;viewPickerCustomViews&quot; label=&quot;&amp;viewCustomViews.label;&quot;&gt;</span>
<a href="#l17.68"></a><span id="l17.68" class="difflineminus">-            &lt;menupopup id=&quot;viewPickerCustomViewsPopup&quot;</span>
<a href="#l17.69"></a><span id="l17.69" class="difflineminus">-                       class=&quot;menulist-menupopup&quot;</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineminus">-                       onpopupshowing=&quot;RefreshCustomViewsPopup(this, true);&quot;/&gt;</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineminus">-          &lt;/menu&gt;</span>
<a href="#l17.72"></a><span id="l17.72" class="difflineminus">-          &lt;menuseparator/&gt;</span>
<a href="#l17.73"></a><span id="l17.73" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerVirtualFolder&quot; value=&quot;7&quot; label=&quot;&amp;viewVirtualFolder.label;&quot;/&gt;</span>
<a href="#l17.74"></a><span id="l17.74" class="difflineminus">-          &lt;menuitem id=&quot;viewPickerCustomize&quot;     value=&quot;8&quot; label=&quot;&amp;viewCustomizeView.label;&quot;/&gt;</span>
<a href="#l17.75"></a><span id="l17.75" class="difflineminus">-        &lt;/menupopup&gt;</span>
<a href="#l17.76"></a><span id="l17.76" class="difflineminus">-      &lt;/menulist&gt;</span>
<a href="#l17.77"></a><span id="l17.77" class="difflineminus">-    &lt;/hbox&gt;</span>
<a href="#l17.78"></a><span id="l17.78" class="difflineminus">-  &lt;/hbox&gt;</span>
<a href="#l17.79"></a><span id="l17.79" class="difflineminus">-</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineminus">-&lt;/overlay&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/suite/mailnews/searchBar.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/suite/mailnews/searchBar.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -423,21 +423,16 @@ function createSearchTerms()</span>
<a href="#l18.4"></a><span id="l18.4">   }</span>
<a href="#l18.5"></a><span id="l18.5">   </span>
<a href="#l18.6"></a><span id="l18.6">   createSearchTermsWithList(searchTermsArray);</span>
<a href="#l18.7"></a><span id="l18.7">   </span>
<a href="#l18.8"></a><span id="l18.8">   // now that we've added the terms, clear out our input array</span>
<a href="#l18.9"></a><span id="l18.9">   searchTermsArray.Clear();</span>
<a href="#l18.10"></a><span id="l18.10"> }</span>
<a href="#l18.11"></a><span id="l18.11"> </span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-function onAdvancedSearch()</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineminus">-{</span>
<a href="#l18.14"></a><span id="l18.14" class="difflineminus">-  MsgSearchMessages();</span>
<a href="#l18.15"></a><span id="l18.15" class="difflineminus">-}</span>
<a href="#l18.16"></a><span id="l18.16" class="difflineminus">-</span>
<a href="#l18.17"></a><span id="l18.17"> function onSearchStop() </span>
<a href="#l18.18"></a><span id="l18.18"> {</span>
<a href="#l18.19"></a><span id="l18.19">   gSearchSession.interruptSearch();</span>
<a href="#l18.20"></a><span id="l18.20"> }</span>
<a href="#l18.21"></a><span id="l18.21"> </span>
<a href="#l18.22"></a><span id="l18.22"> function onClearSearch()</span>
<a href="#l18.23"></a><span id="l18.23"> {</span>
<a href="#l18.24"></a><span id="l18.24">   // Use the last focused element so that focus can be restored</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/suite/mailnews/tabmail.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/suite/mailnews/tabmail.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -20,16 +20,17 @@</span>
<a href="#l19.4"></a><span id="l19.4">  *   David Bienvenu &lt;bienvenu@nventure.com&gt;.</span>
<a href="#l19.5"></a><span id="l19.5">  *   Scott MacGregor &lt;mscott@mozilla.org&gt;</span>
<a href="#l19.6"></a><span id="l19.6">  *   Andrew Sutherland &lt;asutherland@asutherland.org&gt;</span>
<a href="#l19.7"></a><span id="l19.7">  * and other code by various artists from all over the place in mailnews.</span>
<a href="#l19.8"></a><span id="l19.8">  * Portions created by the Initial Developer are Copyright (C) 2009</span>
<a href="#l19.9"></a><span id="l19.9">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l19.10"></a><span id="l19.10">  *</span>
<a href="#l19.11"></a><span id="l19.11">  * Contributor(s):</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l19.13"></a><span id="l19.13">  *</span>
<a href="#l19.14"></a><span id="l19.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l19.15"></a><span id="l19.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l19.16"></a><span id="l19.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l19.17"></a><span id="l19.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l19.18"></a><span id="l19.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l19.19"></a><span id="l19.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l19.20"></a><span id="l19.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l19.21"></a><span id="l19.21" class="difflineat">@@ -837,21 +838,21 @@ function UpdateLayoutVisibility()</span>
<a href="#l19.22"></a><span id="l19.22">   // set splitter visibility</span>
<a href="#l19.23"></a><span id="l19.23">   // if the pane was hidden by clicking the splitter grippy,</span>
<a href="#l19.24"></a><span id="l19.24">   // the splitter must not hide</span>
<a href="#l19.25"></a><span id="l19.25">   MsgCollapseSplitter(GetFolderPaneSplitter(),           !showFolderSplitter);</span>
<a href="#l19.26"></a><span id="l19.26">   MsgCollapseSplitter(GetThreadAndMessagePaneSplitter(), !showMessageSplitter);</span>
<a href="#l19.27"></a><span id="l19.27"> </span>
<a href="#l19.28"></a><span id="l19.28">   // disable location bar if only message pane is visible</span>
<a href="#l19.29"></a><span id="l19.29">   document.getElementById(&quot;locationFolders&quot;).disabled = onlyMessagePane;</span>
<a href="#l19.30"></a><span id="l19.30" class="difflineminus">-  // disable mailviews and search if threadpane is invisble</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineminus">-  var viewPicker = document.getElementById(&quot;viewPicker&quot;);</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineminus">-  viewPicker.disabled = !threadPaneVisible;</span>
<a href="#l19.33"></a><span id="l19.33" class="difflineminus">-  viewPicker.previousSibling.disabled = !threadPaneVisible;</span>
<a href="#l19.34"></a><span id="l19.34" class="difflineminus">-  GetSearchInput().disabled = !threadPaneVisible;</span>
<a href="#l19.35"></a><span id="l19.35" class="difflineplus">+  // disable mailviews and search if threadpane is invisible</span>
<a href="#l19.36"></a><span id="l19.36" class="difflineplus">+  if (!threadPaneVisible)</span>
<a href="#l19.37"></a><span id="l19.37" class="difflineplus">+    gDisableViewsSearch.setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l19.38"></a><span id="l19.38" class="difflineplus">+  else</span>
<a href="#l19.39"></a><span id="l19.39" class="difflineplus">+    gDisableViewsSearch.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l19.40"></a><span id="l19.40"> }</span>
<a href="#l19.41"></a><span id="l19.41"> </span>
<a href="#l19.42"></a><span id="l19.42"> function ChangeMessagePaneVisibility()</span>
<a href="#l19.43"></a><span id="l19.43"> {</span>
<a href="#l19.44"></a><span id="l19.44">   var hidden = IsMessagePaneCollapsed();</span>
<a href="#l19.45"></a><span id="l19.45">   // We also have to disable the Message/Attachments menuitem.</span>
<a href="#l19.46"></a><span id="l19.46">   // It will be enabled when loading a message with attachments</span>
<a href="#l19.47"></a><span id="l19.47">   // (see messageHeaderSink.handleAttachment).</span>
<a href="#l19.48"></a><span id="l19.48" class="difflineat">@@ -954,17 +955,17 @@ function HidingAccountCentral()</span>
<a href="#l19.49"></a><span id="l19.49"> </span>
<a href="#l19.50"></a><span id="l19.50"> function ShowThreadPane()</span>
<a href="#l19.51"></a><span id="l19.51"> {</span>
<a href="#l19.52"></a><span id="l19.52">   GetDisplayDeck().selectedPanel = GetThreadPane();</span>
<a href="#l19.53"></a><span id="l19.53"> }</span>
<a href="#l19.54"></a><span id="l19.54"> </span>
<a href="#l19.55"></a><span id="l19.55"> function ShowingThreadPane()</span>
<a href="#l19.56"></a><span id="l19.56"> {</span>
<a href="#l19.57"></a><span id="l19.57" class="difflineminus">-  gSearchBox.collapsed = false;</span>
<a href="#l19.58"></a><span id="l19.58" class="difflineplus">+  gDisableViewsSearch.removeAttribute(&quot;disabled&quot;);</span>
<a href="#l19.59"></a><span id="l19.59">   var threadPaneSplitter = GetThreadAndMessagePaneSplitter();</span>
<a href="#l19.60"></a><span id="l19.60">   threadPaneSplitter.collapsed = false;</span>
<a href="#l19.61"></a><span id="l19.61">   if (!threadPaneSplitter.hidden &amp;&amp; threadPaneSplitter.getAttribute(&quot;state&quot;) != &quot;collapsed&quot;)</span>
<a href="#l19.62"></a><span id="l19.62">   {</span>
<a href="#l19.63"></a><span id="l19.63">     GetMessagePane().collapsed = false;</span>
<a href="#l19.64"></a><span id="l19.64">     // XXX We need to force the tree to refresh its new height</span>
<a href="#l19.65"></a><span id="l19.65">     // so that it will correctly scroll to the newest message</span>
<a href="#l19.66"></a><span id="l19.66">     GetThreadTree().boxObject.height;</span>
<a href="#l19.67"></a><span id="l19.67" class="difflineat">@@ -975,17 +976,17 @@ function ShowingThreadPane()</span>
<a href="#l19.68"></a><span id="l19.68"> </span>
<a href="#l19.69"></a><span id="l19.69"> function HidingThreadPane()</span>
<a href="#l19.70"></a><span id="l19.70"> {</span>
<a href="#l19.71"></a><span id="l19.71">   ClearThreadPane();</span>
<a href="#l19.72"></a><span id="l19.72">   GetUnreadCountElement().hidden = true;</span>
<a href="#l19.73"></a><span id="l19.73">   GetTotalCountElement().hidden = true;</span>
<a href="#l19.74"></a><span id="l19.74">   GetMessagePane().collapsed = true;</span>
<a href="#l19.75"></a><span id="l19.75">   GetThreadAndMessagePaneSplitter().collapsed = true;</span>
<a href="#l19.76"></a><span id="l19.76" class="difflineminus">-  gSearchBox.collapsed = true;</span>
<a href="#l19.77"></a><span id="l19.77" class="difflineplus">+  gDisableViewsSearch.setAttribute(&quot;disabled&quot;, true);</span>
<a href="#l19.78"></a><span id="l19.78">   document.getElementById(&quot;key_toggleThreadPane&quot;).setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l19.79"></a><span id="l19.79">   document.getElementById(&quot;key_toggleMessagePane&quot;).setAttribute(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l19.80"></a><span id="l19.80"> }</span>
<a href="#l19.81"></a><span id="l19.81"> </span>
<a href="#l19.82"></a><span id="l19.82"> var gCurrentDisplayDeckId = &quot;&quot;;</span>
<a href="#l19.83"></a><span id="l19.83"> function ObserveDisplayDeckChange(aEvent)</span>
<a href="#l19.84"></a><span id="l19.84"> {</span>
<a href="#l19.85"></a><span id="l19.85">   var selectedPanel = GetDisplayDeck().selectedPanel;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/suite/themes/classic/mac/messenger/mailWindow1.css</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/suite/themes/classic/mac/messenger/mailWindow1.css</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -16,16 +16,17 @@</span>
<a href="#l20.4"></a><span id="l20.4">  *</span>
<a href="#l20.5"></a><span id="l20.5">  * The Initial Developer of the Original Code is</span>
<a href="#l20.6"></a><span id="l20.6">  * Netscape Communications Corporation.</span>
<a href="#l20.7"></a><span id="l20.7">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l20.8"></a><span id="l20.8">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l20.9"></a><span id="l20.9">  *</span>
<a href="#l20.10"></a><span id="l20.10">  * Contributor(s):</span>
<a href="#l20.11"></a><span id="l20.11">  *   Stefan Hermes &lt;stefanh@inbox.com&gt;</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l20.13"></a><span id="l20.13">  *</span>
<a href="#l20.14"></a><span id="l20.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l20.15"></a><span id="l20.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l20.16"></a><span id="l20.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l20.17"></a><span id="l20.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l20.18"></a><span id="l20.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l20.19"></a><span id="l20.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l20.20"></a><span id="l20.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l20.21"></a><span id="l20.21" class="difflineat">@@ -68,17 +69,17 @@</span>
<a href="#l20.22"></a><span id="l20.22"> #folderPaneBox {</span>
<a href="#l20.23"></a><span id="l20.23">   background-color: #D6DDE5;</span>
<a href="#l20.24"></a><span id="l20.24"> }</span>
<a href="#l20.25"></a><span id="l20.25"> </span>
<a href="#l20.26"></a><span id="l20.26"> #folderPaneBox:-moz-window-inactive {</span>
<a href="#l20.27"></a><span id="l20.27">   background-color: #E8E8E8;</span>
<a href="#l20.28"></a><span id="l20.28"> }</span>
<a href="#l20.29"></a><span id="l20.29"> </span>
<a href="#l20.30"></a><span id="l20.30" class="difflineminus">-#msgLocationToolbar {</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineplus">+#searchToolbar {</span>
<a href="#l20.32"></a><span id="l20.32">   -moz-appearance: none;</span>
<a href="#l20.33"></a><span id="l20.33">   background-color: #CDCDCD;</span>
<a href="#l20.34"></a><span id="l20.34">   background-image: url(&quot;chrome://communicator/skin/toolbar/toolbar-gradient34.png&quot;);</span>
<a href="#l20.35"></a><span id="l20.35">   background-repeat: repeat-x;</span>
<a href="#l20.36"></a><span id="l20.36">   border-bottom: 1px solid #9F9F9F;</span>
<a href="#l20.37"></a><span id="l20.37"> }</span>
<a href="#l20.38"></a><span id="l20.38"> </span>
<a href="#l20.39"></a><span id="l20.39"> /* Leopard-styled &quot;zero-width&quot; vertical splitter */</span>
<a href="#l20.40"></a><span id="l20.40" class="difflineat">@@ -130,37 +131,20 @@</span>
<a href="#l20.41"></a><span id="l20.41"> #folderTree &gt; treechildren::-moz-tree-row(selected, focus) {</span>
<a href="#l20.42"></a><span id="l20.42">   background-color: Highlight;</span>
<a href="#l20.43"></a><span id="l20.43"> }</span>
<a href="#l20.44"></a><span id="l20.44"> </span>
<a href="#l20.45"></a><span id="l20.45"> #threadTree {</span>
<a href="#l20.46"></a><span id="l20.46">   min-width: 1px;</span>
<a href="#l20.47"></a><span id="l20.47"> }</span>
<a href="#l20.48"></a><span id="l20.48"> </span>
<a href="#l20.49"></a><span id="l20.49" class="difflineminus">-#searchBoxHolder &gt; #searchBox {</span>
<a href="#l20.50"></a><span id="l20.50" class="difflineminus">-  border-bottom: 1px solid #9F9F9F;</span>
<a href="#l20.51"></a><span id="l20.51" class="difflineminus">-  height: 34px;</span>
<a href="#l20.52"></a><span id="l20.52" class="difflineminus">-  background-color: #CDCDCD;</span>
<a href="#l20.53"></a><span id="l20.53" class="difflineminus">-  background-image: url(&quot;chrome://communicator/skin/toolbar/toolbar-gradient34.png&quot;);</span>
<a href="#l20.54"></a><span id="l20.54" class="difflineminus">-  background-repeat: repeat-x;</span>
<a href="#l20.55"></a><span id="l20.55" class="difflineminus">-}</span>
<a href="#l20.56"></a><span id="l20.56" class="difflineminus">-</span>
<a href="#l20.57"></a><span id="l20.57" class="difflineminus">-/* XXX bug 313731 buttons are taller than menulists */</span>
<a href="#l20.58"></a><span id="l20.58" class="difflineminus">-#msgLocationToolbar &gt; #searchBox[collapsed=&quot;true&quot;] {</span>
<a href="#l20.59"></a><span id="l20.59" class="difflineminus">-  visibility: hidden;</span>
<a href="#l20.60"></a><span id="l20.60" class="difflineminus">-}</span>
<a href="#l20.61"></a><span id="l20.61" class="difflineminus">-</span>
<a href="#l20.62"></a><span id="l20.62"> #locationIcon {</span>
<a href="#l20.63"></a><span id="l20.63">   list-style-image: none;</span>
<a href="#l20.64"></a><span id="l20.64"> }</span>
<a href="#l20.65"></a><span id="l20.65"> </span>
<a href="#l20.66"></a><span id="l20.66" class="difflineminus">-#locationFolders {</span>
<a href="#l20.67"></a><span id="l20.67" class="difflineminus">-  width: 20em;</span>
<a href="#l20.68"></a><span id="l20.68" class="difflineminus">-}</span>
<a href="#l20.69"></a><span id="l20.69" class="difflineminus">-</span>
<a href="#l20.70"></a><span id="l20.70"> /* ..... message pane adjustments ..... */</span>
<a href="#l20.71"></a><span id="l20.71"> </span>
<a href="#l20.72"></a><span id="l20.72"> #msgHeaderView {</span>
<a href="#l20.73"></a><span id="l20.73">   border-left: none !important;</span>
<a href="#l20.74"></a><span id="l20.74"> }</span>
<a href="#l20.75"></a><span id="l20.75"> </span>
<a href="#l20.76"></a><span id="l20.76"> #messagepane {</span>
<a href="#l20.77"></a><span id="l20.77">   border: 1px solid transparent;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/suite/themes/classic/mac/messenger/primaryToolbar.css</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/suite/themes/classic/mac/messenger/primaryToolbar.css</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -16,16 +16,17 @@</span>
<a href="#l21.4"></a><span id="l21.4">  *</span>
<a href="#l21.5"></a><span id="l21.5">  * The Initial Developer of the Original Code is</span>
<a href="#l21.6"></a><span id="l21.6">  * Netscape Communications Corporation.</span>
<a href="#l21.7"></a><span id="l21.7">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l21.8"></a><span id="l21.8">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l21.9"></a><span id="l21.9">  *</span>
<a href="#l21.10"></a><span id="l21.10">  * Contributor(s):</span>
<a href="#l21.11"></a><span id="l21.11">  *   Manuel Reimer (Manuel.Reimer@gmx.de)</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l21.13"></a><span id="l21.13">  *</span>
<a href="#l21.14"></a><span id="l21.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l21.15"></a><span id="l21.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l21.16"></a><span id="l21.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l21.17"></a><span id="l21.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l21.18"></a><span id="l21.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l21.19"></a><span id="l21.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l21.20"></a><span id="l21.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l21.21"></a><span id="l21.21" class="difflineat">@@ -236,16 +237,32 @@ toolbarpaletteitem &gt; #button-delete {</span>
<a href="#l21.22"></a><span id="l21.22"> #button-stop:hover:active {</span>
<a href="#l21.23"></a><span id="l21.23">   -moz-image-region: rect(30px 59px 59px 30px);</span>
<a href="#l21.24"></a><span id="l21.24"> }</span>
<a href="#l21.25"></a><span id="l21.25"> </span>
<a href="#l21.26"></a><span id="l21.26"> #button-stop[disabled=&quot;true&quot;] {</span>
<a href="#l21.27"></a><span id="l21.27">   -moz-image-region: rect(30px 89px 59px 60px) !important;</span>
<a href="#l21.28"></a><span id="l21.28"> }</span>
<a href="#l21.29"></a><span id="l21.29"> </span>
<a href="#l21.30"></a><span id="l21.30" class="difflineplus">+#locationFolders {</span>
<a href="#l21.31"></a><span id="l21.31" class="difflineplus">+  width: 22em;</span>
<a href="#l21.32"></a><span id="l21.32" class="difflineplus">+}</span>
<a href="#l21.33"></a><span id="l21.33" class="difflineplus">+</span>
<a href="#l21.34"></a><span id="l21.34" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #folder-location-container &gt; #locationFolders {</span>
<a href="#l21.35"></a><span id="l21.35" class="difflineplus">+  max-width: 11em;</span>
<a href="#l21.36"></a><span id="l21.36" class="difflineplus">+}</span>
<a href="#l21.37"></a><span id="l21.37" class="difflineplus">+</span>
<a href="#l21.38"></a><span id="l21.38" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #search-container &gt; #searchInput {</span>
<a href="#l21.39"></a><span id="l21.39" class="difflineplus">+  max-width: 11em;</span>
<a href="#l21.40"></a><span id="l21.40" class="difflineplus">+}</span>
<a href="#l21.41"></a><span id="l21.41" class="difflineplus">+</span>
<a href="#l21.42"></a><span id="l21.42" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #mailviews-container &gt; #viewPicker {</span>
<a href="#l21.43"></a><span id="l21.43" class="difflineplus">+  max-width: 11em;</span>
<a href="#l21.44"></a><span id="l21.44" class="difflineplus">+}</span>
<a href="#l21.45"></a><span id="l21.45" class="difflineplus">+</span>
<a href="#l21.46"></a><span id="l21.46"> /* ::::: small primary toolbar buttons ::::: */</span>
<a href="#l21.47"></a><span id="l21.47"> </span>
<a href="#l21.48"></a><span id="l21.48"> toolbar[iconsize=&quot;small&quot;] &gt; #button-getmsg,</span>
<a href="#l21.49"></a><span id="l21.49"> toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #button-getmsg {</span>
<a href="#l21.50"></a><span id="l21.50">   list-style-image: url(&quot;chrome://messenger/skin/icons/messengericons-small.png&quot;);</span>
<a href="#l21.51"></a><span id="l21.51">   -moz-image-region: rect(60px 19px 79px 0);</span>
<a href="#l21.52"></a><span id="l21.52"> }</span>
<a href="#l21.53"></a><span id="l21.53"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/suite/themes/classic/messenger/mailWindow1.css</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/suite/themes/classic/messenger/mailWindow1.css</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -15,16 +15,17 @@</span>
<a href="#l22.4"></a><span id="l22.4">  * March 31, 1998.</span>
<a href="#l22.5"></a><span id="l22.5">  *</span>
<a href="#l22.6"></a><span id="l22.6">  * The Initial Developer of the Original Code is</span>
<a href="#l22.7"></a><span id="l22.7">  * Netscape Communications Corporation.</span>
<a href="#l22.8"></a><span id="l22.8">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l22.9"></a><span id="l22.9">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l22.10"></a><span id="l22.10">  *</span>
<a href="#l22.11"></a><span id="l22.11">  * Contributor(s):</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l22.13"></a><span id="l22.13">  *</span>
<a href="#l22.14"></a><span id="l22.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l22.15"></a><span id="l22.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l22.16"></a><span id="l22.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l22.17"></a><span id="l22.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l22.18"></a><span id="l22.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l22.19"></a><span id="l22.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l22.20"></a><span id="l22.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l22.21"></a><span id="l22.21" class="difflineat">@@ -105,40 +106,25 @@</span>
<a href="#l22.22"></a><span id="l22.22"> </span>
<a href="#l22.23"></a><span id="l22.23"> #threadTree {</span>
<a href="#l22.24"></a><span id="l22.24">   border-bottom: 2px solid;</span>
<a href="#l22.25"></a><span id="l22.25">   -moz-border-bottom-colors: ThreeDHighlight ThreeDLightShadow;</span>
<a href="#l22.26"></a><span id="l22.26">   min-width: 1px;</span>
<a href="#l22.27"></a><span id="l22.27"> }</span>
<a href="#l22.28"></a><span id="l22.28"> </span>
<a href="#l22.29"></a><span id="l22.29"> #threadTree,</span>
<a href="#l22.30"></a><span id="l22.30" class="difflineminus">-#accountCentralBox,</span>
<a href="#l22.31"></a><span id="l22.31" class="difflineminus">-#searchBoxHolder &gt; #searchBox {</span>
<a href="#l22.32"></a><span id="l22.32" class="difflineplus">+#accountCentralBox {</span>
<a href="#l22.33"></a><span id="l22.33">   border-left: 2px solid;</span>
<a href="#l22.34"></a><span id="l22.34">   -moz-border-left-colors: ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l22.35"></a><span id="l22.35"> }</span>
<a href="#l22.36"></a><span id="l22.36"> </span>
<a href="#l22.37"></a><span id="l22.37" class="difflineminus">-#searchBoxHolder &gt; #searchBox {</span>
<a href="#l22.38"></a><span id="l22.38" class="difflineminus">-  border-top: 1px solid ThreeDHighlight;</span>
<a href="#l22.39"></a><span id="l22.39" class="difflineminus">-  border-bottom: 1px solid ThreeDShadow;</span>
<a href="#l22.40"></a><span id="l22.40" class="difflineminus">-}</span>
<a href="#l22.41"></a><span id="l22.41" class="difflineminus">-</span>
<a href="#l22.42"></a><span id="l22.42" class="difflineminus">-/* XXX bug 313731 buttons are taller than menulists */</span>
<a href="#l22.43"></a><span id="l22.43" class="difflineminus">-#msgLocationToolbar &gt; #searchBox[collapsed=&quot;true&quot;] {</span>
<a href="#l22.44"></a><span id="l22.44" class="difflineminus">-  visibility: hidden;</span>
<a href="#l22.45"></a><span id="l22.45" class="difflineminus">-}</span>
<a href="#l22.46"></a><span id="l22.46" class="difflineminus">-</span>
<a href="#l22.47"></a><span id="l22.47"> #locationIcon {</span>
<a href="#l22.48"></a><span id="l22.48">   list-style-image: none;</span>
<a href="#l22.49"></a><span id="l22.49"> }</span>
<a href="#l22.50"></a><span id="l22.50"> </span>
<a href="#l22.51"></a><span id="l22.51" class="difflineminus">-#locationFolders {</span>
<a href="#l22.52"></a><span id="l22.52" class="difflineminus">-  width: 20em;</span>
<a href="#l22.53"></a><span id="l22.53" class="difflineminus">-}</span>
<a href="#l22.54"></a><span id="l22.54" class="difflineminus">-</span>
<a href="#l22.55"></a><span id="l22.55"> /* ..... message pane adjustments ..... */</span>
<a href="#l22.56"></a><span id="l22.56"> </span>
<a href="#l22.57"></a><span id="l22.57"> #messagepanebox {</span>
<a href="#l22.58"></a><span id="l22.58">  border-top: 2px solid;</span>
<a href="#l22.59"></a><span id="l22.59">  border-left: 2px solid;</span>
<a href="#l22.60"></a><span id="l22.60">  -moz-border-top-colors: ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l22.61"></a><span id="l22.61">  -moz-border-left-colors: ThreeDShadow ThreeDDarkShadow;</span>
<a href="#l22.62"></a><span id="l22.62"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/suite/themes/classic/messenger/primaryToolbar.css</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/suite/themes/classic/messenger/primaryToolbar.css</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -16,16 +16,17 @@</span>
<a href="#l23.4"></a><span id="l23.4">  *</span>
<a href="#l23.5"></a><span id="l23.5">  * The Initial Developer of the Original Code is</span>
<a href="#l23.6"></a><span id="l23.6">  * Netscape Communications Corporation.</span>
<a href="#l23.7"></a><span id="l23.7">  * Portions created by the Initial Developer are Copyright (C) 1998-1999</span>
<a href="#l23.8"></a><span id="l23.8">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l23.9"></a><span id="l23.9">  *</span>
<a href="#l23.10"></a><span id="l23.10">  * Contributor(s):</span>
<a href="#l23.11"></a><span id="l23.11">  *   Manuel Reimer (Manuel.Reimer@gmx.de)</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l23.13"></a><span id="l23.13">  *</span>
<a href="#l23.14"></a><span id="l23.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l23.15"></a><span id="l23.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l23.16"></a><span id="l23.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l23.17"></a><span id="l23.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l23.18"></a><span id="l23.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l23.19"></a><span id="l23.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l23.20"></a><span id="l23.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l23.21"></a><span id="l23.21" class="difflineat">@@ -282,16 +283,37 @@ toolbarpaletteitem &gt; #button-delete {</span>
<a href="#l23.22"></a><span id="l23.22"> #button-stop:hover:active {</span>
<a href="#l23.23"></a><span id="l23.23">   -moz-image-region: rect(30px 89px 59px 60px);</span>
<a href="#l23.24"></a><span id="l23.24"> }</span>
<a href="#l23.25"></a><span id="l23.25"> </span>
<a href="#l23.26"></a><span id="l23.26"> #button-stop[disabled=&quot;true&quot;] {</span>
<a href="#l23.27"></a><span id="l23.27">   -moz-image-region: rect(30px 119px 59px 90px) !important;</span>
<a href="#l23.28"></a><span id="l23.28"> }</span>
<a href="#l23.29"></a><span id="l23.29"> </span>
<a href="#l23.30"></a><span id="l23.30" class="difflineplus">+#locationFolders {</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineplus">+  width: 22em;</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+}</span>
<a href="#l23.33"></a><span id="l23.33" class="difflineplus">+</span>
<a href="#l23.34"></a><span id="l23.34" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #folder-location-container &gt; #locationFolders {</span>
<a href="#l23.35"></a><span id="l23.35" class="difflineplus">+  max-width: 11em;</span>
<a href="#l23.36"></a><span id="l23.36" class="difflineplus">+}</span>
<a href="#l23.37"></a><span id="l23.37" class="difflineplus">+</span>
<a href="#l23.38"></a><span id="l23.38" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #search-container &gt; #searchInput {</span>
<a href="#l23.39"></a><span id="l23.39" class="difflineplus">+  max-width: 11em;</span>
<a href="#l23.40"></a><span id="l23.40" class="difflineplus">+}</span>
<a href="#l23.41"></a><span id="l23.41" class="difflineplus">+</span>
<a href="#l23.42"></a><span id="l23.42" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #mailviews-container &gt; #viewPicker {</span>
<a href="#l23.43"></a><span id="l23.43" class="difflineplus">+  max-width: 11em;</span>
<a href="#l23.44"></a><span id="l23.44" class="difflineplus">+}</span>
<a href="#l23.45"></a><span id="l23.45" class="difflineplus">+</span>
<a href="#l23.46"></a><span id="l23.46" class="difflineplus">+#viewPickerPopup &gt; menuitem &gt; .menu-iconic-left,</span>
<a href="#l23.47"></a><span id="l23.47" class="difflineplus">+#viewPickerPopup &gt; menu &gt; menupopup &gt; menuitem &gt; .menu-iconic-left {</span>
<a href="#l23.48"></a><span id="l23.48" class="difflineplus">+  display: -moz-box !important;</span>
<a href="#l23.49"></a><span id="l23.49" class="difflineplus">+}</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineplus">+</span>
<a href="#l23.51"></a><span id="l23.51"> /* ::::: small primary toolbar buttons ::::: */</span>
<a href="#l23.52"></a><span id="l23.52"> </span>
<a href="#l23.53"></a><span id="l23.53"> toolbar[iconsize=&quot;small&quot;] &gt; #button-getmsg,</span>
<a href="#l23.54"></a><span id="l23.54"> toolbar[iconsize=&quot;small&quot;] &gt; toolbarpaletteitem &gt; #button-getmsg {</span>
<a href="#l23.55"></a><span id="l23.55">   list-style-image: url(&quot;chrome://messenger/skin/icons/messengericons-small.png&quot;);</span>
<a href="#l23.56"></a><span id="l23.56">   -moz-image-region: rect(60px 19px 79px 0);</span>
<a href="#l23.57"></a><span id="l23.57"> }</span>
<a href="#l23.58"></a><span id="l23.58"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/suite/themes/modern/messenger/mailWindow1.css</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/suite/themes/modern/messenger/mailWindow1.css</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -15,16 +15,17 @@</span>
<a href="#l24.4"></a><span id="l24.4">  *</span>
<a href="#l24.5"></a><span id="l24.5">  * The Initial Developer of the Original Code is</span>
<a href="#l24.6"></a><span id="l24.6">  * Netscape Communications Corporation.</span>
<a href="#l24.7"></a><span id="l24.7">  * Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l24.8"></a><span id="l24.8">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l24.9"></a><span id="l24.9">  *</span>
<a href="#l24.10"></a><span id="l24.10">  * Contributor(s):</span>
<a href="#l24.11"></a><span id="l24.11">  *   Joe Hewitt &lt;hewitt@netscape.com&gt;</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l24.13"></a><span id="l24.13">  *</span>
<a href="#l24.14"></a><span id="l24.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l24.15"></a><span id="l24.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l24.16"></a><span id="l24.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l24.17"></a><span id="l24.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l24.18"></a><span id="l24.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l24.19"></a><span id="l24.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l24.20"></a><span id="l24.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l24.21"></a><span id="l24.21" class="difflineat">@@ -104,60 +105,45 @@</span>
<a href="#l24.22"></a><span id="l24.22"> #threadTree {</span>
<a href="#l24.23"></a><span id="l24.23">   border-bottom: 2px solid;</span>
<a href="#l24.24"></a><span id="l24.24">   -moz-border-bottom-colors: #DFE5EF #97A4B2;</span>
<a href="#l24.25"></a><span id="l24.25">   min-width: 1px;</span>
<a href="#l24.26"></a><span id="l24.26"> }</span>
<a href="#l24.27"></a><span id="l24.27"> </span>
<a href="#l24.28"></a><span id="l24.28"> #threadTree,</span>
<a href="#l24.29"></a><span id="l24.29"> #accountCentralBox,</span>
<a href="#l24.30"></a><span id="l24.30" class="difflineminus">-#searchBoxHolder &gt; #searchBox,</span>
<a href="#l24.31"></a><span id="l24.31"> #messagepanebox {</span>
<a href="#l24.32"></a><span id="l24.32">   border-left: 2px solid;</span>
<a href="#l24.33"></a><span id="l24.33">   -moz-border-left-colors: #AAB4BF #3B414F;</span>
<a href="#l24.34"></a><span id="l24.34"> }</span>
<a href="#l24.35"></a><span id="l24.35"> </span>
<a href="#l24.36"></a><span id="l24.36" class="difflineminus">-#searchBoxHolder &gt; #searchBox {</span>
<a href="#l24.37"></a><span id="l24.37" class="difflineminus">-  border-top: 1px solid #EEF0F3;</span>
<a href="#l24.38"></a><span id="l24.38" class="difflineminus">-  border-right: 1px solid #A5ABB0;</span>
<a href="#l24.39"></a><span id="l24.39" class="difflineminus">-  border-bottom: 2px solid;</span>
<a href="#l24.40"></a><span id="l24.40" class="difflineminus">-  -moz-border-bottom-colors: #5D616E #BEC3D3;</span>
<a href="#l24.41"></a><span id="l24.41" class="difflineminus">-}</span>
<a href="#l24.42"></a><span id="l24.42" class="difflineplus">+/* ::::: search toolbar ::::: */</span>
<a href="#l24.43"></a><span id="l24.43"> </span>
<a href="#l24.44"></a><span id="l24.44" class="difflineminus">-/* ::::: location toolbar ::::: */</span>
<a href="#l24.45"></a><span id="l24.45" class="difflineminus">-</span>
<a href="#l24.46"></a><span id="l24.46" class="difflineminus">-#msgLocationToolbar {</span>
<a href="#l24.47"></a><span id="l24.47" class="difflineplus">+#searchToolbar {</span>
<a href="#l24.48"></a><span id="l24.48">   background: url(&quot;chrome://global/skin/toolbar/tb-mid.gif&quot;) #C7D0D9 repeat-x top;</span>
<a href="#l24.49"></a><span id="l24.49"> }</span>
<a href="#l24.50"></a><span id="l24.50"> </span>
<a href="#l24.51"></a><span id="l24.51" class="difflineminus">-#msgLocationToolbar &gt; .toolbar-box &gt; toolbargrippy,</span>
<a href="#l24.52"></a><span id="l24.52" class="difflineminus">-#msgLocationToolbar &gt; .toolbar-box &gt; .toolbar-holder {</span>
<a href="#l24.53"></a><span id="l24.53" class="difflineplus">+#searchToolbar &gt; .toolbar-box &gt; toolbargrippy,</span>
<a href="#l24.54"></a><span id="l24.54" class="difflineplus">+#searchToolbar &gt; .toolbar-box &gt; .toolbar-holder {</span>
<a href="#l24.55"></a><span id="l24.55">   border-top: 1px solid #CED6DD;</span>
<a href="#l24.56"></a><span id="l24.56">   border-right: 1px solid #95A0AD;</span>
<a href="#l24.57"></a><span id="l24.57">   border-bottom: 1px solid #95A0AD;</span>
<a href="#l24.58"></a><span id="l24.58">   border-left: 1px solid #DAE3ED;</span>
<a href="#l24.59"></a><span id="l24.59"> }</span>
<a href="#l24.60"></a><span id="l24.60"> </span>
<a href="#l24.61"></a><span id="l24.61" class="difflineminus">-#msgLocationToolbar &gt; .toolbar-box &gt; toolbargrippy:hover:active {</span>
<a href="#l24.62"></a><span id="l24.62" class="difflineplus">+#searchToolbar &gt; .toolbar-box &gt; toolbargrippy:hover:active {</span>
<a href="#l24.63"></a><span id="l24.63">   border-color: #67737E;</span>
<a href="#l24.64"></a><span id="l24.64"> }</span>
<a href="#l24.65"></a><span id="l24.65"> </span>
<a href="#l24.66"></a><span id="l24.66" class="difflineminus">-/* XXX bug 313731 buttons are taller than menulists */</span>
<a href="#l24.67"></a><span id="l24.67" class="difflineminus">-#msgLocationToolbar &gt; #searchBox[collapsed=&quot;true&quot;] {</span>
<a href="#l24.68"></a><span id="l24.68" class="difflineminus">-  visibility: hidden;</span>
<a href="#l24.69"></a><span id="l24.69" class="difflineminus">-}</span>
<a href="#l24.70"></a><span id="l24.70" class="difflineplus">+/* ::::: location widget ::::: */</span>
<a href="#l24.71"></a><span id="l24.71"> </span>
<a href="#l24.72"></a><span id="l24.72"> #locationIcon {</span>
<a href="#l24.73"></a><span id="l24.73">   list-style-image: none;</span>
<a href="#l24.74"></a><span id="l24.74"> }</span>
<a href="#l24.75"></a><span id="l24.75"> </span>
<a href="#l24.76"></a><span id="l24.76" class="difflineminus">-#locationFolders {</span>
<a href="#l24.77"></a><span id="l24.77" class="difflineminus">-  width: 20em;</span>
<a href="#l24.78"></a><span id="l24.78" class="difflineminus">-}</span>
<a href="#l24.79"></a><span id="l24.79" class="difflineminus">-</span>
<a href="#l24.80"></a><span id="l24.80"> /* ..... message pane adjustments ..... */</span>
<a href="#l24.81"></a><span id="l24.81"> </span>
<a href="#l24.82"></a><span id="l24.82"> #messagepanebox {</span>
<a href="#l24.83"></a><span id="l24.83">  border-top: 2px solid;</span>
<a href="#l24.84"></a><span id="l24.84">  -moz-border-top-colors: #AAB4BF #3B414F;</span>
<a href="#l24.85"></a><span id="l24.85"> }</span>
<a href="#l24.86"></a><span id="l24.86"> </span>
<a href="#l24.87"></a><span id="l24.87"> #msgHeaderView {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/suite/themes/modern/messenger/primaryToolbar.css</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/suite/themes/modern/messenger/primaryToolbar.css</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -17,16 +17,17 @@</span>
<a href="#l25.4"></a><span id="l25.4">  * Netscape Communications Corporation.</span>
<a href="#l25.5"></a><span id="l25.5">  * Portions created by the Initial Developer are Copyright (C) 1998</span>
<a href="#l25.6"></a><span id="l25.6">  * the Initial Developer. All Rights Reserved.</span>
<a href="#l25.7"></a><span id="l25.7">  *</span>
<a href="#l25.8"></a><span id="l25.8">  * Contributor(s):</span>
<a href="#l25.9"></a><span id="l25.9">  *   Joe Hewitt &lt;hewitt@netscape.com&gt;</span>
<a href="#l25.10"></a><span id="l25.10">  *   Adam Becevello &lt;abecevello@sympatico.ca&gt;</span>
<a href="#l25.11"></a><span id="l25.11">  *   Seth Spitzer &lt;sspitzer@netscape.com&gt;</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineplus">+ *   Ian Neal &lt;iann_bugzilla@blueyonder.co.uk&gt;</span>
<a href="#l25.13"></a><span id="l25.13">  *</span>
<a href="#l25.14"></a><span id="l25.14">  * Alternatively, the contents of this file may be used under the terms of</span>
<a href="#l25.15"></a><span id="l25.15">  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),</span>
<a href="#l25.16"></a><span id="l25.16">  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),</span>
<a href="#l25.17"></a><span id="l25.17">  * in which case the provisions of the GPL or the LGPL are applicable instead</span>
<a href="#l25.18"></a><span id="l25.18">  * of those above. If you wish to allow use of your version of this file only</span>
<a href="#l25.19"></a><span id="l25.19">  * under the terms of either the GPL or the LGPL, and not to allow others to</span>
<a href="#l25.20"></a><span id="l25.20">  * use your version of this file under the terms of the MPL, indicate your</span>
<a href="#l25.21"></a><span id="l25.21" class="difflineat">@@ -293,16 +294,32 @@ toolbarpaletteitem &gt; #button-delete {</span>
<a href="#l25.22"></a><span id="l25.22"> #button-stop:hover:active {</span>
<a href="#l25.23"></a><span id="l25.23">   -moz-image-region: rect(68px 149px 101px 100px);</span>
<a href="#l25.24"></a><span id="l25.24"> }</span>
<a href="#l25.25"></a><span id="l25.25"> </span>
<a href="#l25.26"></a><span id="l25.26"> #button-stop[disabled=&quot;true&quot;] {</span>
<a href="#l25.27"></a><span id="l25.27">   -moz-image-region: rect(68px 199px 101px 150px) !important;</span>
<a href="#l25.28"></a><span id="l25.28"> }</span>
<a href="#l25.29"></a><span id="l25.29"> </span>
<a href="#l25.30"></a><span id="l25.30" class="difflineplus">+#locationFolders {</span>
<a href="#l25.31"></a><span id="l25.31" class="difflineplus">+  width: 22em;</span>
<a href="#l25.32"></a><span id="l25.32" class="difflineplus">+}</span>
<a href="#l25.33"></a><span id="l25.33" class="difflineplus">+</span>
<a href="#l25.34"></a><span id="l25.34" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #folder-location-container &gt; #locationFolders {</span>
<a href="#l25.35"></a><span id="l25.35" class="difflineplus">+  max-width: 11em;</span>
<a href="#l25.36"></a><span id="l25.36" class="difflineplus">+}</span>
<a href="#l25.37"></a><span id="l25.37" class="difflineplus">+</span>
<a href="#l25.38"></a><span id="l25.38" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #search-container &gt; #searchInput {</span>
<a href="#l25.39"></a><span id="l25.39" class="difflineplus">+  max-width: 11em;</span>
<a href="#l25.40"></a><span id="l25.40" class="difflineplus">+}</span>
<a href="#l25.41"></a><span id="l25.41" class="difflineplus">+</span>
<a href="#l25.42"></a><span id="l25.42" class="difflineplus">+toolbarpaletteitem[place=&quot;palette&quot;] &gt; #mailviews-container &gt; #viewPicker {</span>
<a href="#l25.43"></a><span id="l25.43" class="difflineplus">+  max-width: 11em;</span>
<a href="#l25.44"></a><span id="l25.44" class="difflineplus">+}</span>
<a href="#l25.45"></a><span id="l25.45" class="difflineplus">+</span>
<a href="#l25.46"></a><span id="l25.46"> /* ::::: small primary toolbar buttons ::::: */</span>
<a href="#l25.47"></a><span id="l25.47"> </span>
<a href="#l25.48"></a><span id="l25.48"> /* XXXRatty We don't have any small graphics for these buttons yet.</span>
<a href="#l25.49"></a><span id="l25.49"> toolbar[iconsize=&quot;small&quot;] #button-getmsg {}</span>
<a href="#l25.50"></a><span id="l25.50"> toolbar[iconsize=&quot;small&quot;] #button-newmsg {}</span>
<a href="#l25.51"></a><span id="l25.51"> toolbar[iconsize=&quot;small&quot;] #button-reply {}</span>
<a href="#l25.52"></a><span id="l25.52"> toolbar[iconsize=&quot;small&quot;] #button-replyall {}</span>
<a href="#l25.53"></a><span id="l25.53"> toolbar[iconsize=&quot;small&quot;] #button-forward {}</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

