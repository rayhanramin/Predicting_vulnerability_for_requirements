<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 3541:dde243bf059e4198a7799cf1717af76de3da007c</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ dde243bf059e4198a7799cf1717af76de3da007c" />
<meta property="og:url" content="/comm-central/rev/dde243bf059e4198a7799cf1717af76de3da007c" />
<meta property="og:description" content="Bug 489505 - &quot;Replace NS_ASSERTION(0, ...) by NS_ERROR(...) in comm-central&quot; [r+sr=Standard8]" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / dde243bf059e4198a7799cf1717af76de3da007c 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/dde243bf059e4198a7799cf1717af76de3da007c">shortlog</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/dde243bf059e4198a7799cf1717af76de3da007c">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c">files</a> |
changeset |
<a href="/comm-central/raw-rev/dde243bf059e4198a7799cf1717af76de3da007c">raw</a>  | <a href="/comm-central/archive/dde243bf059e4198a7799cf1717af76de3da007c.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=489505">Bug 489505</a> - &quot;Replace NS_ASSERTION(0, ...) by NS_ERROR(...) in comm-central&quot; [r+sr=Standard8]
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#72;&#97;&#115;&#104;&#101;&#109;&#32;&#77;&#97;&#115;&#111;&#117;&#100;&#32;&#60;&#119;&#114;&#97;&#105;&#116;&#104;&#108;&#105;&#107;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Sat, 05 Sep 2009 00:16:04 +0100</td></tr>

<tr>
 <td>changeset 3541</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/dde243bf059e4198a7799cf1717af76de3da007c">dde243bf059e4198a7799cf1717af76de3da007c</a></td>
</tr>



<tr>
<td>parent 3540</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/b11a45aa831d50594e7f23968bda9bc010103ef1">b11a45aa831d50594e7f23968bda9bc010103ef1</a>
</td>
</tr>

<tr>
<td>child 3542</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/f83b9d5dddd1333a7ec6b62ff8cd168bcb0b6f25">f83b9d5dddd1333a7ec6b62ff8cd168bcb0b6f25</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=dde243bf059e4198a7799cf1717af76de3da007c">2869</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Fri, 04 Sep 2009 23:16:55 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@dde243bf059e [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=dde243bf059e4198a7799cf1717af76de3da007c">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=dde243bf059e4198a7799cf1717af76de3da007c&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dde243bf059e4198a7799cf1717af76de3da007c&newProject=comm-central&newRevision=dde243bf059e4198a7799cf1717af76de3da007c&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dde243bf059e4198a7799cf1717af76de3da007c&newProject=comm-central&newRevision=dde243bf059e4198a7799cf1717af76de3da007c&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dde243bf059e4198a7799cf1717af76de3da007c&newProject=comm-central&newRevision=dde243bf059e4198a7799cf1717af76de3da007c&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>

<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=489505">489505</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=489505">Bug 489505</a> - &quot;Replace NS_ASSERTION(0, ...) by NS_ERROR(...) in comm-central&quot; [r+sr=Standard8]</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mail/components/migration/src/nsDogbertProfileMigrator.cpp">mail/components/migration/src/nsDogbertProfileMigrator.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mail/components/migration/src/nsDogbertProfileMigrator.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mail/components/migration/src/nsDogbertProfileMigrator.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mail/components/migration/src/nsDogbertProfileMigrator.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mail/components/migration/src/nsDogbertProfileMigrator.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mail/components/migration/src/nsDogbertProfileMigrator.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/addrbook/src/nsAbManager.cpp">mailnews/addrbook/src/nsAbManager.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/addrbook/src/nsAbManager.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/addrbook/src/nsAbManager.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/addrbook/src/nsAbManager.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/addrbook/src/nsAbManager.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/addrbook/src/nsAbManager.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/search/src/nsMsgSearchValue.cpp">mailnews/base/search/src/nsMsgSearchValue.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/search/src/nsMsgSearchValue.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/search/src/nsMsgSearchValue.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/search/src/nsMsgSearchValue.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/search/src/nsMsgSearchValue.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/search/src/nsMsgSearchValue.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/src/nsMsgDBView.cpp">mailnews/base/src/nsMsgDBView.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/src/nsMsgDBView.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/src/nsMsgDBView.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/src/nsMsgDBView.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/src/nsMsgDBView.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/src/nsMsgDBView.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/util/nsMsgI18N.cpp">mailnews/base/util/nsMsgI18N.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/util/nsMsgI18N.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/util/nsMsgI18N.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/util/nsMsgI18N.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/util/nsMsgI18N.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/base/util/nsMsgI18N.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.cpp">mailnews/compose/src/nsMsgCompFields.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.h">mailnews/compose/src/nsMsgCompFields.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.h">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.h">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.h">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.h">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompFields.h">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompose.cpp">mailnews/compose/src/nsMsgCompose.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompose.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompose.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompose.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompose.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgCompose.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgSend.cpp">mailnews/compose/src/nsMsgSend.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgSend.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgSend.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgSend.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgSend.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/compose/src/nsMsgSend.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsImapMailDatabase.cpp">mailnews/db/msgdb/src/nsImapMailDatabase.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsImapMailDatabase.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsImapMailDatabase.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsImapMailDatabase.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsImapMailDatabase.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsImapMailDatabase.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsMsgDatabase.cpp">mailnews/db/msgdb/src/nsMsgDatabase.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsMsgDatabase.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsMsgDatabase.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsMsgDatabase.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsMsgDatabase.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/db/msgdb/src/nsMsgDatabase.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapMailFolder.cpp">mailnews/imap/src/nsImapMailFolder.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapMailFolder.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapMailFolder.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapMailFolder.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapMailFolder.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapMailFolder.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapService.cpp">mailnews/imap/src/nsImapService.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapService.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapService.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapService.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapService.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/imap/src/nsImapService.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsLocalMailFolder.cpp">mailnews/local/src/nsLocalMailFolder.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsLocalMailFolder.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsLocalMailFolder.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsLocalMailFolder.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsLocalMailFolder.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsLocalMailFolder.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsRssService.cpp">mailnews/local/src/nsRssService.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsRssService.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsRssService.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsRssService.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsRssService.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/local/src/nsRssService.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimecryp.cpp">mailnews/mime/src/mimecryp.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimecryp.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimecryp.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimecryp.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimecryp.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimecryp.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeenc.cpp">mailnews/mime/src/mimeenc.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeenc.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeenc.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeenc.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeenc.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeenc.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeeobj.cpp">mailnews/mime/src/mimeeobj.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeeobj.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeeobj.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeeobj.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeeobj.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeeobj.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimei.cpp">mailnews/mime/src/mimei.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimei.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimei.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimei.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimei.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimei.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeiimg.cpp">mailnews/mime/src/mimeiimg.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeiimg.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeiimg.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeiimg.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeiimg.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeiimg.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeleaf.cpp">mailnews/mime/src/mimeleaf.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeleaf.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeleaf.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeleaf.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeleaf.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeleaf.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeobj.cpp">mailnews/mime/src/mimeobj.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeobj.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeobj.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeobj.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeobj.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/mimeobj.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/nsStreamConverter.cpp">mailnews/mime/src/nsStreamConverter.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/nsStreamConverter.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/nsStreamConverter.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/nsStreamConverter.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/nsStreamConverter.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/mime/src/nsStreamConverter.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPNewsgroupList.cpp">mailnews/news/src/nsNNTPNewsgroupList.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPNewsgroupList.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPNewsgroupList.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPNewsgroupList.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPNewsgroupList.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPNewsgroupList.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPProtocol.cpp">mailnews/news/src/nsNNTPProtocol.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPProtocol.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPProtocol.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPProtocol.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPProtocol.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNNTPProtocol.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNewsFolder.cpp">mailnews/news/src/nsNewsFolder.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNewsFolder.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNewsFolder.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNewsFolder.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNewsFolder.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNewsFolder.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpIncomingServer.cpp">mailnews/news/src/nsNntpIncomingServer.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpIncomingServer.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpIncomingServer.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpIncomingServer.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpIncomingServer.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpIncomingServer.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpService.cpp">mailnews/news/src/nsNntpService.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpService.cpp">file</a> |
<a href="/comm-central/annotate/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpService.cpp">annotate</a> |
<a href="/comm-central/diff/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpService.cpp">diff</a> |
<a href="/comm-central/comparison/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpService.cpp">comparison</a> |
<a href="/comm-central/log/dde243bf059e4198a7799cf1717af76de3da007c/mailnews/news/src/nsNntpService.cpp">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/components/migration/src/nsDogbertProfileMigrator.cpp</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/components/migration/src/nsDogbertProfileMigrator.cpp</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -1002,17 +1002,17 @@ nsDogbertProfileMigrator::ProcessPrefsCa</span>
<a href="#l1.4"></a><span id="l1.4">     if (!exists)  {</span>
<a href="#l1.5"></a><span id="l1.5">       rv = newMOVEMAILMailPath-&gt;Create(nsIFile::DIRECTORY_TYPE, 0700);</span>
<a href="#l1.6"></a><span id="l1.6">       if (NS_FAILED(rv)) return rv;</span>
<a href="#l1.7"></a><span id="l1.7">     }</span>
<a href="#l1.8"></a><span id="l1.8">     rv = NS_OK;</span>
<a href="#l1.9"></a><span id="l1.9">   }</span>
<a href="#l1.10"></a><span id="l1.10"> #endif /* HAVE_MOVEMAIL */</span>
<a href="#l1.11"></a><span id="l1.11">   else {</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineminus">-    NS_ASSERTION(0,&quot;failure, didn't recognize your mail server type.\n&quot;);</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    NS_ERROR(&quot;failure, didn't recognize your mail server type.&quot;);</span>
<a href="#l1.14"></a><span id="l1.14">     return NS_ERROR_UNEXPECTED;</span>
<a href="#l1.15"></a><span id="l1.15">   }</span>
<a href="#l1.16"></a><span id="l1.16"> </span>
<a href="#l1.17"></a><span id="l1.17">   ////////////////////////////////////////////////////////////////////////////</span>
<a href="#l1.18"></a><span id="l1.18">   // Set all the appropriate NEWS prefs.</span>
<a href="#l1.19"></a><span id="l1.19">   ////////////////////////////////////////////////////////////////////////////</span>
<a href="#l1.20"></a><span id="l1.20"> </span>
<a href="#l1.21"></a><span id="l1.21">   rv = newNewsPath-&gt;Exists(&amp;exists);</span>
<a href="#l1.22"></a><span id="l1.22" class="difflineat">@@ -1129,17 +1129,17 @@ nsDogbertProfileMigrator::ProcessPrefsCa</span>
<a href="#l1.23"></a><span id="l1.23">     // we'll move and rename them</span>
<a href="#l1.24"></a><span id="l1.24">     rv = DoTheCopy(oldProfilePath, newProfilePath, POP_MAIL_FILTER_FILE_NAME_IN_4x);</span>
<a href="#l1.25"></a><span id="l1.25">     if (NS_FAILED(rv)) return rv;</span>
<a href="#l1.26"></a><span id="l1.26"> </span>
<a href="#l1.27"></a><span id="l1.27">     rv = DoTheCopy(oldMOVEMAILMailPath, newMOVEMAILMailPath, PR_TRUE);</span>
<a href="#l1.28"></a><span id="l1.28">   }</span>
<a href="#l1.29"></a><span id="l1.29"> #endif /* HAVE_MOVEMAIL */</span>
<a href="#l1.30"></a><span id="l1.30">   else {</span>
<a href="#l1.31"></a><span id="l1.31" class="difflineminus">-    NS_ASSERTION(0, &quot;unknown mail server type!&quot;);</span>
<a href="#l1.32"></a><span id="l1.32" class="difflineplus">+    NS_ERROR(&quot;unknown mail server type!&quot;);</span>
<a href="#l1.33"></a><span id="l1.33">     return NS_ERROR_FAILURE;</span>
<a href="#l1.34"></a><span id="l1.34">   }</span>
<a href="#l1.35"></a><span id="l1.35"> </span>
<a href="#l1.36"></a><span id="l1.36">   // Don't inherit the 4.x cache file location for mozilla!</span>
<a href="#l1.37"></a><span id="l1.37">   // The cache pref later gets set with a default in nsAppRunner::InitCachePrefs().</span>
<a href="#l1.38"></a><span id="l1.38">   mPrefs-&gt;ClearUserPref(PREF_BROWSER_CACHE_DIRECTORY);</span>
<a href="#l1.39"></a><span id="l1.39"> </span>
<a href="#l1.40"></a><span id="l1.40">   rv = DoSpecialUpdates(newProfilePath);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbManager.cpp</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbManager.cpp</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -725,17 +725,17 @@ nsAbManager::ExportDirectoryToDelimitedT</span>
<a href="#l2.4"></a><span id="l2.4">                 newValue.AppendLiteral(&quot;\&quot;&quot;);</span>
<a href="#l2.5"></a><span id="l2.5">               }</span>
<a href="#l2.6"></a><span id="l2.6"> </span>
<a href="#l2.7"></a><span id="l2.7">               rv = nsMsgI18NConvertFromUnicode(nsMsgI18NFileSystemCharset(),</span>
<a href="#l2.8"></a><span id="l2.8">                                                newValue, valueCStr);</span>
<a href="#l2.9"></a><span id="l2.9">               NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l2.10"></a><span id="l2.10"> </span>
<a href="#l2.11"></a><span id="l2.11">               if (NS_FAILED(rv)) {</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-                NS_ASSERTION(0, &quot;failed to convert string to system charset.  use LDIF&quot;);</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+                NS_ERROR(&quot;failed to convert string to system charset.  use LDIF&quot;);</span>
<a href="#l2.14"></a><span id="l2.14">                 valueCStr = &quot;?&quot;;</span>
<a href="#l2.15"></a><span id="l2.15">               }</span>
<a href="#l2.16"></a><span id="l2.16"> </span>
<a href="#l2.17"></a><span id="l2.17">               length = valueCStr.Length();</span>
<a href="#l2.18"></a><span id="l2.18">               if (length) {</span>
<a href="#l2.19"></a><span id="l2.19">                 rv = outputStream-&gt;Write(valueCStr.get(), length, &amp;writeCount);</span>
<a href="#l2.20"></a><span id="l2.20">                 NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l2.21"></a><span id="l2.21">                 if (length != writeCount)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/base/search/src/nsMsgSearchValue.cpp</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/base/search/src/nsMsgSearchValue.cpp</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -133,15 +133,15 @@ nsMsgSearchValueImpl::ToString(nsAString</span>
<a href="#l3.4"></a><span id="l3.4">       nsAutoString tempInt;</span>
<a href="#l3.5"></a><span id="l3.5">       tempInt.AppendInt(mValue.attribute);</span>
<a href="#l3.6"></a><span id="l3.6">       </span>
<a href="#l3.7"></a><span id="l3.7">         aResult.AppendLiteral(&quot;type=&quot;);</span>
<a href="#l3.8"></a><span id="l3.8">         aResult.Append(tempInt);</span>
<a href="#l3.9"></a><span id="l3.9">     }</span>
<a href="#l3.10"></a><span id="l3.10">         break;</span>
<a href="#l3.11"></a><span id="l3.11">     default:</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-        NS_ASSERTION(0, &quot;Unknown search value type&quot;);</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+        NS_ERROR(&quot;Unknown search value type&quot;);</span>
<a href="#l3.14"></a><span id="l3.14">     }        </span>
<a href="#l3.15"></a><span id="l3.15"> </span>
<a href="#l3.16"></a><span id="l3.16">     aResult.AppendLiteral(&quot;]&quot;);</span>
<a href="#l3.17"></a><span id="l3.17"> </span>
<a href="#l3.18"></a><span id="l3.18">     return NS_OK;</span>
<a href="#l3.19"></a><span id="l3.19"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/base/src/nsMsgDBView.cpp</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/base/src/nsMsgDBView.cpp</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -3759,17 +3759,17 @@ nsresult nsMsgDBView::GetLongField(nsIMs</span>
<a href="#l4.4"></a><span id="l4.4">       {</span>
<a href="#l4.5"></a><span id="l4.5">         NS_ASSERTION(PR_FALSE, &quot;should not be here (Sort Type: byCustom (Long), but no custom handler)&quot;);</span>
<a href="#l4.6"></a><span id="l4.6">         rv = NS_ERROR_UNEXPECTED;</span>
<a href="#l4.7"></a><span id="l4.7">       }</span>
<a href="#l4.8"></a><span id="l4.8">       break;</span>
<a href="#l4.9"></a><span id="l4.9">     case nsMsgViewSortType::byId:</span>
<a href="#l4.10"></a><span id="l4.10">         // handled by caller, since caller knows the key</span>
<a href="#l4.11"></a><span id="l4.11">     default:</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-        NS_ASSERTION(0,&quot;should not be here&quot;);</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+        NS_ERROR(&quot;should not be here&quot;);</span>
<a href="#l4.14"></a><span id="l4.14">         rv = NS_ERROR_UNEXPECTED;</span>
<a href="#l4.15"></a><span id="l4.15">         break;</span>
<a href="#l4.16"></a><span id="l4.16">     }</span>
<a href="#l4.17"></a><span id="l4.17"> </span>
<a href="#l4.18"></a><span id="l4.18">     NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l4.19"></a><span id="l4.19">     return NS_OK;</span>
<a href="#l4.20"></a><span id="l4.20"> }</span>
<a href="#l4.21"></a><span id="l4.21"> </span>
<a href="#l4.22"></a><span id="l4.22" class="difflineat">@@ -4237,17 +4237,17 @@ NS_IMETHODIMP nsMsgDBView::Sort(nsMsgVie</span>
<a href="#l4.23"></a><span id="l4.23">     {</span>
<a href="#l4.24"></a><span id="l4.24">       case kCollationKey:</span>
<a href="#l4.25"></a><span id="l4.25">         NS_QuickSort(pPtrBase, numSoFar, sizeof(IdKey*), FnSortIdKey, &amp;qsPrivateData);</span>
<a href="#l4.26"></a><span id="l4.26">         break;</span>
<a href="#l4.27"></a><span id="l4.27">       case kU32:</span>
<a href="#l4.28"></a><span id="l4.28">         NS_QuickSort(pPtrBase, numSoFar, sizeof(IdKey*), FnSortIdUint32, &amp;qsPrivateData);</span>
<a href="#l4.29"></a><span id="l4.29">         break;</span>
<a href="#l4.30"></a><span id="l4.30">       default:</span>
<a href="#l4.31"></a><span id="l4.31" class="difflineminus">-        NS_ASSERTION(0, &quot;not supposed to get here&quot;);</span>
<a href="#l4.32"></a><span id="l4.32" class="difflineplus">+        NS_ERROR(&quot;not supposed to get here&quot;);</span>
<a href="#l4.33"></a><span id="l4.33">         break;</span>
<a href="#l4.34"></a><span id="l4.34">     }</span>
<a href="#l4.35"></a><span id="l4.35">   }</span>
<a href="#l4.36"></a><span id="l4.36"> </span>
<a href="#l4.37"></a><span id="l4.37">   // now put the IDs into the array in proper order</span>
<a href="#l4.38"></a><span id="l4.38">   for (PRUint32 i = 0; i &lt; numSoFar; i++)</span>
<a href="#l4.39"></a><span id="l4.39">   {</span>
<a href="#l4.40"></a><span id="l4.40">     m_keys[i] = pPtrBase[i]-&gt;id;</span>
<a href="#l4.41"></a><span id="l4.41" class="difflineat">@@ -5767,17 +5767,17 @@ NS_IMETHODIMP nsMsgDBView::SetSortType(n</span>
<a href="#l4.42"></a><span id="l4.42"> {</span>
<a href="#l4.43"></a><span id="l4.43">     m_sortType = aSortType;</span>
<a href="#l4.44"></a><span id="l4.44">     return NS_OK;</span>
<a href="#l4.45"></a><span id="l4.45"> }</span>
<a href="#l4.46"></a><span id="l4.46"> </span>
<a href="#l4.47"></a><span id="l4.47"> </span>
<a href="#l4.48"></a><span id="l4.48"> NS_IMETHODIMP nsMsgDBView::GetViewType(nsMsgViewTypeValue *aViewType)</span>
<a href="#l4.49"></a><span id="l4.49"> {</span>
<a href="#l4.50"></a><span id="l4.50" class="difflineminus">-    NS_ASSERTION(0,&quot;you should be overriding this\n&quot;);</span>
<a href="#l4.51"></a><span id="l4.51" class="difflineplus">+    NS_ERROR(&quot;you should be overriding this&quot;);</span>
<a href="#l4.52"></a><span id="l4.52">     return NS_ERROR_UNEXPECTED;</span>
<a href="#l4.53"></a><span id="l4.53"> }</span>
<a href="#l4.54"></a><span id="l4.54"> </span>
<a href="#l4.55"></a><span id="l4.55"> NS_IMETHODIMP nsMsgDBView::GetSecondarySortOrder(nsMsgViewSortOrderValue *aSortOrder)</span>
<a href="#l4.56"></a><span id="l4.56"> {</span>
<a href="#l4.57"></a><span id="l4.57">     NS_ENSURE_ARG_POINTER(aSortOrder);</span>
<a href="#l4.58"></a><span id="l4.58">     *aSortOrder = m_secondarySortOrder;</span>
<a href="#l4.59"></a><span id="l4.59">     return NS_OK;</span>
<a href="#l4.60"></a><span id="l4.60" class="difflineat">@@ -6178,17 +6178,17 @@ nsresult nsMsgDBView::NavigateFromPos(ns</span>
<a href="#l4.61"></a><span id="l4.61">             }</span>
<a href="#l4.62"></a><span id="l4.62">           }</span>
<a href="#l4.63"></a><span id="l4.63">           *pResultIndex = nsMsgViewIndex_None;</span>
<a href="#l4.64"></a><span id="l4.64">           *pResultKey = nsMsgKey_None;</span>
<a href="#l4.65"></a><span id="l4.65">           break;</span>
<a href="#l4.66"></a><span id="l4.66"> </span>
<a href="#l4.67"></a><span id="l4.67">         }</span>
<a href="#l4.68"></a><span id="l4.68">         default:</span>
<a href="#l4.69"></a><span id="l4.69" class="difflineminus">-            NS_ASSERTION(0, &quot;unsupported motion&quot;);</span>
<a href="#l4.70"></a><span id="l4.70" class="difflineplus">+            NS_ERROR(&quot;unsupported motion&quot;);</span>
<a href="#l4.71"></a><span id="l4.71">             break;</span>
<a href="#l4.72"></a><span id="l4.72">     }</span>
<a href="#l4.73"></a><span id="l4.73">     return NS_OK;</span>
<a href="#l4.74"></a><span id="l4.74"> }</span>
<a href="#l4.75"></a><span id="l4.75"> </span>
<a href="#l4.76"></a><span id="l4.76"> NS_IMETHODIMP nsMsgDBView::NavigateStatus(nsMsgNavigationTypeValue motion, PRBool *_retval)</span>
<a href="#l4.77"></a><span id="l4.77"> {</span>
<a href="#l4.78"></a><span id="l4.78">     NS_ENSURE_ARG_POINTER(_retval);</span>
<a href="#l4.79"></a><span id="l4.79" class="difflineat">@@ -6269,17 +6269,17 @@ NS_IMETHODIMP nsMsgDBView::NavigateStatu</span>
<a href="#l4.80"></a><span id="l4.80">             else</span>
<a href="#l4.81"></a><span id="l4.81">               desiredPos--; //? operator code didn't work for me</span>
<a href="#l4.82"></a><span id="l4.82">             enable = (desiredPos &gt;= 0 &amp;&amp; desiredPos &lt; (PRInt32) historyCount / 2);</span>
<a href="#l4.83"></a><span id="l4.83">           }</span>
<a href="#l4.84"></a><span id="l4.84">         }</span>
<a href="#l4.85"></a><span id="l4.85">           break;</span>
<a href="#l4.86"></a><span id="l4.86"> </span>
<a href="#l4.87"></a><span id="l4.87">         default:</span>
<a href="#l4.88"></a><span id="l4.88" class="difflineminus">-            NS_ASSERTION(0,&quot;unexpected&quot;);</span>
<a href="#l4.89"></a><span id="l4.89" class="difflineplus">+            NS_ERROR(&quot;unexpected&quot;);</span>
<a href="#l4.90"></a><span id="l4.90">             break;</span>
<a href="#l4.91"></a><span id="l4.91">     }</span>
<a href="#l4.92"></a><span id="l4.92"> </span>
<a href="#l4.93"></a><span id="l4.93">     *_retval = enable;</span>
<a href="#l4.94"></a><span id="l4.94">     return NS_OK;</span>
<a href="#l4.95"></a><span id="l4.95"> }</span>
<a href="#l4.96"></a><span id="l4.96"> </span>
<a href="#l4.97"></a><span id="l4.97"> // Note that these routines do NOT expand collapsed threads! This mimics the old behaviour,</span>
<a href="#l4.98"></a><span id="l4.98" class="difflineat">@@ -6338,17 +6338,17 @@ nsresult nsMsgDBView::FindPrevUnread(nsM</span>
<a href="#l4.99"></a><span id="l4.99">         *resultThreadId = nsMsgKey_None;</span>
<a href="#l4.100"></a><span id="l4.100"> </span>
<a href="#l4.101"></a><span id="l4.101">     for (; (int) curIndex &gt;= 0 &amp;&amp; (*pResultKey == nsMsgKey_None); curIndex--)</span>
<a href="#l4.102"></a><span id="l4.102">     {</span>
<a href="#l4.103"></a><span id="l4.103">         PRUint32 flags = m_flags[curIndex];</span>
<a href="#l4.104"></a><span id="l4.104"> </span>
<a href="#l4.105"></a><span id="l4.105">         if (curIndex != startIndex &amp;&amp; flags &amp; MSG_VIEW_FLAG_ISTHREAD &amp;&amp; flags &amp; nsMsgMessageFlags::Elided)</span>
<a href="#l4.106"></a><span id="l4.106">         {</span>
<a href="#l4.107"></a><span id="l4.107" class="difflineminus">-            NS_ASSERTION(0,&quot;fix this&quot;);</span>
<a href="#l4.108"></a><span id="l4.108" class="difflineplus">+            NS_ERROR(&quot;fix this&quot;);</span>
<a href="#l4.109"></a><span id="l4.109">             //nsMsgKey threadId = m_keys[curIndex];</span>
<a href="#l4.110"></a><span id="l4.110">             //rv = m_db-&gt;GetUnreadKeyInThread(threadId, pResultKey, resultThreadId);</span>
<a href="#l4.111"></a><span id="l4.111">             if (NS_SUCCEEDED(rv) &amp;&amp; (*pResultKey != nsMsgKey_None))</span>
<a href="#l4.112"></a><span id="l4.112">                 break;</span>
<a href="#l4.113"></a><span id="l4.113">         }</span>
<a href="#l4.114"></a><span id="l4.114">         if (!(flags &amp; (nsMsgMessageFlags::Read | MSG_VIEW_FLAG_DUMMY)) &amp;&amp; (curIndex != startIndex))</span>
<a href="#l4.115"></a><span id="l4.115">         {</span>
<a href="#l4.116"></a><span id="l4.116">             *pResultKey = m_keys[curIndex];</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/base/util/nsMsgI18N.cpp</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/base/util/nsMsgI18N.cpp</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -335,17 +335,17 @@ nsMsgI18NParseMetaCharset(nsILocalFile* </span>
<a href="#l5.4"></a><span id="l5.4"> { </span>
<a href="#l5.5"></a><span id="l5.5">   static char charset[nsIMimeConverter::MAX_CHARSET_NAME_LENGTH+1];</span>
<a href="#l5.6"></a><span id="l5.6"> </span>
<a href="#l5.7"></a><span id="l5.7">   *charset = '\0'; </span>
<a href="#l5.8"></a><span id="l5.8"> </span>
<a href="#l5.9"></a><span id="l5.9">   PRBool isDirectory = PR_FALSE;</span>
<a href="#l5.10"></a><span id="l5.10">   file-&gt;IsDirectory(&amp;isDirectory);</span>
<a href="#l5.11"></a><span id="l5.11">   if (isDirectory) {</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-    NS_ASSERTION(0,&quot;file is a directory&quot;);</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+    NS_ERROR(&quot;file is a directory&quot;);</span>
<a href="#l5.14"></a><span id="l5.14">     return charset; </span>
<a href="#l5.15"></a><span id="l5.15">   }</span>
<a href="#l5.16"></a><span id="l5.16"> </span>
<a href="#l5.17"></a><span id="l5.17">   nsresult rv;</span>
<a href="#l5.18"></a><span id="l5.18">   nsCOMPtr &lt;nsIFileInputStream&gt; fileStream = do_CreateInstance(NS_LOCALFILEINPUTSTREAM_CONTRACTID, &amp;rv);</span>
<a href="#l5.19"></a><span id="l5.19">   NS_ENSURE_SUCCESS(rv, charset);</span>
<a href="#l5.20"></a><span id="l5.20">   </span>
<a href="#l5.21"></a><span id="l5.21">   rv = fileStream-&gt;Init(file, PR_RDONLY, 0664, PR_FALSE);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/compose/src/nsMsgCompFields.cpp</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/compose/src/nsMsgCompFields.cpp</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -243,17 +243,17 @@ NS_IMETHODIMP nsMsgCompFields::SetSubjec</span>
<a href="#l6.4"></a><span id="l6.4"> </span>
<a href="#l6.5"></a><span id="l6.5"> NS_IMETHODIMP nsMsgCompFields::GetSubject(nsAString &amp;_retval)</span>
<a href="#l6.6"></a><span id="l6.6"> {</span>
<a href="#l6.7"></a><span id="l6.7">   return GetUnicodeHeader(MSG_SUBJECT_HEADER_ID, _retval);</span>
<a href="#l6.8"></a><span id="l6.8"> }</span>
<a href="#l6.9"></a><span id="l6.9"> </span>
<a href="#l6.10"></a><span id="l6.10"> NS_IMETHODIMP nsMsgCompFields::SetTemporaryFiles(const char *value)</span>
<a href="#l6.11"></a><span id="l6.11"> {</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-  NS_ASSERTION(0, &quot;nsMsgCompFields::SetTemporaryFiles is not supported anymore, please use nsMsgCompFields::AddAttachment&quot;);</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+  NS_ERROR(&quot;nsMsgCompFields::SetTemporaryFiles is not supported anymore, please use nsMsgCompFields::AddAttachment&quot;);</span>
<a href="#l6.14"></a><span id="l6.14">   return SetAsciiHeader(MSG_TEMPORARY_FILES_HEADER_ID, value);</span>
<a href="#l6.15"></a><span id="l6.15"> }</span>
<a href="#l6.16"></a><span id="l6.16"> </span>
<a href="#l6.17"></a><span id="l6.17"> NS_IMETHODIMP nsMsgCompFields::GetTemporaryFiles(char **_retval)</span>
<a href="#l6.18"></a><span id="l6.18"> {</span>
<a href="#l6.19"></a><span id="l6.19">   *_retval = strdup(GetAsciiHeader(MSG_TEMPORARY_FILES_HEADER_ID));</span>
<a href="#l6.20"></a><span id="l6.20">   return *_retval ? NS_OK : NS_ERROR_OUT_OF_MEMORY;</span>
<a href="#l6.21"></a><span id="l6.21"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/compose/src/nsMsgCompFields.h</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/compose/src/nsMsgCompFields.h</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -146,22 +146,22 @@ public:</span>
<a href="#l7.4"></a><span id="l7.4"> </span>
<a href="#l7.5"></a><span id="l7.5">   nsresult SetFollowupTo(const char *aValue) {return SetAsciiHeader(MSG_FOLLOWUP_TO_HEADER_ID, aValue);}</span>
<a href="#l7.6"></a><span id="l7.6">   const char* GetFollowupTo() {return GetAsciiHeader(MSG_FOLLOWUP_TO_HEADER_ID);}</span>
<a href="#l7.7"></a><span id="l7.7"> </span>
<a href="#l7.8"></a><span id="l7.8">   nsresult SetSubject(const char *value) {return SetAsciiHeader(MSG_SUBJECT_HEADER_ID, value);}</span>
<a href="#l7.9"></a><span id="l7.9">   const char* GetSubject() {return GetAsciiHeader(MSG_SUBJECT_HEADER_ID);}</span>
<a href="#l7.10"></a><span id="l7.10"> </span>
<a href="#l7.11"></a><span id="l7.11">   const char* GetAttachments() {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-    NS_ASSERTION(0, &quot;nsMsgCompFields::GetAttachments is not supported anymore, please use nsMsgCompFields::GetAttachmentsArray&quot;);</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+    NS_ERROR(&quot;nsMsgCompFields::GetAttachments is not supported anymore, please use nsMsgCompFields::GetAttachmentsArray&quot;);</span>
<a href="#l7.14"></a><span id="l7.14">     return GetAsciiHeader(MSG_ATTACHMENTS_HEADER_ID);</span>
<a href="#l7.15"></a><span id="l7.15">     }</span>
<a href="#l7.16"></a><span id="l7.16"> </span>
<a href="#l7.17"></a><span id="l7.17">   const char* GetTemporaryFiles() {</span>
<a href="#l7.18"></a><span id="l7.18" class="difflineminus">-    NS_ASSERTION(0, &quot;nsMsgCompFields::GetTemporaryFiles is not supported anymore, please use nsMsgCompFields::GetAttachmentsArray&quot;);</span>
<a href="#l7.19"></a><span id="l7.19" class="difflineplus">+    NS_ERROR(&quot;nsMsgCompFields::GetTemporaryFiles is not supported anymore, please use nsMsgCompFields::GetAttachmentsArray&quot;);</span>
<a href="#l7.20"></a><span id="l7.20">     return GetAsciiHeader(MSG_TEMPORARY_FILES_HEADER_ID);</span>
<a href="#l7.21"></a><span id="l7.21">     }</span>
<a href="#l7.22"></a><span id="l7.22"> </span>
<a href="#l7.23"></a><span id="l7.23">   nsresult SetOrganization(const char *value) {return SetAsciiHeader(MSG_ORGANIZATION_HEADER_ID, value);}</span>
<a href="#l7.24"></a><span id="l7.24">   const char* GetOrganization() {return GetAsciiHeader(MSG_ORGANIZATION_HEADER_ID);}</span>
<a href="#l7.25"></a><span id="l7.25"> </span>
<a href="#l7.26"></a><span id="l7.26">   const char* GetReferences() {return GetAsciiHeader(MSG_REFERENCES_HEADER_ID);}</span>
<a href="#l7.27"></a><span id="l7.27"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/mailnews/compose/src/nsMsgCompose.cpp</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/mailnews/compose/src/nsMsgCompose.cpp</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -3832,17 +3832,17 @@ nsMsgCompose::LoadDataFromFile(nsILocalF</span>
<a href="#l8.4"></a><span id="l8.4">   PRInt32       readSize;</span>
<a href="#l8.5"></a><span id="l8.5">   PRUint32       nGot;</span>
<a href="#l8.6"></a><span id="l8.6">   char          *readBuf;</span>
<a href="#l8.7"></a><span id="l8.7">   char          *ptr;</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9">   PRBool isDirectory = PR_FALSE;</span>
<a href="#l8.10"></a><span id="l8.10">   file-&gt;IsDirectory(&amp;isDirectory);</span>
<a href="#l8.11"></a><span id="l8.11">   if (isDirectory) {</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-    NS_ASSERTION(0,&quot;file is a directory&quot;);</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+    NS_ERROR(&quot;file is a directory&quot;);</span>
<a href="#l8.14"></a><span id="l8.14">     return NS_MSG_ERROR_READING_FILE;</span>
<a href="#l8.15"></a><span id="l8.15">   }</span>
<a href="#l8.16"></a><span id="l8.16"> </span>
<a href="#l8.17"></a><span id="l8.17"> </span>
<a href="#l8.18"></a><span id="l8.18">   nsCOMPtr &lt;nsIInputStream&gt; inputFile;</span>
<a href="#l8.19"></a><span id="l8.19">   nsresult rv = NS_NewLocalFileInputStream(getter_AddRefs(inputFile), file);</span>
<a href="#l8.20"></a><span id="l8.20">   if (NS_FAILED(rv))</span>
<a href="#l8.21"></a><span id="l8.21">     return NS_MSG_ERROR_READING_FILE;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/mailnews/compose/src/nsMsgSend.cpp</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/mailnews/compose/src/nsMsgSend.cpp</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -3657,17 +3657,17 @@ nsMsgComposeAndSend::DeliverFileAsMail()</span>
<a href="#l9.4"></a><span id="l9.4">     // &quot;prefers&quot; attribute in the ab.</span>
<a href="#l9.5"></a><span id="l9.5">     // see bug #245520 for more details</span>
<a href="#l9.6"></a><span id="l9.6">     // sendFormat = nsIAbPreferMailFormat::plaintext;</span>
<a href="#l9.7"></a><span id="l9.7">     sendFormat = nsIAbPreferMailFormat::unknown;</span>
<a href="#l9.8"></a><span id="l9.8">   }</span>
<a href="#l9.9"></a><span id="l9.9">   else if (!forcePlainText)</span>
<a href="#l9.10"></a><span id="l9.10">     sendFormat = nsIAbPreferMailFormat::html;</span>
<a href="#l9.11"></a><span id="l9.11">   else</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-    NS_ASSERTION(0,&quot;unknown send format, should not happen&quot;);</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+    NS_ERROR(&quot;unknown send format, should not happen&quot;);</span>
<a href="#l9.14"></a><span id="l9.14"> #endif</span>
<a href="#l9.15"></a><span id="l9.15"> </span>
<a href="#l9.16"></a><span id="l9.16">   PL_strcpy (buf, &quot;&quot;);</span>
<a href="#l9.17"></a><span id="l9.17">   buf2 = buf + PL_strlen (buf);</span>
<a href="#l9.18"></a><span id="l9.18">   if (mCompFields-&gt;GetTo() &amp;&amp; *mCompFields-&gt;GetTo())</span>
<a href="#l9.19"></a><span id="l9.19">   {</span>
<a href="#l9.20"></a><span id="l9.20">     PL_strcat (buf2, mCompFields-&gt;GetTo());</span>
<a href="#l9.21"></a><span id="l9.21">     if (addressCollector)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/mailnews/db/msgdb/src/nsImapMailDatabase.cpp</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/mailnews/db/msgdb/src/nsImapMailDatabase.cpp</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -131,17 +131,17 @@ NS_IMETHODIMP nsImapMailDatabase::ForceC</span>
<a href="#l10.4"></a><span id="l10.4"> </span>
<a href="#l10.5"></a><span id="l10.5"> NS_IMETHODIMP nsImapMailDatabase::GetFolderStream(nsIOutputStream **aFileStream)</span>
<a href="#l10.6"></a><span id="l10.6"> {</span>
<a href="#l10.7"></a><span id="l10.7">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l10.8"></a><span id="l10.8"> }</span>
<a href="#l10.9"></a><span id="l10.9"> </span>
<a href="#l10.10"></a><span id="l10.10"> NS_IMETHODIMP nsImapMailDatabase::SetFolderStream(nsIOutputStream *aFileStream)</span>
<a href="#l10.11"></a><span id="l10.11"> {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-  NS_ASSERTION(0, &quot;Trying to set folderStream, not implemented&quot;);</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+  NS_ERROR(&quot;Trying to set folderStream, not implemented&quot;);</span>
<a href="#l10.14"></a><span id="l10.14">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l10.15"></a><span id="l10.15"> }</span>
<a href="#l10.16"></a><span id="l10.16"> </span>
<a href="#l10.17"></a><span id="l10.17"> nsresult nsImapMailDatabase::GetAllPendingHdrsTable()</span>
<a href="#l10.18"></a><span id="l10.18"> {</span>
<a href="#l10.19"></a><span id="l10.19">   nsresult rv = NS_OK;</span>
<a href="#l10.20"></a><span id="l10.20">   if (!m_mdbAllPendingHdrsTable)</span>
<a href="#l10.21"></a><span id="l10.21">     rv = GetTableCreateIfMissing(kPendingHdrsScope, kPendingHdrsTableKind, getter_AddRefs(m_mdbAllPendingHdrsTable),</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/mailnews/db/msgdb/src/nsMsgDatabase.cpp</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/mailnews/db/msgdb/src/nsMsgDatabase.cpp</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -5343,17 +5343,17 @@ NS_IMETHODIMP nsMsgDatabase::ResetHdrCac</span>
<a href="#l11.4"></a><span id="l11.4"> </span>
<a href="#l11.5"></a><span id="l11.5"> NS_IMETHODIMP nsMsgDatabase::GetFolderStream(nsIOutputStream **aFileStream)</span>
<a href="#l11.6"></a><span id="l11.6"> {</span>
<a href="#l11.7"></a><span id="l11.7">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l11.8"></a><span id="l11.8"> }</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10"> NS_IMETHODIMP nsMsgDatabase::SetFolderStream(nsIOutputStream *aFileStream)</span>
<a href="#l11.11"></a><span id="l11.11"> {</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-  NS_ASSERTION(0, &quot;Trying to set the folderStream, not implemented&quot;);</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+  NS_ERROR(&quot;Trying to set the folderStream, not implemented&quot;);</span>
<a href="#l11.14"></a><span id="l11.14">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l11.15"></a><span id="l11.15"> }</span>
<a href="#l11.16"></a><span id="l11.16"> </span>
<a href="#l11.17"></a><span id="l11.17"> /**</span>
<a href="#l11.18"></a><span id="l11.18">   void getNewList(out unsigned long count, [array, size_is(count)] out long newKeys);</span>
<a href="#l11.19"></a><span id="l11.19">  */</span>
<a href="#l11.20"></a><span id="l11.20"> NS_IMETHODIMP</span>
<a href="#l11.21"></a><span id="l11.21"> nsMsgDatabase::GetNewList(PRUint32 *aCount, PRUint32 **aNewKeys)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/mailnews/imap/src/nsImapMailFolder.cpp</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/mailnews/imap/src/nsImapMailFolder.cpp</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1758,17 +1758,17 @@ NS_IMETHODIMP nsImapMailFolder::RenameLo</span>
<a href="#l12.4"></a><span id="l12.4">       return dirFile-&gt;MoveToNative(nsnull, newNameStr);      // in case of rename operation leaf names will differ</span>
<a href="#l12.5"></a><span id="l12.5"> </span>
<a href="#l12.6"></a><span id="l12.6">     parentPathFile-&gt;AppendNative(newNameStr);    //only for move we need to progress further in case the parent differs</span>
<a href="#l12.7"></a><span id="l12.7">     PRBool isDirectory = PR_FALSE;</span>
<a href="#l12.8"></a><span id="l12.8">     parentPathFile-&gt;IsDirectory(&amp;isDirectory);</span>
<a href="#l12.9"></a><span id="l12.9">     if (!isDirectory)</span>
<a href="#l12.10"></a><span id="l12.10">       parentPathFile-&gt;Create(nsIFile::DIRECTORY_TYPE, 0700);</span>
<a href="#l12.11"></a><span id="l12.11">     else</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-      NS_ASSERTION(0,&quot;Directory already exists.&quot;);</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineplus">+      NS_ERROR(&quot;Directory already exists.&quot;);</span>
<a href="#l12.14"></a><span id="l12.14">     rv = RecursiveCopy(dirFile, parentPathFile);</span>
<a href="#l12.15"></a><span id="l12.15">     NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l12.16"></a><span id="l12.16">     dirFile-&gt;Remove(PR_TRUE);                         // moving folders</span>
<a href="#l12.17"></a><span id="l12.17">   }</span>
<a href="#l12.18"></a><span id="l12.18">   return rv;</span>
<a href="#l12.19"></a><span id="l12.19"> }</span>
<a href="#l12.20"></a><span id="l12.20"> </span>
<a href="#l12.21"></a><span id="l12.21"> NS_IMETHODIMP nsImapMailFolder::GetPrettyName(nsAString&amp; prettyName)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/mailnews/imap/src/nsImapService.cpp</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/mailnews/imap/src/nsImapService.cpp</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -693,17 +693,17 @@ nsresult nsImapService::FetchMimePart(ns</span>
<a href="#l13.4"></a><span id="l13.4">         rv = aChannel-&gt;AsyncOpen(aStreamListener, aCtxt);</span>
<a href="#l13.5"></a><span id="l13.5">       }</span>
<a href="#l13.6"></a><span id="l13.6">       else // do what we used to do before</span>
<a href="#l13.7"></a><span id="l13.7">       {</span>
<a href="#l13.8"></a><span id="l13.8">         // I'd like to get rid of this code as I believe that we always get a docshell</span>
<a href="#l13.9"></a><span id="l13.9">         // or stream listener passed into us in this method but i'm not sure yet...</span>
<a href="#l13.10"></a><span id="l13.10">         // I'm going to use an assert for now to figure out if this is ever getting called</span>
<a href="#l13.11"></a><span id="l13.11"> #if defined(DEBUG_mscott) || defined(DEBUG_bienvenu)</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-        NS_ASSERTION(0, &quot;oops...someone still is reaching this part of the code&quot;);</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+        NS_ERROR(&quot;oops...someone still is reaching this part of the code&quot;);</span>
<a href="#l13.14"></a><span id="l13.14"> #endif</span>
<a href="#l13.15"></a><span id="l13.15">         rv = GetImapConnectionAndLoadUrl(NS_GetCurrentThread(), aImapUrl,</span>
<a href="#l13.16"></a><span id="l13.16">                                          aDisplayConsumer, aURL);</span>
<a href="#l13.17"></a><span id="l13.17">       }</span>
<a href="#l13.18"></a><span id="l13.18">     }</span>
<a href="#l13.19"></a><span id="l13.19">   }</span>
<a href="#l13.20"></a><span id="l13.20">   return rv;</span>
<a href="#l13.21"></a><span id="l13.21"> }</span>
<a href="#l13.22"></a><span id="l13.22" class="difflineat">@@ -1132,17 +1132,17 @@ nsresult nsImapService::GetMessageFromUr</span>
<a href="#l13.23"></a><span id="l13.23">       rv = channel-&gt;AsyncOpen(streamListener, aCtxt);</span>
<a href="#l13.24"></a><span id="l13.24">     }</span>
<a href="#l13.25"></a><span id="l13.25">     else // do what we used to do before</span>
<a href="#l13.26"></a><span id="l13.26">     {</span>
<a href="#l13.27"></a><span id="l13.27">       // I'd like to get rid of this code as I believe that we always get a docshell</span>
<a href="#l13.28"></a><span id="l13.28">       // or stream listener passed into us in this method but i'm not sure yet...</span>
<a href="#l13.29"></a><span id="l13.29">       // I'm going to use an assert for now to figure out if this is ever getting called</span>
<a href="#l13.30"></a><span id="l13.30"> #if defined(DEBUG_mscott) || defined(DEBUG_bienvenu)</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineminus">-      NS_ASSERTION(0, &quot;oops...someone still is reaching this part of the code&quot;);</span>
<a href="#l13.32"></a><span id="l13.32" class="difflineplus">+      NS_ERROR(&quot;oops...someone still is reaching this part of the code&quot;);</span>
<a href="#l13.33"></a><span id="l13.33"> #endif</span>
<a href="#l13.34"></a><span id="l13.34">       rv = GetImapConnectionAndLoadUrl(NS_GetCurrentThread(), aImapUrl,</span>
<a href="#l13.35"></a><span id="l13.35">                                        aDisplayConsumer, aURL);</span>
<a href="#l13.36"></a><span id="l13.36">     }</span>
<a href="#l13.37"></a><span id="l13.37">   }</span>
<a href="#l13.38"></a><span id="l13.38">   return rv;</span>
<a href="#l13.39"></a><span id="l13.39"> }</span>
<a href="#l13.40"></a><span id="l13.40"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/mailnews/local/src/nsLocalMailFolder.cpp</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/mailnews/local/src/nsLocalMailFolder.cpp</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -1653,17 +1653,17 @@ nsMsgLocalMailFolder::CopyMessages(nsIMs</span>
<a href="#l14.4"></a><span id="l14.4">                                    nsIMsgCopyServiceListener* listener,</span>
<a href="#l14.5"></a><span id="l14.5">                                    PRBool isFolder, PRBool allowUndo)</span>
<a href="#l14.6"></a><span id="l14.6"> {</span>
<a href="#l14.7"></a><span id="l14.7">   nsCOMPtr&lt;nsISupports&gt; srcSupport = do_QueryInterface(srcFolder);</span>
<a href="#l14.8"></a><span id="l14.8">   PRBool isServer;</span>
<a href="#l14.9"></a><span id="l14.9">   nsresult rv = GetIsServer(&amp;isServer);</span>
<a href="#l14.10"></a><span id="l14.10">   if (NS_SUCCEEDED(rv) &amp;&amp; isServer)</span>
<a href="#l14.11"></a><span id="l14.11">   {</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-    NS_ASSERTION(0, &quot;Destination is the root folder. Cannot move/copy here&quot;);</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+    NS_ERROR(&quot;Destination is the root folder. Cannot move/copy here&quot;);</span>
<a href="#l14.14"></a><span id="l14.14">     if (isMove)</span>
<a href="#l14.15"></a><span id="l14.15">       srcFolder-&gt;NotifyFolderEvent(mDeleteOrMoveMsgFailedAtom);</span>
<a href="#l14.16"></a><span id="l14.16">     return OnCopyCompleted(srcSupport, PR_FALSE);</span>
<a href="#l14.17"></a><span id="l14.17">   }</span>
<a href="#l14.18"></a><span id="l14.18"> </span>
<a href="#l14.19"></a><span id="l14.19">   if (!(mFlags &amp; (nsMsgFolderFlags::Trash|nsMsgFolderFlags::Junk)))</span>
<a href="#l14.20"></a><span id="l14.20">     SetMRUTime();</span>
<a href="#l14.21"></a><span id="l14.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/mailnews/local/src/nsRssService.cpp</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/mailnews/local/src/nsRssService.cpp</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -73,35 +73,31 @@ NS_IMETHODIMP nsRssService::GetDefaultLo</span>
<a href="#l15.4"></a><span id="l15.4">    </span>
<a href="#l15.5"></a><span id="l15.5">     NS_IF_ADDREF(*aDefaultLocalPath = localFile);</span>
<a href="#l15.6"></a><span id="l15.6">     return NS_OK;</span>
<a href="#l15.7"></a><span id="l15.7"> </span>
<a href="#l15.8"></a><span id="l15.8"> }</span>
<a href="#l15.9"></a><span id="l15.9"> </span>
<a href="#l15.10"></a><span id="l15.10"> NS_IMETHODIMP nsRssService::SetDefaultLocalPath(nsILocalFile * aDefaultLocalPath)</span>
<a href="#l15.11"></a><span id="l15.11"> {</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-    NS_ASSERTION(0,&quot;foo&quot;);</span>
<a href="#l15.13"></a><span id="l15.13">     return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l15.14"></a><span id="l15.14"> }</span>
<a href="#l15.15"></a><span id="l15.15"> </span>
<a href="#l15.16"></a><span id="l15.16"> NS_IMETHODIMP nsRssService::GetServerIID(nsIID * *aServerIID)</span>
<a href="#l15.17"></a><span id="l15.17"> {</span>
<a href="#l15.18"></a><span id="l15.18" class="difflineminus">-    NS_ASSERTION(0,&quot;foo&quot;);</span>
<a href="#l15.19"></a><span id="l15.19">     return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l15.20"></a><span id="l15.20"> }</span>
<a href="#l15.21"></a><span id="l15.21"> </span>
<a href="#l15.22"></a><span id="l15.22"> NS_IMETHODIMP nsRssService::GetRequiresUsername(PRBool *aRequiresUsername)</span>
<a href="#l15.23"></a><span id="l15.23"> {</span>
<a href="#l15.24"></a><span id="l15.24" class="difflineminus">-    NS_ASSERTION(0,&quot;foo&quot;);</span>
<a href="#l15.25"></a><span id="l15.25">     return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l15.26"></a><span id="l15.26"> }</span>
<a href="#l15.27"></a><span id="l15.27"> </span>
<a href="#l15.28"></a><span id="l15.28"> NS_IMETHODIMP nsRssService::GetPreflightPrettyNameWithEmailAddress(PRBool *aPreflightPrettyNameWithEmailAddress)</span>
<a href="#l15.29"></a><span id="l15.29"> {</span>
<a href="#l15.30"></a><span id="l15.30" class="difflineminus">-    NS_ASSERTION(0,&quot;foo&quot;);</span>
<a href="#l15.31"></a><span id="l15.31">     return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l15.32"></a><span id="l15.32"> }</span>
<a href="#l15.33"></a><span id="l15.33"> </span>
<a href="#l15.34"></a><span id="l15.34"> NS_IMETHODIMP nsRssService::GetCanDelete(PRBool *aCanDelete)</span>
<a href="#l15.35"></a><span id="l15.35"> {</span>
<a href="#l15.36"></a><span id="l15.36">     NS_ENSURE_ARG_POINTER(aCanDelete);</span>
<a href="#l15.37"></a><span id="l15.37">     *aCanDelete = PR_TRUE;</span>
<a href="#l15.38"></a><span id="l15.38">     return NS_OK;</span>
<a href="#l15.39"></a><span id="l15.39" class="difflineat">@@ -153,11 +149,10 @@ NS_IMETHODIMP nsRssService::GetShowCompo</span>
<a href="#l15.40"></a><span id="l15.40"> {</span>
<a href="#l15.41"></a><span id="l15.41">     NS_ENSURE_ARG_POINTER(aShowComposeMsgLink);</span>
<a href="#l15.42"></a><span id="l15.42">     *aShowComposeMsgLink = PR_FALSE;    </span>
<a href="#l15.43"></a><span id="l15.43">     return NS_OK;</span>
<a href="#l15.44"></a><span id="l15.44"> }</span>
<a href="#l15.45"></a><span id="l15.45"> </span>
<a href="#l15.46"></a><span id="l15.46"> NS_IMETHODIMP nsRssService::GetSpecialFoldersDeletionAllowed(PRBool *aSpecialFoldersDeletionAllowed)</span>
<a href="#l15.47"></a><span id="l15.47"> {</span>
<a href="#l15.48"></a><span id="l15.48" class="difflineminus">-    NS_ASSERTION(0,&quot;foo&quot;);</span>
<a href="#l15.49"></a><span id="l15.49">     return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l15.50"></a><span id="l15.50"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/mailnews/mime/src/mimecryp.cpp</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/mailnews/mime/src/mimecryp.cpp</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -173,18 +173,17 @@ MimeEncrypted_parse_buffer (const char *</span>
<a href="#l16.4"></a><span id="l16.4">                                    size,</span>
<a href="#l16.5"></a><span id="l16.5">                                    obj);</span>
<a href="#l16.6"></a><span id="l16.6"> }</span>
<a href="#l16.7"></a><span id="l16.7"> </span>
<a href="#l16.8"></a><span id="l16.8"> </span>
<a href="#l16.9"></a><span id="l16.9"> static int</span>
<a href="#l16.10"></a><span id="l16.10"> MimeEncrypted_parse_line (const char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l16.11"></a><span id="l16.11"> {</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-  NS_ASSERTION(0, &quot;1.2 &lt;mscott@netscape.com&gt; 01 Nov 2001 17:59&quot;);</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-  /* This method shouldn't ever be called. */</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineplus">+  NS_ERROR(&quot;This method shouldn't ever be called.&quot;);</span>
<a href="#l16.15"></a><span id="l16.15">   return -1;</span>
<a href="#l16.16"></a><span id="l16.16"> }</span>
<a href="#l16.17"></a><span id="l16.17"> </span>
<a href="#l16.18"></a><span id="l16.18"> static int</span>
<a href="#l16.19"></a><span id="l16.19"> MimeEncrypted_parse_decoded_buffer (const char *buffer, PRInt32 size, MimeObject *obj)</span>
<a href="#l16.20"></a><span id="l16.20"> {</span>
<a href="#l16.21"></a><span id="l16.21">   MimeEncrypted *enc = (MimeEncrypted *) obj;</span>
<a href="#l16.22"></a><span id="l16.22">   return</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/mailnews/mime/src/mimeenc.cpp</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/mailnews/mime/src/mimeenc.cpp</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -216,33 +216,35 @@ mime_decode_base64_token (const char *in</span>
<a href="#l17.4"></a><span id="l17.4">     unsigned char c = 0;</span>
<a href="#l17.5"></a><span id="l17.5">     if (in[j] &gt;= 'A' &amp;&amp; in[j] &lt;= 'Z')     c = in[j] - 'A';</span>
<a href="#l17.6"></a><span id="l17.6">     else if (in[j] &gt;= 'a' &amp;&amp; in[j] &lt;= 'z') c = in[j] - ('a' - 26);</span>
<a href="#l17.7"></a><span id="l17.7">     else if (in[j] &gt;= '0' &amp;&amp; in[j] &lt;= '9') c = in[j] - ('0' - 52);</span>
<a href="#l17.8"></a><span id="l17.8">     else if (in[j] == '+')         c = 62;</span>
<a href="#l17.9"></a><span id="l17.9">     else if (in[j] == '/')         c = 63;</span>
<a href="#l17.10"></a><span id="l17.10">     else if (in[j] == '=')         c = 0, eq_count++;</span>
<a href="#l17.11"></a><span id="l17.11">     else</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-    NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+    NS_ERROR(&quot;Invalid character&quot;);</span>
<a href="#l17.14"></a><span id="l17.14">     num = (num &lt;&lt; 6) | c;</span>
<a href="#l17.15"></a><span id="l17.15">   }</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17">   *out++ = (char) (num &gt;&gt; 16);</span>
<a href="#l17.18"></a><span id="l17.18">   *out++ = (char) ((num &gt;&gt; 8) &amp; 0xFF);</span>
<a href="#l17.19"></a><span id="l17.19">   *out++ = (char) (num &amp; 0xFF);</span>
<a href="#l17.20"></a><span id="l17.20"> </span>
<a href="#l17.21"></a><span id="l17.21">   if (eq_count == 0)</span>
<a href="#l17.22"></a><span id="l17.22">   return 3;        /* No &quot;=&quot; padding means 4 bytes mapped to 3. */</span>
<a href="#l17.23"></a><span id="l17.23">   else if (eq_count == 1)</span>
<a href="#l17.24"></a><span id="l17.24">   return 2;        /* &quot;xxx=&quot; means 3 bytes mapped to 2. */</span>
<a href="#l17.25"></a><span id="l17.25">   else if (eq_count == 2)</span>
<a href="#l17.26"></a><span id="l17.26">   return 1;        /* &quot;xx==&quot; means 2 bytes mapped to 1. */</span>
<a href="#l17.27"></a><span id="l17.27">   else</span>
<a href="#l17.28"></a><span id="l17.28" class="difflineminus">-  {            /* &quot;x===&quot; can't happen, because &quot;x&quot; would then */</span>
<a href="#l17.29"></a><span id="l17.29" class="difflineminus">-    NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);      /* be encoding only 6 bits, not the min of 8. */</span>
<a href="#l17.30"></a><span id="l17.30" class="difflineplus">+  {</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineplus">+    // &quot;x===&quot; can't happen, because &quot;x&quot; would then be encoding only</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+    // 6 bits, not the min of 8.</span>
<a href="#l17.33"></a><span id="l17.33" class="difflineplus">+    NS_ERROR(&quot;Count is 6 bits, should be at least 8&quot;);</span>
<a href="#l17.34"></a><span id="l17.34">     return 1;</span>
<a href="#l17.35"></a><span id="l17.35">   }</span>
<a href="#l17.36"></a><span id="l17.36"> }</span>
<a href="#l17.37"></a><span id="l17.37"> </span>
<a href="#l17.38"></a><span id="l17.38"> </span>
<a href="#l17.39"></a><span id="l17.39"> static int</span>
<a href="#l17.40"></a><span id="l17.40"> mime_decode_base64_buffer (MimeDecoderData *data,</span>
<a href="#l17.41"></a><span id="l17.41">                const char *buffer, PRInt32 length)</span>
<a href="#l17.42"></a><span id="l17.42" class="difflineat">@@ -836,17 +838,17 @@ MimeDecoderWrite (MimeDecoderData *data,</span>
<a href="#l17.43"></a><span id="l17.43">     return mime_decode_base64_buffer (data, buffer, size);</span>
<a href="#l17.44"></a><span id="l17.44">   case mime_QuotedPrintable:</span>
<a href="#l17.45"></a><span id="l17.45">     return mime_decode_qp_buffer (data, buffer, size);</span>
<a href="#l17.46"></a><span id="l17.46">   case mime_uuencode:</span>
<a href="#l17.47"></a><span id="l17.47">     return mime_decode_uue_buffer (data, buffer, size);</span>
<a href="#l17.48"></a><span id="l17.48">   case mime_yencode:</span>
<a href="#l17.49"></a><span id="l17.49">     return mime_decode_yenc_buffer (data, buffer, size);</span>
<a href="#l17.50"></a><span id="l17.50">   default:</span>
<a href="#l17.51"></a><span id="l17.51" class="difflineminus">-    NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l17.52"></a><span id="l17.52" class="difflineplus">+    NS_ERROR(&quot;Invalid decoding&quot;);</span>
<a href="#l17.53"></a><span id="l17.53">     return -1;</span>
<a href="#l17.54"></a><span id="l17.54">   }</span>
<a href="#l17.55"></a><span id="l17.55"> }</span>
<a href="#l17.56"></a><span id="l17.56"> </span>
<a href="#l17.57"></a><span id="l17.57"> </span>
<a href="#l17.58"></a><span id="l17.58"> </span>
<a href="#l17.59"></a><span id="l17.59"> /* ================== Encoders.</span>
<a href="#l17.60"></a><span id="l17.60">  */</span>
<a href="#l17.61"></a><span id="l17.61" class="difflineat">@@ -883,17 +885,17 @@ mime_encode_base64_buffer (MimeEncoderDa</span>
<a href="#l17.62"></a><span id="l17.62">   char *out = out_buffer;</span>
<a href="#l17.63"></a><span id="l17.63">   PRUint32 i = 0, n = 0;</span>
<a href="#l17.64"></a><span id="l17.64">   PRUint32 off;</span>
<a href="#l17.65"></a><span id="l17.65"> </span>
<a href="#l17.66"></a><span id="l17.66">   if (size == 0)</span>
<a href="#l17.67"></a><span id="l17.67">   return 0;</span>
<a href="#l17.68"></a><span id="l17.68">   else if (size &lt; 0)</span>
<a href="#l17.69"></a><span id="l17.69">   {</span>
<a href="#l17.70"></a><span id="l17.70" class="difflineminus">-    NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l17.71"></a><span id="l17.71" class="difflineplus">+    NS_ERROR(&quot;Size is less than 0&quot;);</span>
<a href="#l17.72"></a><span id="l17.72">     return -1;</span>
<a href="#l17.73"></a><span id="l17.73">   }</span>
<a href="#l17.74"></a><span id="l17.74"> </span>
<a href="#l17.75"></a><span id="l17.75"> </span>
<a href="#l17.76"></a><span id="l17.76">   /* If this input buffer is too small, wait until next time. */</span>
<a href="#l17.77"></a><span id="l17.77">   if (size &lt; (3 - data-&gt;in_buffer_count))</span>
<a href="#l17.78"></a><span id="l17.78">   {</span>
<a href="#l17.79"></a><span id="l17.79">     NS_ASSERTION(size &lt; 3 &amp;&amp; size &gt; 0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l17.80"></a><span id="l17.80" class="difflineat">@@ -1221,12 +1223,12 @@ MimeEncoderWrite (MimeEncoderData *data,</span>
<a href="#l17.81"></a><span id="l17.81">   if (!data) return -1;</span>
<a href="#l17.82"></a><span id="l17.82">   switch(data-&gt;encoding)</span>
<a href="#l17.83"></a><span id="l17.83">   {</span>
<a href="#l17.84"></a><span id="l17.84">   case mime_Base64:</span>
<a href="#l17.85"></a><span id="l17.85">     return mime_encode_base64_buffer (data, buffer, size);</span>
<a href="#l17.86"></a><span id="l17.86">   case mime_QuotedPrintable:</span>
<a href="#l17.87"></a><span id="l17.87">     return mime_encode_qp_buffer (data, buffer, size);</span>
<a href="#l17.88"></a><span id="l17.88">   default:</span>
<a href="#l17.89"></a><span id="l17.89" class="difflineminus">-    NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l17.90"></a><span id="l17.90" class="difflineplus">+    NS_ERROR(&quot;Invalid encoding&quot;);</span>
<a href="#l17.91"></a><span id="l17.91">     return -1;</span>
<a href="#l17.92"></a><span id="l17.92">   }</span>
<a href="#l17.93"></a><span id="l17.93"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/mailnews/mime/src/mimeeobj.cpp</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/mailnews/mime/src/mimeeobj.cpp</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -245,30 +245,28 @@ MimeExternalObject_parse_decoded_buffer </span>
<a href="#l18.4"></a><span id="l18.4">    because, unlike most children of MimeLeaf, we do not want to line-</span>
<a href="#l18.5"></a><span id="l18.5">    buffer the decoded data -- we want to simply pass it along to the</span>
<a href="#l18.6"></a><span id="l18.6">    backend, without going through our `parse_line' method.</span>
<a href="#l18.7"></a><span id="l18.7">    */</span>
<a href="#l18.8"></a><span id="l18.8">   if (!obj-&gt;output_p ||</span>
<a href="#l18.9"></a><span id="l18.9">     !obj-&gt;options ||</span>
<a href="#l18.10"></a><span id="l18.10">     obj-&gt;options-&gt;write_html_p)</span>
<a href="#l18.11"></a><span id="l18.11">   {</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-    NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+    NS_ERROR(&quot;MimeObject is missing some data&quot;);</span>
<a href="#l18.14"></a><span id="l18.14">     return -1;</span>
<a href="#l18.15"></a><span id="l18.15">   }</span>
<a href="#l18.16"></a><span id="l18.16"> </span>
<a href="#l18.17"></a><span id="l18.17">   return MimeObject_write(obj, buf, size, PR_TRUE);</span>
<a href="#l18.18"></a><span id="l18.18"> }</span>
<a href="#l18.19"></a><span id="l18.19"> </span>
<a href="#l18.20"></a><span id="l18.20"> </span>
<a href="#l18.21"></a><span id="l18.21"> static int</span>
<a href="#l18.22"></a><span id="l18.22"> MimeExternalObject_parse_line (const char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l18.23"></a><span id="l18.23"> {</span>
<a href="#l18.24"></a><span id="l18.24" class="difflineminus">-  /* This method should never be called (externals do no line buffering).</span>
<a href="#l18.25"></a><span id="l18.25" class="difflineminus">-   */</span>
<a href="#l18.26"></a><span id="l18.26" class="difflineminus">-  NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l18.27"></a><span id="l18.27" class="difflineplus">+  NS_ERROR(&quot;This method should never be called (externals do no line buffering).&quot;);</span>
<a href="#l18.28"></a><span id="l18.28">   return -1;</span>
<a href="#l18.29"></a><span id="l18.29"> }</span>
<a href="#l18.30"></a><span id="l18.30"> </span>
<a href="#l18.31"></a><span id="l18.31"> static PRBool</span>
<a href="#l18.32"></a><span id="l18.32"> MimeExternalObject_displayable_inline_p (MimeObjectClass *clazz,</span>
<a href="#l18.33"></a><span id="l18.33">                      MimeHeaders *hdrs)</span>
<a href="#l18.34"></a><span id="l18.34"> {</span>
<a href="#l18.35"></a><span id="l18.35">   return PR_FALSE;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/mailnews/mime/src/mimei.cpp</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/mailnews/mime/src/mimei.cpp</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -1107,17 +1107,17 @@ mime_part_address(MimeObject *obj)</span>
<a href="#l19.4"></a><span id="l19.4">     for (i = 0; i &lt; cont-&gt;nchildren; i++)</span>
<a href="#l19.5"></a><span id="l19.5">     if (cont-&gt;children[i] == obj)</span>
<a href="#l19.6"></a><span id="l19.6">       {</span>
<a href="#l19.7"></a><span id="l19.7">       j = i+1;</span>
<a href="#l19.8"></a><span id="l19.8">       break;</span>
<a href="#l19.9"></a><span id="l19.9">       }</span>
<a href="#l19.10"></a><span id="l19.10">     if (j == -1)</span>
<a href="#l19.11"></a><span id="l19.11">     {</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-      NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+      NS_ERROR(&quot;No children under MeimContainer&quot;);</span>
<a href="#l19.14"></a><span id="l19.14">       return 0;</span>
<a href="#l19.15"></a><span id="l19.15">     }</span>
<a href="#l19.16"></a><span id="l19.16"> </span>
<a href="#l19.17"></a><span id="l19.17">     PR_snprintf(buf, sizeof(buf), &quot;%ld&quot;, j);</span>
<a href="#l19.18"></a><span id="l19.18">     if (obj-&gt;parent-&gt;parent)</span>
<a href="#l19.19"></a><span id="l19.19">     {</span>
<a href="#l19.20"></a><span id="l19.20">       higher = mime_part_address(obj-&gt;parent);</span>
<a href="#l19.21"></a><span id="l19.21">       if (!higher) return 0;  /* MIME_OUT_OF_MEMORY */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/mailnews/mime/src/mimeiimg.cpp</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/mailnews/mime/src/mimeiimg.cpp</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -267,13 +267,11 @@ MimeInlineImage_parse_decoded_buffer (co</span>
<a href="#l20.4"></a><span id="l20.4"> </span>
<a href="#l20.5"></a><span id="l20.5">   return status;</span>
<a href="#l20.6"></a><span id="l20.6"> }</span>
<a href="#l20.7"></a><span id="l20.7"> </span>
<a href="#l20.8"></a><span id="l20.8"> </span>
<a href="#l20.9"></a><span id="l20.9"> static int</span>
<a href="#l20.10"></a><span id="l20.10"> MimeInlineImage_parse_line (const char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l20.11"></a><span id="l20.11"> {</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-  /* This method should never be called (inline images do no line buffering).</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineminus">-   */</span>
<a href="#l20.14"></a><span id="l20.14" class="difflineminus">-  NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l20.15"></a><span id="l20.15" class="difflineplus">+  NS_ERROR(&quot;This method should never be called (inline images do no line buffering).&quot;);</span>
<a href="#l20.16"></a><span id="l20.16">   return -1;</span>
<a href="#l20.17"></a><span id="l20.17"> }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/mailnews/mime/src/mimeleaf.cpp</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/mailnews/mime/src/mimeleaf.cpp</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -175,18 +175,17 @@ MimeLeaf_parse_buffer (const char *buffe</span>
<a href="#l21.4"></a><span id="l21.4">   else</span>
<a href="#l21.5"></a><span id="l21.5">   return ((MimeLeafClass *)obj-&gt;clazz)-&gt;parse_decoded_buffer (buffer, size,</span>
<a href="#l21.6"></a><span id="l21.6">                                 obj);</span>
<a href="#l21.7"></a><span id="l21.7"> }</span>
<a href="#l21.8"></a><span id="l21.8"> </span>
<a href="#l21.9"></a><span id="l21.9"> static int</span>
<a href="#l21.10"></a><span id="l21.10"> MimeLeaf_parse_line (const char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l21.11"></a><span id="l21.11"> {</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-  NS_ASSERTION(0, &quot;1.1 &lt;rhp@netscape.com&gt; 19 Mar 1999 12:00&quot;);</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineminus">-  /* This method shouldn't ever be called. */</span>
<a href="#l21.14"></a><span id="l21.14" class="difflineplus">+  NS_ERROR(&quot;MimeLeaf_parse_line shouldn't ever be called.&quot;);</span>
<a href="#l21.15"></a><span id="l21.15">   return -1;</span>
<a href="#l21.16"></a><span id="l21.16"> }</span>
<a href="#l21.17"></a><span id="l21.17"> </span>
<a href="#l21.18"></a><span id="l21.18"> </span>
<a href="#l21.19"></a><span id="l21.19"> static int</span>
<a href="#l21.20"></a><span id="l21.20"> MimeLeaf_close_decoder (MimeObject *obj)</span>
<a href="#l21.21"></a><span id="l21.21"> {</span>
<a href="#l21.22"></a><span id="l21.22">   MimeLeaf *leaf = (MimeLeaf *) obj;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/mailnews/mime/src/mimeobj.cpp</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/mailnews/mime/src/mimeobj.cpp</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -273,18 +273,17 @@ MimeObject_parse_buffer (const char *buf</span>
<a href="#l22.4"></a><span id="l22.4">               /* This cast is to turn void into MimeObject */</span>
<a href="#l22.5"></a><span id="l22.5">               obj-&gt;clazz-&gt;parse_line),</span>
<a href="#l22.6"></a><span id="l22.6">              obj);</span>
<a href="#l22.7"></a><span id="l22.7"> }</span>
<a href="#l22.8"></a><span id="l22.8"> </span>
<a href="#l22.9"></a><span id="l22.9"> static int</span>
<a href="#l22.10"></a><span id="l22.10"> MimeObject_parse_line (const char *line, PRInt32 length, MimeObject *obj)</span>
<a href="#l22.11"></a><span id="l22.11"> {</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-  /* This method should never be called. */</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineminus">-  NS_ASSERTION(0, &quot;shouldn't call this method&quot;);</span>
<a href="#l22.14"></a><span id="l22.14" class="difflineplus">+  NS_ERROR(&quot;shouldn't call this method&quot;);</span>
<a href="#l22.15"></a><span id="l22.15">   return -1;</span>
<a href="#l22.16"></a><span id="l22.16"> }</span>
<a href="#l22.17"></a><span id="l22.17"> </span>
<a href="#l22.18"></a><span id="l22.18"> static int</span>
<a href="#l22.19"></a><span id="l22.19"> MimeObject_parse_eof (MimeObject *obj, PRBool abort_p)</span>
<a href="#l22.20"></a><span id="l22.20"> {</span>
<a href="#l22.21"></a><span id="l22.21">   if (obj-&gt;closed_p) return 0;</span>
<a href="#l22.22"></a><span id="l22.22">   NS_ASSERTION(!obj-&gt;parsed_p, &quot;obj already parsed&quot;);</span>
<a href="#l22.23"></a><span id="l22.23" class="difflineat">@@ -329,17 +328,17 @@ MimeObject_parse_end (MimeObject *obj, P</span>
<a href="#l22.24"></a><span id="l22.24"> </span>
<a href="#l22.25"></a><span id="l22.25">   obj-&gt;parsed_p = PR_TRUE;</span>
<a href="#l22.26"></a><span id="l22.26">   return 0;</span>
<a href="#l22.27"></a><span id="l22.27"> }</span>
<a href="#l22.28"></a><span id="l22.28"> </span>
<a href="#l22.29"></a><span id="l22.29"> static PRBool</span>
<a href="#l22.30"></a><span id="l22.30"> MimeObject_displayable_inline_p (MimeObjectClass *clazz, MimeHeaders *hdrs)</span>
<a href="#l22.31"></a><span id="l22.31"> {</span>
<a href="#l22.32"></a><span id="l22.32" class="difflineminus">-  NS_ASSERTION(0, &quot;shouldn't call this method&quot;);  /* This method should never be called. */</span>
<a href="#l22.33"></a><span id="l22.33" class="difflineplus">+  NS_ERROR(&quot;shouldn't call this method&quot;);</span>
<a href="#l22.34"></a><span id="l22.34">   return PR_FALSE;</span>
<a href="#l22.35"></a><span id="l22.35"> }</span>
<a href="#l22.36"></a><span id="l22.36"> </span>
<a href="#l22.37"></a><span id="l22.37"> #if defined(DEBUG) &amp;&amp; defined(XP_UNIX)</span>
<a href="#l22.38"></a><span id="l22.38"> static int</span>
<a href="#l22.39"></a><span id="l22.39"> MimeObject_debug_print (MimeObject *obj, PRFileDesc *stream, PRInt32 depth)</span>
<a href="#l22.40"></a><span id="l22.40"> {</span>
<a href="#l22.41"></a><span id="l22.41">   int i;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/mailnews/mime/src/nsStreamConverter.cpp</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/mailnews/mime/src/nsStreamConverter.cpp</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -613,17 +613,17 @@ NS_IMETHODIMP nsStreamConverter::Init(ns</span>
<a href="#l23.4"></a><span id="l23.4">       mOutputFormat = &quot;text/html&quot;;</span>
<a href="#l23.5"></a><span id="l23.5">       break;</span>
<a href="#l23.6"></a><span id="l23.6"> </span>
<a href="#l23.7"></a><span id="l23.7">     case nsMimeOutput::nsMimeMessageFilterSniffer: // output all displayable part as raw</span>
<a href="#l23.8"></a><span id="l23.8">       mOutputFormat = &quot;text/html&quot;;</span>
<a href="#l23.9"></a><span id="l23.9">       break;</span>
<a href="#l23.10"></a><span id="l23.10"> </span>
<a href="#l23.11"></a><span id="l23.11">     default:</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-      NS_ASSERTION(0, &quot;this means I made a mistake in my assumptions&quot;);</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+      NS_ERROR(&quot;this means I made a mistake in my assumptions&quot;);</span>
<a href="#l23.14"></a><span id="l23.14">   }</span>
<a href="#l23.15"></a><span id="l23.15"> </span>
<a href="#l23.16"></a><span id="l23.16"> </span>
<a href="#l23.17"></a><span id="l23.17">   // the following output channel stream is used to fake the content type for people who later</span>
<a href="#l23.18"></a><span id="l23.18">   // call into us..</span>
<a href="#l23.19"></a><span id="l23.19">   nsCString contentTypeToUse;</span>
<a href="#l23.20"></a><span id="l23.20">   GetContentType(getter_Copies(contentTypeToUse));</span>
<a href="#l23.21"></a><span id="l23.21">   // mscott --&gt; my theory is that we don't need this fake outgoing channel. Let's use the</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/mailnews/news/src/nsNNTPNewsgroupList.cpp</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/mailnews/news/src/nsNNTPNewsgroupList.cpp</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -758,17 +758,17 @@ NS_IMETHODIMP nsNNTPNewsgroupList::Apply</span>
<a href="#l24.4"></a><span id="l24.4">         messageArray-&gt;AppendElement(m_newMsgHdr, PR_FALSE);</span>
<a href="#l24.5"></a><span id="l24.5"> </span>
<a href="#l24.6"></a><span id="l24.6">         customAction-&gt;Apply(messageArray, value, nsnull,</span>
<a href="#l24.7"></a><span id="l24.7">                             nsMsgFilterType::NewsRule, aMsgWindow);</span>
<a href="#l24.8"></a><span id="l24.8">       }</span>
<a href="#l24.9"></a><span id="l24.9">       break;</span>
<a href="#l24.10"></a><span id="l24.10"> </span>
<a href="#l24.11"></a><span id="l24.11">       default:</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-        NS_ASSERTION(0, &quot;unexpected action&quot;);</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+        NS_ERROR(&quot;unexpected action&quot;);</span>
<a href="#l24.14"></a><span id="l24.14">         break;</span>
<a href="#l24.15"></a><span id="l24.15">       }</span>
<a href="#l24.16"></a><span id="l24.16"> </span>
<a href="#l24.17"></a><span id="l24.17">       if (loggingEnabled)</span>
<a href="#l24.18"></a><span id="l24.18">         (void) aFilter-&gt;LogRuleHit(filterAction, m_newMsgHdr);</span>
<a href="#l24.19"></a><span id="l24.19">     }</span>
<a href="#l24.20"></a><span id="l24.20">   }</span>
<a href="#l24.21"></a><span id="l24.21">   return NS_OK;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/mailnews/news/src/nsNNTPProtocol.cpp</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/mailnews/news/src/nsNNTPProtocol.cpp</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -1971,17 +1971,17 @@ PRInt32 nsNNTPProtocol::SendListSubscrip</span>
<a href="#l25.4"></a><span id="l25.4">     SetFlag(NNTP_PAUSE_FOR_READ);</span>
<a href="#l25.5"></a><span id="l25.5">     return 0;</span>
<a href="#l25.6"></a><span id="l25.6">   }</span>
<a href="#l25.7"></a><span id="l25.7">   if (!line)</span>
<a href="#l25.8"></a><span id="l25.8">     return status;  /* no line yet */</span>
<a href="#l25.9"></a><span id="l25.9"> </span>
<a href="#l25.10"></a><span id="l25.10">   if ('.' != line[0])</span>
<a href="#l25.11"></a><span id="l25.11">   {</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-        NS_ASSERTION(0,&quot;fix me&quot;);</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+        NS_ERROR(&quot;fix me&quot;);</span>
<a href="#l25.14"></a><span id="l25.14"> #if 0</span>
<a href="#l25.15"></a><span id="l25.15">     char *url = PR_smprintf (&quot;%s//%s/%s&quot;, NEWS_SCHEME, m_hostName, line);</span>
<a href="#l25.16"></a><span id="l25.16">     if (url)</span>
<a href="#l25.17"></a><span id="l25.17">       MSG_AddSubscribedNewsgroup (cd-&gt;pane, url);</span>
<a href="#l25.18"></a><span id="l25.18"> #endif</span>
<a href="#l25.19"></a><span id="l25.19">   }</span>
<a href="#l25.20"></a><span id="l25.20">   else</span>
<a href="#l25.21"></a><span id="l25.21">   {</span>
<a href="#l25.22"></a><span id="l25.22" class="difflineat">@@ -2853,17 +2853,17 @@ PRInt32 nsNNTPProtocol::AuthorizationRes</span>
<a href="#l25.23"></a><span id="l25.23">   }</span>
<a href="#l25.24"></a><span id="l25.24">   else</span>
<a href="#l25.25"></a><span id="l25.25">   {</span>
<a href="#l25.26"></a><span id="l25.26">     /* login failed */</span>
<a href="#l25.27"></a><span id="l25.27">     HandleAuthenticationFailure();</span>
<a href="#l25.28"></a><span id="l25.28">     return(MK_NNTP_AUTH_FAILED);</span>
<a href="#l25.29"></a><span id="l25.29">   }</span>
<a href="#l25.30"></a><span id="l25.30"> </span>
<a href="#l25.31"></a><span id="l25.31" class="difflineminus">-  NS_ASSERTION(0,&quot;should never get here&quot;);</span>
<a href="#l25.32"></a><span id="l25.32" class="difflineplus">+  NS_ERROR(&quot;should never get here&quot;);</span>
<a href="#l25.33"></a><span id="l25.33">   return(-1);</span>
<a href="#l25.34"></a><span id="l25.34"> </span>
<a href="#l25.35"></a><span id="l25.35"> }</span>
<a href="#l25.36"></a><span id="l25.36"> </span>
<a href="#l25.37"></a><span id="l25.37"> PRInt32 nsNNTPProtocol::PasswordResponse()</span>
<a href="#l25.38"></a><span id="l25.38"> {</span>
<a href="#l25.39"></a><span id="l25.39">   if (MK_NNTP_RESPONSE_AUTHINFO_OK == m_responseCode ||</span>
<a href="#l25.40"></a><span id="l25.40">     MK_NNTP_RESPONSE_AUTHINFO_SIMPLE_OK == m_responseCode)</span>
<a href="#l25.41"></a><span id="l25.41" class="difflineat">@@ -2896,17 +2896,17 @@ PRInt32 nsNNTPProtocol::PasswordResponse</span>
<a href="#l25.42"></a><span id="l25.42">     return(0);</span>
<a href="#l25.43"></a><span id="l25.43">   }</span>
<a href="#l25.44"></a><span id="l25.44">   else</span>
<a href="#l25.45"></a><span id="l25.45">   {</span>
<a href="#l25.46"></a><span id="l25.46">     HandleAuthenticationFailure();</span>
<a href="#l25.47"></a><span id="l25.47">     return(MK_NNTP_AUTH_FAILED);</span>
<a href="#l25.48"></a><span id="l25.48">   }</span>
<a href="#l25.49"></a><span id="l25.49"> </span>
<a href="#l25.50"></a><span id="l25.50" class="difflineminus">-  NS_ASSERTION(0,&quot;should never get here&quot;);</span>
<a href="#l25.51"></a><span id="l25.51" class="difflineplus">+  NS_ERROR(&quot;should never get here&quot;);</span>
<a href="#l25.52"></a><span id="l25.52">   return(-1);</span>
<a href="#l25.53"></a><span id="l25.53"> }</span>
<a href="#l25.54"></a><span id="l25.54"> </span>
<a href="#l25.55"></a><span id="l25.55"> PRInt32 nsNNTPProtocol::DisplayNewsgroups()</span>
<a href="#l25.56"></a><span id="l25.56"> {</span>
<a href="#l25.57"></a><span id="l25.57">   m_nextState = NEWS_DONE;</span>
<a href="#l25.58"></a><span id="l25.58">   ClearFlag(NNTP_PAUSE_FOR_READ);</span>
<a href="#l25.59"></a><span id="l25.59"> </span>
<a href="#l25.60"></a><span id="l25.60" class="difflineat">@@ -4857,17 +4857,17 @@ PRInt32 nsNNTPProtocol::SendListGroupRes</span>
<a href="#l25.61"></a><span id="l25.61">   }</span>
<a href="#l25.62"></a><span id="l25.62">   PR_FREEIF(line);</span>
<a href="#l25.63"></a><span id="l25.63">   return 0;</span>
<a href="#l25.64"></a><span id="l25.64"> }</span>
<a href="#l25.65"></a><span id="l25.65"> </span>
<a href="#l25.66"></a><span id="l25.66"> </span>
<a href="#l25.67"></a><span id="l25.67"> PRInt32 nsNNTPProtocol::Search()</span>
<a href="#l25.68"></a><span id="l25.68"> {</span>
<a href="#l25.69"></a><span id="l25.69" class="difflineminus">-  NS_ASSERTION(0,&quot;Search not implemented&quot;);</span>
<a href="#l25.70"></a><span id="l25.70" class="difflineplus">+  NS_ERROR(&quot;Search not implemented&quot;);</span>
<a href="#l25.71"></a><span id="l25.71">   return 0;</span>
<a href="#l25.72"></a><span id="l25.72"> }</span>
<a href="#l25.73"></a><span id="l25.73"> </span>
<a href="#l25.74"></a><span id="l25.74"> PRInt32 nsNNTPProtocol::SearchResponse()</span>
<a href="#l25.75"></a><span id="l25.75"> {</span>
<a href="#l25.76"></a><span id="l25.76">   if (MK_NNTP_RESPONSE_TYPE(m_responseCode) == MK_NNTP_RESPONSE_TYPE_OK)</span>
<a href="#l25.77"></a><span id="l25.77">     m_nextState = NNTP_SEARCH_RESULTS;</span>
<a href="#l25.78"></a><span id="l25.78">   else</span>
<a href="#l25.79"></a><span id="l25.79" class="difflineat">@@ -4941,17 +4941,17 @@ PRInt32 nsNNTPProtocol::SetupForTransfer</span>
<a href="#l25.80"></a><span id="l25.80">     if (PL_strstr(ce-&gt;URL_s-&gt;address, &quot;PROFILE NEW&quot;))</span>
<a href="#l25.81"></a><span id="l25.81">       m_nextState = NNTP_PROFILE_ADD;</span>
<a href="#l25.82"></a><span id="l25.82">     else</span>
<a href="#l25.83"></a><span id="l25.83">       m_nextState = NNTP_PROFILE_DELETE;</span>
<a href="#l25.84"></a><span id="l25.84">   }</span>
<a href="#l25.85"></a><span id="l25.85"> #endif</span>
<a href="#l25.86"></a><span id="l25.86">   else</span>
<a href="#l25.87"></a><span id="l25.87">   {</span>
<a href="#l25.88"></a><span id="l25.88" class="difflineminus">-    NS_ASSERTION(0, &quot;unexpected&quot;);</span>
<a href="#l25.89"></a><span id="l25.89" class="difflineplus">+    NS_ERROR(&quot;unexpected&quot;);</span>
<a href="#l25.90"></a><span id="l25.90">     return -1;</span>
<a href="#l25.91"></a><span id="l25.91">   }</span>
<a href="#l25.92"></a><span id="l25.92"> </span>
<a href="#l25.93"></a><span id="l25.93">   return(0); /* good */</span>
<a href="#l25.94"></a><span id="l25.94"> }</span>
<a href="#l25.95"></a><span id="l25.95"> </span>
<a href="#l25.96"></a><span id="l25.96"> /////////////////////////////////////////////////////////////////////////////////////////////////////////</span>
<a href="#l25.97"></a><span id="l25.97"> // The following method is used for processing the news state machine.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/mailnews/news/src/nsNewsFolder.cpp</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/mailnews/news/src/nsNewsFolder.cpp</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -241,17 +241,16 @@ nsMsgNewsFolder::AddNewsgroup(const nsAC</span>
<a href="#l26.4"></a><span id="l26.4">   mSubFolders.AppendObject(folder);</span>
<a href="#l26.5"></a><span id="l26.5">   folder-&gt;SetParent(this);</span>
<a href="#l26.6"></a><span id="l26.6">   folder.swap(*child);</span>
<a href="#l26.7"></a><span id="l26.7">   return rv;</span>
<a href="#l26.8"></a><span id="l26.8"> }</span>
<a href="#l26.9"></a><span id="l26.9"> </span>
<a href="#l26.10"></a><span id="l26.10"> nsresult nsMsgNewsFolder::ParseFolder(nsILocalFile *path)</span>
<a href="#l26.11"></a><span id="l26.11"> {</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-  NS_ASSERTION(0,&quot;ParseFolder not implemented&quot;);</span>
<a href="#l26.13"></a><span id="l26.13">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l26.14"></a><span id="l26.14"> }</span>
<a href="#l26.15"></a><span id="l26.15"> </span>
<a href="#l26.16"></a><span id="l26.16"> nsresult</span>
<a href="#l26.17"></a><span id="l26.17"> nsMsgNewsFolder::AddDirectorySeparator(nsILocalFile *path)</span>
<a href="#l26.18"></a><span id="l26.18"> {</span>
<a href="#l26.19"></a><span id="l26.19">   // don't concat the full separator with .sbd</span>
<a href="#l26.20"></a><span id="l26.20">   return (mURI.Equals(kNewsRootURI)) ?</span>
<a href="#l26.21"></a><span id="l26.21" class="difflineat">@@ -565,17 +564,16 @@ NS_IMETHODIMP nsMsgNewsFolder::Delete()</span>
<a href="#l26.22"></a><span id="l26.22">   rv = nntpServer-&gt;RemoveNewsgroup(name);</span>
<a href="#l26.23"></a><span id="l26.23">   NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l26.24"></a><span id="l26.24"> </span>
<a href="#l26.25"></a><span id="l26.25">   return SetNewsrcHasChanged(PR_TRUE);</span>
<a href="#l26.26"></a><span id="l26.26"> }</span>
<a href="#l26.27"></a><span id="l26.27"> </span>
<a href="#l26.28"></a><span id="l26.28"> NS_IMETHODIMP nsMsgNewsFolder::Rename(const nsAString&amp; newName, nsIMsgWindow *msgWindow)</span>
<a href="#l26.29"></a><span id="l26.29"> {</span>
<a href="#l26.30"></a><span id="l26.30" class="difflineminus">-  NS_ASSERTION(0,&quot;Rename not implemented&quot;);</span>
<a href="#l26.31"></a><span id="l26.31">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l26.32"></a><span id="l26.32"> }</span>
<a href="#l26.33"></a><span id="l26.33"> </span>
<a href="#l26.34"></a><span id="l26.34"> NS_IMETHODIMP nsMsgNewsFolder::GetAbbreviatedName(nsAString&amp; aAbbreviatedName)</span>
<a href="#l26.35"></a><span id="l26.35"> {</span>
<a href="#l26.36"></a><span id="l26.36">   nsresult rv;</span>
<a href="#l26.37"></a><span id="l26.37"> </span>
<a href="#l26.38"></a><span id="l26.38">   rv = nsMsgDBFolder::GetPrettyName(aAbbreviatedName);</span>
<a href="#l26.39"></a><span id="l26.39" class="difflineat">@@ -756,29 +754,26 @@ NS_IMETHODIMP nsMsgNewsFolder::GetExpung</span>
<a href="#l26.40"></a><span id="l26.40"> {</span>
<a href="#l26.41"></a><span id="l26.41">   NS_ENSURE_ARG_POINTER(count);</span>
<a href="#l26.42"></a><span id="l26.42">   *count = mExpungedBytes;</span>
<a href="#l26.43"></a><span id="l26.43">   return NS_OK;</span>
<a href="#l26.44"></a><span id="l26.44"> }</span>
<a href="#l26.45"></a><span id="l26.45"> </span>
<a href="#l26.46"></a><span id="l26.46"> NS_IMETHODIMP nsMsgNewsFolder::GetDeletable(PRBool *deletable)</span>
<a href="#l26.47"></a><span id="l26.47"> {</span>
<a href="#l26.48"></a><span id="l26.48" class="difflineminus">-  //  NS_ASSERTION(0,&quot;GetDeletable() not implemented&quot;);</span>
<a href="#l26.49"></a><span id="l26.49">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l26.50"></a><span id="l26.50"> }</span>
<a href="#l26.51"></a><span id="l26.51"> </span>
<a href="#l26.52"></a><span id="l26.52"> NS_IMETHODIMP nsMsgNewsFolder::GetRequiresCleanup(PRBool *requiresCleanup)</span>
<a href="#l26.53"></a><span id="l26.53"> {</span>
<a href="#l26.54"></a><span id="l26.54" class="difflineminus">-  //  NS_ASSERTION(0,&quot;GetRequiresCleanup not implemented&quot;);</span>
<a href="#l26.55"></a><span id="l26.55">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l26.56"></a><span id="l26.56"> }</span>
<a href="#l26.57"></a><span id="l26.57"> </span>
<a href="#l26.58"></a><span id="l26.58"> NS_IMETHODIMP nsMsgNewsFolder::GetSizeOnDisk(PRUint32 *size)</span>
<a href="#l26.59"></a><span id="l26.59"> {</span>
<a href="#l26.60"></a><span id="l26.60" class="difflineminus">-  //  NS_ASSERTION(0, &quot;GetSizeOnDisk not implemented&quot;);</span>
<a href="#l26.61"></a><span id="l26.61">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l26.62"></a><span id="l26.62"> }</span>
<a href="#l26.63"></a><span id="l26.63"> </span>
<a href="#l26.64"></a><span id="l26.64"> /* this is news, so remember that DeleteMessage is really CANCEL. */</span>
<a href="#l26.65"></a><span id="l26.65"> NS_IMETHODIMP</span>
<a href="#l26.66"></a><span id="l26.66"> nsMsgNewsFolder::DeleteMessages(nsIArray *messages, nsIMsgWindow *aMsgWindow,</span>
<a href="#l26.67"></a><span id="l26.67">                                 PRBool deleteStorage, PRBool isMove,</span>
<a href="#l26.68"></a><span id="l26.68">                                 nsIMsgCopyServiceListener* listener, PRBool allowUndo)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/mailnews/news/src/nsNntpIncomingServer.cpp</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/mailnews/news/src/nsNntpIncomingServer.cpp</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -1496,31 +1496,28 @@ nsNntpIncomingServer::ForgetPassword()</span>
<a href="#l27.4"></a><span id="l27.4">     }</span>
<a href="#l27.5"></a><span id="l27.5"> </span>
<a href="#l27.6"></a><span id="l27.6">     return return_rv;</span>
<a href="#l27.7"></a><span id="l27.7"> }</span>
<a href="#l27.8"></a><span id="l27.8"> </span>
<a href="#l27.9"></a><span id="l27.9"> NS_IMETHODIMP</span>
<a href="#l27.10"></a><span id="l27.10"> nsNntpIncomingServer::GetSupportsExtensions(PRBool *aSupportsExtensions)</span>
<a href="#l27.11"></a><span id="l27.11"> {</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.13"></a><span id="l27.13">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.14"></a><span id="l27.14"> }</span>
<a href="#l27.15"></a><span id="l27.15"> </span>
<a href="#l27.16"></a><span id="l27.16"> NS_IMETHODIMP</span>
<a href="#l27.17"></a><span id="l27.17"> nsNntpIncomingServer::SetSupportsExtensions(PRBool aSupportsExtensions)</span>
<a href="#l27.18"></a><span id="l27.18"> {</span>
<a href="#l27.19"></a><span id="l27.19" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.20"></a><span id="l27.20">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.21"></a><span id="l27.21"> }</span>
<a href="#l27.22"></a><span id="l27.22"> </span>
<a href="#l27.23"></a><span id="l27.23"> NS_IMETHODIMP</span>
<a href="#l27.24"></a><span id="l27.24"> nsNntpIncomingServer::AddExtension(const char *extension)</span>
<a href="#l27.25"></a><span id="l27.25"> {</span>
<a href="#l27.26"></a><span id="l27.26" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.27"></a><span id="l27.27">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.28"></a><span id="l27.28"> }</span>
<a href="#l27.29"></a><span id="l27.29"> </span>
<a href="#l27.30"></a><span id="l27.30"> NS_IMETHODIMP</span>
<a href="#l27.31"></a><span id="l27.31"> nsNntpIncomingServer::QueryExtension(const char *extension, PRBool *result)</span>
<a href="#l27.32"></a><span id="l27.32"> {</span>
<a href="#l27.33"></a><span id="l27.33"> #ifdef DEBUG_seth</span>
<a href="#l27.34"></a><span id="l27.34">   printf(&quot;no extension support yet\n&quot;);</span>
<a href="#l27.35"></a><span id="l27.35" class="difflineat">@@ -1548,59 +1545,52 @@ nsNntpIncomingServer::GetLastUpdatedTime</span>
<a href="#l27.36"></a><span id="l27.36"> {</span>
<a href="#l27.37"></a><span id="l27.37">   *aLastUpdatedTime = mLastUpdatedTime;</span>
<a href="#l27.38"></a><span id="l27.38">   return NS_OK;</span>
<a href="#l27.39"></a><span id="l27.39"> }</span>
<a href="#l27.40"></a><span id="l27.40"> </span>
<a href="#l27.41"></a><span id="l27.41"> NS_IMETHODIMP</span>
<a href="#l27.42"></a><span id="l27.42"> nsNntpIncomingServer::SetLastUpdatedTime(PRUint32 aLastUpdatedTime)</span>
<a href="#l27.43"></a><span id="l27.43"> {</span>
<a href="#l27.44"></a><span id="l27.44" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.45"></a><span id="l27.45">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.46"></a><span id="l27.46"> }</span>
<a href="#l27.47"></a><span id="l27.47"> </span>
<a href="#l27.48"></a><span id="l27.48"> NS_IMETHODIMP</span>
<a href="#l27.49"></a><span id="l27.49"> nsNntpIncomingServer::AddPropertyForGet(const char *name, const char *value)</span>
<a href="#l27.50"></a><span id="l27.50"> {</span>
<a href="#l27.51"></a><span id="l27.51" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.52"></a><span id="l27.52">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.53"></a><span id="l27.53"> }</span>
<a href="#l27.54"></a><span id="l27.54"> </span>
<a href="#l27.55"></a><span id="l27.55"> NS_IMETHODIMP</span>
<a href="#l27.56"></a><span id="l27.56"> nsNntpIncomingServer::QueryPropertyForGet(const char *name, char **value)</span>
<a href="#l27.57"></a><span id="l27.57"> {</span>
<a href="#l27.58"></a><span id="l27.58" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.59"></a><span id="l27.59">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.60"></a><span id="l27.60"> }</span>
<a href="#l27.61"></a><span id="l27.61"> </span>
<a href="#l27.62"></a><span id="l27.62"> NS_IMETHODIMP</span>
<a href="#l27.63"></a><span id="l27.63"> nsNntpIncomingServer::AddSearchableGroup(const nsAString &amp;name)</span>
<a href="#l27.64"></a><span id="l27.64"> {</span>
<a href="#l27.65"></a><span id="l27.65" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.66"></a><span id="l27.66">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.67"></a><span id="l27.67"> }</span>
<a href="#l27.68"></a><span id="l27.68"> </span>
<a href="#l27.69"></a><span id="l27.69"> NS_IMETHODIMP</span>
<a href="#l27.70"></a><span id="l27.70"> nsNntpIncomingServer::QuerySearchableGroup(const nsAString &amp;name, PRBool *result)</span>
<a href="#l27.71"></a><span id="l27.71"> {</span>
<a href="#l27.72"></a><span id="l27.72" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.73"></a><span id="l27.73">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.74"></a><span id="l27.74"> }</span>
<a href="#l27.75"></a><span id="l27.75"> </span>
<a href="#l27.76"></a><span id="l27.76"> NS_IMETHODIMP</span>
<a href="#l27.77"></a><span id="l27.77"> nsNntpIncomingServer::AddSearchableHeader(const char *name)</span>
<a href="#l27.78"></a><span id="l27.78"> {</span>
<a href="#l27.79"></a><span id="l27.79" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.80"></a><span id="l27.80">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.81"></a><span id="l27.81"> }</span>
<a href="#l27.82"></a><span id="l27.82"> </span>
<a href="#l27.83"></a><span id="l27.83"> NS_IMETHODIMP</span>
<a href="#l27.84"></a><span id="l27.84"> nsNntpIncomingServer::QuerySearchableHeader(const char *name, PRBool *result)</span>
<a href="#l27.85"></a><span id="l27.85"> {</span>
<a href="#l27.86"></a><span id="l27.86" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.87"></a><span id="l27.87">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.88"></a><span id="l27.88"> }</span>
<a href="#l27.89"></a><span id="l27.89"> </span>
<a href="#l27.90"></a><span id="l27.90"> NS_IMETHODIMP</span>
<a href="#l27.91"></a><span id="l27.91"> nsNntpIncomingServer::FindGroup(const nsACString &amp;name, nsIMsgNewsFolder **result)</span>
<a href="#l27.92"></a><span id="l27.92"> {</span>
<a href="#l27.93"></a><span id="l27.93">   NS_ENSURE_ARG_POINTER(result);</span>
<a href="#l27.94"></a><span id="l27.94"> </span>
<a href="#l27.95"></a><span id="l27.95" class="difflineat">@@ -1620,25 +1610,23 @@ nsNntpIncomingServer::FindGroup(const ns</span>
<a href="#l27.96"></a><span id="l27.96">   NS_ENSURE_SUCCESS(rv,rv);</span>
<a href="#l27.97"></a><span id="l27.97">   if (!*result) return NS_ERROR_FAILURE;</span>
<a href="#l27.98"></a><span id="l27.98">   return NS_OK;</span>
<a href="#l27.99"></a><span id="l27.99"> }</span>
<a href="#l27.100"></a><span id="l27.100"> </span>
<a href="#l27.101"></a><span id="l27.101"> NS_IMETHODIMP</span>
<a href="#l27.102"></a><span id="l27.102"> nsNntpIncomingServer::GetFirstGroupNeedingExtraInfo(nsACString &amp;result)</span>
<a href="#l27.103"></a><span id="l27.103"> {</span>
<a href="#l27.104"></a><span id="l27.104" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.105"></a><span id="l27.105">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.106"></a><span id="l27.106"> }</span>
<a href="#l27.107"></a><span id="l27.107"> </span>
<a href="#l27.108"></a><span id="l27.108"> NS_IMETHODIMP</span>
<a href="#l27.109"></a><span id="l27.109"> nsNntpIncomingServer::SetGroupNeedsExtraInfo(const nsACString &amp;name,</span>
<a href="#l27.110"></a><span id="l27.110">                                              PRBool needsExtraInfo)</span>
<a href="#l27.111"></a><span id="l27.111"> {</span>
<a href="#l27.112"></a><span id="l27.112" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.113"></a><span id="l27.113">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.114"></a><span id="l27.114"> }</span>
<a href="#l27.115"></a><span id="l27.115"> </span>
<a href="#l27.116"></a><span id="l27.116"> </span>
<a href="#l27.117"></a><span id="l27.117"> NS_IMETHODIMP</span>
<a href="#l27.118"></a><span id="l27.118"> nsNntpIncomingServer::GroupNotFound(nsIMsgWindow *aMsgWindow,</span>
<a href="#l27.119"></a><span id="l27.119">                                     const nsAString &amp;aName, PRBool aOpening)</span>
<a href="#l27.120"></a><span id="l27.120"> {</span>
<a href="#l27.121"></a><span id="l27.121" class="difflineat">@@ -1689,17 +1677,16 @@ nsNntpIncomingServer::GroupNotFound(nsIM</span>
<a href="#l27.122"></a><span id="l27.122"> </span>
<a href="#l27.123"></a><span id="l27.123">   return rv;</span>
<a href="#l27.124"></a><span id="l27.124"> }</span>
<a href="#l27.125"></a><span id="l27.125"> </span>
<a href="#l27.126"></a><span id="l27.126"> NS_IMETHODIMP</span>
<a href="#l27.127"></a><span id="l27.127"> nsNntpIncomingServer::SetPrettyNameForGroup(const nsAString &amp;name,</span>
<a href="#l27.128"></a><span id="l27.128">                                             const nsAString &amp;prettyName)</span>
<a href="#l27.129"></a><span id="l27.129"> {</span>
<a href="#l27.130"></a><span id="l27.130" class="difflineminus">-  NS_ASSERTION(0,&quot;not implemented&quot;);</span>
<a href="#l27.131"></a><span id="l27.131">   return NS_ERROR_NOT_IMPLEMENTED;</span>
<a href="#l27.132"></a><span id="l27.132"> }</span>
<a href="#l27.133"></a><span id="l27.133"> </span>
<a href="#l27.134"></a><span id="l27.134"> NS_IMETHODIMP</span>
<a href="#l27.135"></a><span id="l27.135"> nsNntpIncomingServer::GetCanSearchMessages(PRBool *canSearchMessages)</span>
<a href="#l27.136"></a><span id="l27.136"> {</span>
<a href="#l27.137"></a><span id="l27.137">     NS_ENSURE_ARG_POINTER(canSearchMessages);</span>
<a href="#l27.138"></a><span id="l27.138">     *canSearchMessages = PR_TRUE;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/mailnews/news/src/nsNntpService.cpp</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/mailnews/news/src/nsNntpService.cpp</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -1297,17 +1297,17 @@ NS_IMETHODIMP nsNntpService::GetNewNews(</span>
<a href="#l28.4"></a><span id="l28.4"> </span>
<a href="#l28.5"></a><span id="l28.5">     rv = RunNewsUrl(aUrl, aMsgWindow, nsnull);</span>
<a href="#l28.6"></a><span id="l28.6"> </span>
<a href="#l28.7"></a><span id="l28.7">     if (_retval)</span>
<a href="#l28.8"></a><span id="l28.8">       NS_IF_ADDREF(*_retval = aUrl);</span>
<a href="#l28.9"></a><span id="l28.9">   }</span>
<a href="#l28.10"></a><span id="l28.10">   else</span>
<a href="#l28.11"></a><span id="l28.11">   {</span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-    NS_ASSERTION(0,&quot;not a news:/ url&quot;);</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+    NS_ERROR(&quot;not a news:/ url&quot;);</span>
<a href="#l28.14"></a><span id="l28.14">     rv = NS_ERROR_FAILURE;</span>
<a href="#l28.15"></a><span id="l28.15">   }</span>
<a href="#l28.16"></a><span id="l28.16"> </span>
<a href="#l28.17"></a><span id="l28.17"> </span>
<a href="#l28.18"></a><span id="l28.18">   NS_UNLOCK_INSTANCE();</span>
<a href="#l28.19"></a><span id="l28.19">   return rv;</span>
<a href="#l28.20"></a><span id="l28.20"> }</span>
<a href="#l28.21"></a><span id="l28.21"> </span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

