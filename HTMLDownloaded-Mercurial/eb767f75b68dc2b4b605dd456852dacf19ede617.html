<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 20035:eb767f75b68dc2b4b605dd456852dacf19ede617</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ eb767f75b68dc2b4b605dd456852dacf19ede617" />
<meta property="og:url" content="/comm-central/rev/eb767f75b68dc2b4b605dd456852dacf19ede617" />
<meta property="og:description" content="Bug 1280898 - Set up eslint for calendar files - enable keyword-spacing rule. r=MakeMyDay" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / eb767f75b68dc2b4b605dd456852dacf19ede617 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/eb767f75b68dc2b4b605dd456852dacf19ede617">shortlog</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/eb767f75b68dc2b4b605dd456852dacf19ede617">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617">files</a> |
changeset |
<a href="/comm-central/raw-rev/eb767f75b68dc2b4b605dd456852dacf19ede617">raw</a>  | <a href="/comm-central/archive/eb767f75b68dc2b4b605dd456852dacf19ede617.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable keyword-spacing rule. r=MakeMyDay
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#101;&#115;&#108;&#105;&#110;&#116;&#32;&#60;&#101;&#115;&#108;&#105;&#110;&#116;&#64;&#98;&#117;&#103;&#122;&#105;&#108;&#108;&#97;&#46;&#107;&#101;&#119;&#105;&#115;&#46;&#99;&#104;&#62;</td></tr>
<tr><td></td><td class="date age">Fri, 08 Jul 2016 11:19:08 +0200</td></tr>

<tr>
 <td>changeset 20035</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/eb767f75b68dc2b4b605dd456852dacf19ede617">eb767f75b68dc2b4b605dd456852dacf19ede617</a></td>
</tr>



<tr>
<td>parent 20034</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/aa60248fbd5094b03a082eca1685cf1062cbbf28">aa60248fbd5094b03a082eca1685cf1062cbbf28</a>
</td>
</tr>

<tr>
<td>child 20036</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/86e89f2ac31f8c2d96b40769653ad941883279e5">86e89f2ac31f8c2d96b40769653ad941883279e5</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=eb767f75b68dc2b4b605dd456852dacf19ede617">12293</a></td></tr>
<tr><td>push user</td><td>mozilla@kewis.ch</td></tr>
<tr><td>push date</td><td class="date age">Thu, 15 Sep 2016 23:33:32 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@4b47cfc70df3 [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=4b47cfc70df3d95fb8b2b5ca71edc1065f791b98">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=4b47cfc70df3d95fb8b2b5ca71edc1065f791b98&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=4b47cfc70df3d95fb8b2b5ca71edc1065f791b98&newProject=comm-central&newRevision=eb767f75b68dc2b4b605dd456852dacf19ede617&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=4b47cfc70df3d95fb8b2b5ca71edc1065f791b98&newProject=comm-central&newRevision=eb767f75b68dc2b4b605dd456852dacf19ede617&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=4b47cfc70df3d95fb8b2b5ca71edc1065f791b98&newProject=comm-central&newRevision=eb767f75b68dc2b4b605dd456852dacf19ede617&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28MakeMyDay%29&revcount=50">MakeMyDay</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">1280898</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280898">Bug 1280898</a> - Set up eslint for calendar files - enable keyword-spacing rule. r=MakeMyDay

MozReview-Commit-ID: ISe1rXgZrcN</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/.eslintrc">calendar/.eslintrc</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/.eslintrc">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/.eslintrc">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/.eslintrc">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/.eslintrc">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/.eslintrc">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/agenda-listbox.js">calendar/base/content/agenda-listbox.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/agenda-listbox.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/agenda-listbox.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/agenda-listbox.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/agenda-listbox.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/agenda-listbox.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-base-view.xml">calendar/base/content/calendar-base-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-base-view.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-base-view.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-base-view.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-base-view.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-base-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-clipboard.js">calendar/base/content/calendar-clipboard.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-clipboard.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-clipboard.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-clipboard.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-clipboard.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-clipboard.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-month-view.xml">calendar/base/content/calendar-month-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-month-view.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-month-view.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-month-view.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-month-view.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-month-view.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-multiday-view.xml">calendar/base/content/calendar-multiday-view.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-multiday-view.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-multiday-view.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-multiday-view.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-multiday-view.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-multiday-view.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-tree.xml">calendar/base/content/calendar-task-tree.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-tree.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-tree.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-tree.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-tree.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-tree.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-view.js">calendar/base/content/calendar-task-view.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-view.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-view.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-view.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-view.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-task-view.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-view-core.xml">calendar/base/content/calendar-view-core.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-view-core.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-view-core.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-view-core.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-view-core.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/calendar-view-core.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-dialog-utils.js">calendar/base/content/dialogs/calendar-dialog-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-dialog-utils.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-dialog-utils.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-dialog-utils.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-dialog-utils.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-dialog-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">calendar/base/content/dialogs/calendar-event-dialog-attendees.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">calendar/base/content/dialogs/calendar-subscriptions-dialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/dialogs/calendar-subscriptions-dialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/import-export.js">calendar/base/content/import-export.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/import-export.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/import-export.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/import-export.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/import-export.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/import-export.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/widgets/minimonth.xml">calendar/base/content/widgets/minimonth.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/widgets/minimonth.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/widgets/minimonth.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/widgets/minimonth.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/widgets/minimonth.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/content/widgets/minimonth.xml">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calItipUtils.jsm">calendar/base/modules/calItipUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calItipUtils.jsm">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calItipUtils.jsm">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calItipUtils.jsm">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calItipUtils.jsm">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calItipUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calUtils.jsm">calendar/base/modules/calUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calUtils.jsm">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calUtils.jsm">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calUtils.jsm">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calUtils.jsm">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/modules/calUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calRecurrenceInfo.js">calendar/base/src/calRecurrenceInfo.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calRecurrenceInfo.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calRecurrenceInfo.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calRecurrenceInfo.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calRecurrenceInfo.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calRecurrenceInfo.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calTimezoneService.js">calendar/base/src/calTimezoneService.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calTimezoneService.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calTimezoneService.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calTimezoneService.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calTimezoneService.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calTimezoneService.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calUtils.js">calendar/base/src/calUtils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calUtils.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calUtils.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calUtils.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calUtils.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/base/src/calUtils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/content/imip-bar.js">calendar/lightning/content/imip-bar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/content/imip-bar.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/content/imip-bar.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/content/imip-bar.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/content/imip-bar.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/content/imip-bar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/modules/ltnInvitationUtils.jsm">calendar/lightning/modules/ltnInvitationUtils.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/modules/ltnInvitationUtils.jsm">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/modules/ltnInvitationUtils.jsm">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/modules/ltnInvitationUtils.jsm">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/modules/ltnInvitationUtils.jsm">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/lightning/modules/ltnInvitationUtils.jsm">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/ics/calICSCalendar.js">calendar/providers/ics/calICSCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/ics/calICSCalendar.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/ics/calICSCalendar.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/ics/calICSCalendar.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/ics/calICSCalendar.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/ics/calICSCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/memory/calMemoryCalendar.js">calendar/providers/memory/calMemoryCalendar.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/memory/calMemoryCalendar.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/memory/calMemoryCalendar.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/memory/calMemoryCalendar.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/memory/calMemoryCalendar.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/memory/calMemoryCalendar.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/storage/calStorageUpgrade.jsm">calendar/providers/storage/calStorageUpgrade.jsm</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/storage/calStorageUpgrade.jsm">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/storage/calStorageUpgrade.jsm">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/storage/calStorageUpgrade.jsm">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/storage/calStorageUpgrade.jsm">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/providers/storage/calStorageUpgrade.jsm">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/datetimepickers/datetimepickers.xml">calendar/resources/content/datetimepickers/datetimepickers.xml</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/datetimepickers/datetimepickers.xml">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/datetimepickers/datetimepickers.xml">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/datetimepickers/datetimepickers.xml">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/datetimepickers/datetimepickers.xml">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/datetimepickers/datetimepickers.xml">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/mouseoverPreviews.js">calendar/resources/content/mouseoverPreviews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/mouseoverPreviews.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/mouseoverPreviews.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/mouseoverPreviews.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/mouseoverPreviews.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/mouseoverPreviews.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publish.js">calendar/resources/content/publish.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publish.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publish.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publish.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publish.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publish.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publishDialog.js">calendar/resources/content/publishDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publishDialog.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publishDialog.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publishDialog.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publishDialog.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/resources/content/publishDialog.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialog.js">calendar/test/mozmill/eventDialog/testEventDialog.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialog.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialog.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialog.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialog.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialog.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">calendar/test/mozmill/recurrence/testAnnualRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testAnnualRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testDailyRecurrence.js">calendar/test/mozmill/recurrence/testDailyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testDailyRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testDailyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testDailyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testDailyRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testDailyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/calendar-utils.js">calendar/test/mozmill/shared-modules/calendar-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/calendar-utils.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/calendar-utils.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/calendar-utils.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/calendar-utils.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/calendar-utils.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/timezone-utils.js">calendar/test/mozmill/shared-modules/timezone-utils.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/timezone-utils.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/timezone-utils.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/timezone-utils.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/timezone-utils.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/shared-modules/timezone-utils.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/testLocalICS.js">calendar/test/mozmill/testLocalICS.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/testLocalICS.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/testLocalICS.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/testLocalICS.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/testLocalICS.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/mozmill/testLocalICS.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/head_consts.js">calendar/test/unit/head_consts.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/head_consts.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/head_consts.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/head_consts.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/head_consts.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/head_consts.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/test_timezone_definition.js">calendar/test/unit/test_timezone_definition.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/test_timezone_definition.js">file</a> |
<a href="/comm-central/annotate/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/test_timezone_definition.js">annotate</a> |
<a href="/comm-central/diff/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/test_timezone_definition.js">diff</a> |
<a href="/comm-central/comparison/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/test_timezone_definition.js">comparison</a> |
<a href="/comm-central/log/eb767f75b68dc2b4b605dd456852dacf19ede617/calendar/test/unit/test_timezone_definition.js">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/calendar/.eslintrc</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/calendar/.eslintrc</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -141,18 +141,20 @@</span>
<a href="#l1.4"></a><span id="l1.4">     // array or object items, etc.). It's hard to maintain and doesn't add that</span>
<a href="#l1.5"></a><span id="l1.5">     // much benefit.</span>
<a href="#l1.6"></a><span id="l1.6">     &quot;no-multi-spaces&quot;: 2,</span>
<a href="#l1.7"></a><span id="l1.7"> </span>
<a href="#l1.8"></a><span id="l1.8">     // Require spaces around operators, except for a|0.</span>
<a href="#l1.9"></a><span id="l1.9">     // Disabled for now given eslint doesn't support default args yet</span>
<a href="#l1.10"></a><span id="l1.10">     // &quot;space-infix-ops&quot;: [2, {&quot;int32Hint&quot;: true}],</span>
<a href="#l1.11"></a><span id="l1.11"> </span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+    // Require a space around all keywords.</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+    &quot;keyword-spacing&quot;: 2,</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+</span>
<a href="#l1.15"></a><span id="l1.15">     // Will enable these rules later</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineminus">-    &quot;keyword-spacing&quot;: 0,</span>
<a href="#l1.17"></a><span id="l1.17">     &quot;block-spacing&quot;: 0,</span>
<a href="#l1.18"></a><span id="l1.18">     &quot;no-lonely-if&quot;: 0,</span>
<a href="#l1.19"></a><span id="l1.19">     &quot;space-before-blocks&quot;: 0,</span>
<a href="#l1.20"></a><span id="l1.20">     &quot;computed-property-spacing&quot;: 0,</span>
<a href="#l1.21"></a><span id="l1.21">     &quot;consistent-return&quot;: 0,</span>
<a href="#l1.22"></a><span id="l1.22">     &quot;no-redeclare&quot;: 0,</span>
<a href="#l1.23"></a><span id="l1.23">     &quot;no-empty&quot;: 0,</span>
<a href="#l1.24"></a><span id="l1.24"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/calendar/base/content/agenda-listbox.js</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/calendar/base/content/agenda-listbox.js</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -185,17 +185,17 @@ function onBlur() {</span>
<a href="#l2.4"></a><span id="l2.4">  * Handler function called when a key was pressed on the agenda listbox</span>
<a href="#l2.5"></a><span id="l2.5">  */</span>
<a href="#l2.6"></a><span id="l2.6"> agendaListbox.onKeyPress =</span>
<a href="#l2.7"></a><span id="l2.7"> function onKeyPress(aEvent) {</span>
<a href="#l2.8"></a><span id="l2.8">     var listItem = aEvent.target;</span>
<a href="#l2.9"></a><span id="l2.9">     if (listItem.localName == &quot;richlistbox&quot;) {</span>
<a href="#l2.10"></a><span id="l2.10">         listItem = listItem.selectedItem;</span>
<a href="#l2.11"></a><span id="l2.11">     }</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-    switch(aEvent.keyCode) {</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+    switch (aEvent.keyCode) {</span>
<a href="#l2.14"></a><span id="l2.14">         case aEvent.DOM_VK_RETURN:</span>
<a href="#l2.15"></a><span id="l2.15">             document.getElementById('agenda_edit_event_command').doCommand();</span>
<a href="#l2.16"></a><span id="l2.16">             break;</span>
<a href="#l2.17"></a><span id="l2.17">         case aEvent.DOM_VK_DELETE:</span>
<a href="#l2.18"></a><span id="l2.18">             document.getElementById('agenda_delete_event_command').doCommand();</span>
<a href="#l2.19"></a><span id="l2.19">             aEvent.stopPropagation();</span>
<a href="#l2.20"></a><span id="l2.20">             aEvent.preventDefault();</span>
<a href="#l2.21"></a><span id="l2.21">             break;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/calendar/base/content/calendar-base-view.xml</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/calendar/base/content/calendar-base-view.xml</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -79,17 +79,17 @@</span>
<a href="#l3.4"></a><span id="l3.4">             },</span>
<a href="#l3.5"></a><span id="l3.5"> </span>
<a href="#l3.6"></a><span id="l3.6">             onAddItem: function onAddItem(aItem) {</span>
<a href="#l3.7"></a><span id="l3.7"> </span>
<a href="#l3.8"></a><span id="l3.8">                 if (cal.isToDo(aItem)) {</span>
<a href="#l3.9"></a><span id="l3.9">                     if (!aItem.entryDate &amp;&amp; !aItem.dueDate) {</span>
<a href="#l3.10"></a><span id="l3.10">                         return;</span>
<a href="#l3.11"></a><span id="l3.11">                     }</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineminus">-                    if(!this.calView.mTasksInView){</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+                    if (!this.calView.mTasksInView){</span>
<a href="#l3.14"></a><span id="l3.14">                         return;</span>
<a href="#l3.15"></a><span id="l3.15">                     }</span>
<a href="#l3.16"></a><span id="l3.16">                     if (aItem.isCompleted &amp;&amp; !this.calView.mShowCompleted) {</span>
<a href="#l3.17"></a><span id="l3.17">                         return;</span>
<a href="#l3.18"></a><span id="l3.18">                     }</span>
<a href="#l3.19"></a><span id="l3.19">                 }</span>
<a href="#l3.20"></a><span id="l3.20"> </span>
<a href="#l3.21"></a><span id="l3.21">                 let occs = aItem.getOccurrencesBetween(this.calView.startDate,</span>
<a href="#l3.22"></a><span id="l3.22" class="difflineat">@@ -367,17 +367,17 @@</span>
<a href="#l3.23"></a><span id="l3.23">       &lt;property name=&quot;initialized&quot;&gt;</span>
<a href="#l3.24"></a><span id="l3.24">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l3.25"></a><span id="l3.25">             let retval;</span>
<a href="#l3.26"></a><span id="l3.26"> </span>
<a href="#l3.27"></a><span id="l3.27">             // Some views throw when accessing an uninitialized startDay</span>
<a href="#l3.28"></a><span id="l3.28">             try {</span>
<a href="#l3.29"></a><span id="l3.29">                 retval = this.displayCalendar &amp;&amp; this.startDay</span>
<a href="#l3.30"></a><span id="l3.30">                          &amp;&amp; this.endDay;</span>
<a href="#l3.31"></a><span id="l3.31" class="difflineminus">-            } catch(ex) {</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+            } catch (ex) {</span>
<a href="#l3.33"></a><span id="l3.33">                 return false;</span>
<a href="#l3.34"></a><span id="l3.34">             }</span>
<a href="#l3.35"></a><span id="l3.35">             return retval;</span>
<a href="#l3.36"></a><span id="l3.36">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l3.37"></a><span id="l3.37">       &lt;/property&gt;</span>
<a href="#l3.38"></a><span id="l3.38"> </span>
<a href="#l3.39"></a><span id="l3.39">       &lt;method name=&quot;goToDay&quot;&gt;</span>
<a href="#l3.40"></a><span id="l3.40">         &lt;parameter name=&quot;aDate&quot;/&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/calendar/base/content/calendar-clipboard.js</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/calendar/base/content/calendar-clipboard.js</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -129,17 +129,17 @@ function pasteFromClipboard() {</span>
<a href="#l4.4"></a><span id="l4.4">             if (!destCal) {</span>
<a href="#l4.5"></a><span id="l4.5">                 return;</span>
<a href="#l4.6"></a><span id="l4.6">             }</span>
<a href="#l4.7"></a><span id="l4.7"> </span>
<a href="#l4.8"></a><span id="l4.8">             let icsParser = Components.classes[&quot;@mozilla.org/calendar/ics-parser;1&quot;]</span>
<a href="#l4.9"></a><span id="l4.9">                                       .createInstance(Components.interfaces.calIIcsParser);</span>
<a href="#l4.10"></a><span id="l4.10">             try {</span>
<a href="#l4.11"></a><span id="l4.11">                 icsParser.parseString(data);</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-            } catch(e) {}</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+            } catch (e) {}</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15">             let items = icsParser.getItems({});</span>
<a href="#l4.16"></a><span id="l4.16">             if (items.length == 0) {</span>
<a href="#l4.17"></a><span id="l4.17">                 return;</span>
<a href="#l4.18"></a><span id="l4.18">             }</span>
<a href="#l4.19"></a><span id="l4.19"> </span>
<a href="#l4.20"></a><span id="l4.20">             // If there are multiple items on the clipboard, the earliest</span>
<a href="#l4.21"></a><span id="l4.21">             // should be set to the selected day and the rest adjusted.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/calendar/base/content/calendar-month-view.xml</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/calendar/base/content/calendar-month-view.xml</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -87,17 +87,17 @@</span>
<a href="#l5.4"></a><span id="l5.4">               var timezone = this.calendarView ? this.calendarView.mTimezone :</span>
<a href="#l5.5"></a><span id="l5.5">                              calendarDefaultTimezone();</span>
<a href="#l5.6"></a><span id="l5.6">               var parentDate = ensureDateTime(this.parentBox.date);</span>
<a href="#l5.7"></a><span id="l5.7">               var startTime = val.startDate.getInTimezone(timezone);</span>
<a href="#l5.8"></a><span id="l5.8">               var endTime = val.endDate.getInTimezone(timezone);</span>
<a href="#l5.9"></a><span id="l5.9">               var nextDay = parentDate.clone();</span>
<a href="#l5.10"></a><span id="l5.10">               nextDay.day++;</span>
<a href="#l5.11"></a><span id="l5.11">               var comp = endTime.compare(nextDay);</span>
<a href="#l5.12"></a><span id="l5.12" class="difflineminus">-              if(startTime.compare( parentDate) == -1 ) {</span>
<a href="#l5.13"></a><span id="l5.13" class="difflineplus">+              if (startTime.compare( parentDate) == -1 ) {</span>
<a href="#l5.14"></a><span id="l5.14">                 if (comp == 1) {</span>
<a href="#l5.15"></a><span id="l5.15">                   label.value = &quot;&quot;;</span>
<a href="#l5.16"></a><span id="l5.16">                 } else if (comp == 0) {</span>
<a href="#l5.17"></a><span id="l5.17">                   label.value = &quot;&quot;;</span>
<a href="#l5.18"></a><span id="l5.18">                 } else {</span>
<a href="#l5.19"></a><span id="l5.19">                   label.value = &quot; &quot; + df.formatTime(endTime);</span>
<a href="#l5.20"></a><span id="l5.20">                 }</span>
<a href="#l5.21"></a><span id="l5.21">               } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/calendar/base/content/calendar-multiday-view.xml</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -1974,17 +1974,17 @@</span>
<a href="#l6.4"></a><span id="l6.4">                                             Components.interfaces.nsIScriptableDateFormat.timeFormatNoSeconds,</span>
<a href="#l6.5"></a><span id="l6.5">                                             endhr, endmin, 0);</span>
<a href="#l6.6"></a><span id="l6.6"> </span>
<a href="#l6.7"></a><span id="l6.7">           // Tasks without Entry or Due date have a string as first label</span>
<a href="#l6.8"></a><span id="l6.8">           // instead of the time.</span>
<a href="#l6.9"></a><span id="l6.9">           if (cal.isToDo(this.mDragState.dragOccurrence)) {</span>
<a href="#l6.10"></a><span id="l6.10">               if (!this.mDragState.dragOccurrence.dueDate) {</span>
<a href="#l6.11"></a><span id="l6.11">                   startstr = calGetString(&quot;calendar&quot;, &quot;dragLabelTasksWithOnlyEntryDate&quot;);</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-              } else if(!this.mDragState.dragOccurrence.entryDate) {</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineplus">+              } else if (!this.mDragState.dragOccurrence.entryDate) {</span>
<a href="#l6.14"></a><span id="l6.14">                   startstr = calGetString(&quot;calendar&quot;, &quot;dragLabelTasksWithOnlyDueDate&quot;);</span>
<a href="#l6.15"></a><span id="l6.15">               }</span>
<a href="#l6.16"></a><span id="l6.16">           }</span>
<a href="#l6.17"></a><span id="l6.17">           firstColumn.fgboxes.startlabel.setAttribute(&quot;value&quot;, startstr);</span>
<a href="#l6.18"></a><span id="l6.18">           lastColumn.fgboxes.endlabel.setAttribute(&quot;value&quot;, endstr);</span>
<a href="#l6.19"></a><span id="l6.19"> </span>
<a href="#l6.20"></a><span id="l6.20">         ]]&gt;&lt;/body&gt;</span>
<a href="#l6.21"></a><span id="l6.21">       &lt;/method&gt;</span>
<a href="#l6.22"></a><span id="l6.22" class="difflineat">@@ -3364,17 +3364,17 @@</span>
<a href="#l6.23"></a><span id="l6.23">               }</span>
<a href="#l6.24"></a><span id="l6.24">               setUpDayEventsBox(dayEventsBox, d);</span>
<a href="#l6.25"></a><span id="l6.25"> </span>
<a href="#l6.26"></a><span id="l6.26">               var dayHeaderBox;</span>
<a href="#l6.27"></a><span id="l6.27">               if (counter &lt; headerboxkids.length) {</span>
<a href="#l6.28"></a><span id="l6.28">                   dayHeaderBox = headerboxkids[counter];</span>
<a href="#l6.29"></a><span id="l6.29">                   // Delete backwards to make sure we get them all</span>
<a href="#l6.30"></a><span id="l6.30">                   // and delete until no more elements are left.</span>
<a href="#l6.31"></a><span id="l6.31" class="difflineminus">-                  while(dayHeaderBox.mItemBoxes.length != 0) {</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineplus">+                  while (dayHeaderBox.mItemBoxes.length != 0) {</span>
<a href="#l6.33"></a><span id="l6.33">                       var num = dayHeaderBox.mItemBoxes.length;</span>
<a href="#l6.34"></a><span id="l6.34">                       dayHeaderBox.deleteEvent(dayHeaderBox.mItemBoxes[num-1].occurrence);</span>
<a href="#l6.35"></a><span id="l6.35">                   }</span>
<a href="#l6.36"></a><span id="l6.36">               } else {</span>
<a href="#l6.37"></a><span id="l6.37">                   dayHeaderBox = createXULElement(&quot;calendar-header-container&quot;);</span>
<a href="#l6.38"></a><span id="l6.38">                   dayHeaderBox.setAttribute(&quot;flex&quot;, &quot;1&quot;);</span>
<a href="#l6.39"></a><span id="l6.39">                   headerdaybox.appendChild(dayHeaderBox);</span>
<a href="#l6.40"></a><span id="l6.40">               }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-tree.xml</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -561,17 +561,17 @@</span>
<a href="#l7.4"></a><span id="l7.4">           },</span>
<a href="#l7.5"></a><span id="l7.5"> </span>
<a href="#l7.6"></a><span id="l7.6">           // Called on the view when a header is clicked.</span>
<a href="#l7.7"></a><span id="l7.7">           cycleHeader: function mTV_cycleHeader(aCol) {</span>
<a href="#l7.8"></a><span id="l7.8">               if (!this.selectedColumn) {</span>
<a href="#l7.9"></a><span id="l7.9">                   this.sortDirection = &quot;ascending&quot;;</span>
<a href="#l7.10"></a><span id="l7.10">               }</span>
<a href="#l7.11"></a><span id="l7.11">               else {</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineminus">-                  if(!this.sortDirection || this.sortDirection == &quot;descending&quot;) {</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+                  if (!this.sortDirection || this.sortDirection == &quot;descending&quot;) {</span>
<a href="#l7.14"></a><span id="l7.14">                       this.sortDirection = &quot;ascending&quot;;</span>
<a href="#l7.15"></a><span id="l7.15">                   } else {</span>
<a href="#l7.16"></a><span id="l7.16">                       this.sortDirection = &quot;descending&quot;;</span>
<a href="#l7.17"></a><span id="l7.17">                   }</span>
<a href="#l7.18"></a><span id="l7.18">               }</span>
<a href="#l7.19"></a><span id="l7.19">               this.selectedColumn = aCol.element;</span>
<a href="#l7.20"></a><span id="l7.20">               let selectedItems = this.binding.selectedTasks;</span>
<a href="#l7.21"></a><span id="l7.21">               this.binding.sortItems();</span>
<a href="#l7.22"></a><span id="l7.22" class="difflineat">@@ -641,17 +641,17 @@</span>
<a href="#l7.23"></a><span id="l7.23">           },</span>
<a href="#l7.24"></a><span id="l7.24"> </span>
<a href="#l7.25"></a><span id="l7.25">           // The image path for a given cell. For defining an icon for a cell.</span>
<a href="#l7.26"></a><span id="l7.26">           // If the empty string is returned, the :moz-tree-image pseudoelement will be used.</span>
<a href="#l7.27"></a><span id="l7.27">           getImageSrc: function mTV_getImageSrc(aRow, aCol) {</span>
<a href="#l7.28"></a><span id="l7.28">              // Return the empty string in order</span>
<a href="#l7.29"></a><span id="l7.29">              // to use moz-tree-image pseudoelement :</span>
<a href="#l7.30"></a><span id="l7.30">              // it is mandatory to return &quot;&quot; and not false :-(</span>
<a href="#l7.31"></a><span id="l7.31" class="difflineminus">-             return(&quot;&quot;);</span>
<a href="#l7.32"></a><span id="l7.32" class="difflineplus">+             return &quot;&quot;;</span>
<a href="#l7.33"></a><span id="l7.33">           },</span>
<a href="#l7.34"></a><span id="l7.34"> </span>
<a href="#l7.35"></a><span id="l7.35">           // IsEditable is called to ask the view if the cell contents are editable.</span>
<a href="#l7.36"></a><span id="l7.36">           // A value of true will result in the tree popping up a text field when the user</span>
<a href="#l7.37"></a><span id="l7.37">           // tries to inline edit the cell.</span>
<a href="#l7.38"></a><span id="l7.38">           isEditable: function mTV_isEditable(aRow, aCol) {</span>
<a href="#l7.39"></a><span id="l7.39">               return true;</span>
<a href="#l7.40"></a><span id="l7.40">           },</span>
<a href="#l7.41"></a><span id="l7.41" class="difflineat">@@ -706,17 +706,17 @@</span>
<a href="#l7.42"></a><span id="l7.42">           // will be used.</span>
<a href="#l7.43"></a><span id="l7.43">           getImgSrc: function mTV_getImgSrc(aRow, aCol) {</span>
<a href="#l7.44"></a><span id="l7.44">               return null;</span>
<a href="#l7.45"></a><span id="l7.45">           },</span>
<a href="#l7.46"></a><span id="l7.46"> </span>
<a href="#l7.47"></a><span id="l7.47">           // The progress mode for a given cell. This method is only called for</span>
<a href="#l7.48"></a><span id="l7.48">           // columns of type |progressmeter|.</span>
<a href="#l7.49"></a><span id="l7.49">           getProgressMode: function mTV_getProgressMode(aRow, aCol) {</span>
<a href="#l7.50"></a><span id="l7.50" class="difflineminus">-              switch(aCol.element.getAttribute(&quot;itemproperty&quot;)) {</span>
<a href="#l7.51"></a><span id="l7.51" class="difflineplus">+              switch (aCol.element.getAttribute(&quot;itemproperty&quot;)) {</span>
<a href="#l7.52"></a><span id="l7.52">                   case &quot;percentComplete&quot;:</span>
<a href="#l7.53"></a><span id="l7.53">                       var task = this.binding.mTaskArray[aRow];</span>
<a href="#l7.54"></a><span id="l7.54">                       if (aCol.element.boxObject.width &gt; 75 &amp;&amp;</span>
<a href="#l7.55"></a><span id="l7.55">                           task.percentComplete &gt; 0 ) {</span>
<a href="#l7.56"></a><span id="l7.56">                           // XXX Would be nice if we could use relative widths,</span>
<a href="#l7.57"></a><span id="l7.57">                           // i.e &quot;15ex&quot;, but there is no scriptable interface.</span>
<a href="#l7.58"></a><span id="l7.58">                           return Components.interfaces.nsITreeView.PROGRESS_NORMAL;</span>
<a href="#l7.59"></a><span id="l7.59">                       }</span>
<a href="#l7.60"></a><span id="l7.60" class="difflineat">@@ -1169,17 +1169,17 @@</span>
<a href="#l7.61"></a><span id="l7.61">             }</span>
<a href="#l7.62"></a><span id="l7.62">             rowY = rowY + rowHeight;</span>
<a href="#l7.63"></a><span id="l7.63">           }</span>
<a href="#l7.64"></a><span id="l7.64"> </span>
<a href="#l7.65"></a><span id="l7.65">           // and finally, clip the result to be sure we don't spill over...</span>
<a href="#l7.66"></a><span id="l7.66">           if (!region.isEmpty()) {</span>
<a href="#l7.67"></a><span id="l7.67">             region.intersectRect(bo.x, bo.y, bo.width, bo.height);</span>
<a href="#l7.68"></a><span id="l7.68">           }</span>
<a href="#l7.69"></a><span id="l7.69" class="difflineminus">-        } catch(ex) {</span>
<a href="#l7.70"></a><span id="l7.70" class="difflineplus">+        } catch (ex) {</span>
<a href="#l7.71"></a><span id="l7.71">           ASSERT(false, &quot;Error while building selection region: &quot; + ex + &quot;\n&quot;);</span>
<a href="#l7.72"></a><span id="l7.72">           region = null;</span>
<a href="#l7.73"></a><span id="l7.73">         }</span>
<a href="#l7.74"></a><span id="l7.74">         invokeEventDragSession(item, event.target);</span>
<a href="#l7.75"></a><span id="l7.75">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l7.76"></a><span id="l7.76">     &lt;/handlers&gt;</span>
<a href="#l7.77"></a><span id="l7.77"> </span>
<a href="#l7.78"></a><span id="l7.78">   &lt;/binding&gt;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/calendar/base/content/calendar-task-view.js</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/calendar/base/content/calendar-task-view.js</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -58,17 +58,17 @@ var taskDetailsView = {</span>
<a href="#l8.4"></a><span id="l8.4">             displayElement(&quot;calendar-task-details-priority-label&quot;, (priority &gt; 0));</span>
<a href="#l8.5"></a><span id="l8.5">             displayElement(&quot;calendar-task-details-priority-low&quot;, (priority &gt;= 6 &amp;&amp; priority &lt;= 9));</span>
<a href="#l8.6"></a><span id="l8.6">             displayElement(&quot;calendar-task-details-priority-normal&quot;, priority == 5);</span>
<a href="#l8.7"></a><span id="l8.7">             displayElement(&quot;calendar-task-details-priority-high&quot;, (priority &gt;= 1 &amp;&amp; priority &lt;= 4));</span>
<a href="#l8.8"></a><span id="l8.8"> </span>
<a href="#l8.9"></a><span id="l8.9">             var status = item.getProperty(&quot;STATUS&quot;);</span>
<a href="#l8.10"></a><span id="l8.10">             if (displayElement(&quot;calendar-task-details-status-row&quot;, status &amp;&amp; status.length &gt; 0)) {</span>
<a href="#l8.11"></a><span id="l8.11">                 var statusDetails = document.getElementById(&quot;calendar-task-details-status&quot;);</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineminus">-                switch(status) {</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+                switch (status) {</span>
<a href="#l8.14"></a><span id="l8.14">                     case &quot;NEEDS-ACTION&quot;:</span>
<a href="#l8.15"></a><span id="l8.15">                         statusDetails.value = calGetString(</span>
<a href="#l8.16"></a><span id="l8.16">                             &quot;calendar&quot;,</span>
<a href="#l8.17"></a><span id="l8.17">                             &quot;taskDetailsStatusNeedsAction&quot;);</span>
<a href="#l8.18"></a><span id="l8.18">                         break;</span>
<a href="#l8.19"></a><span id="l8.19">                     case &quot;IN-PROCESS&quot;:</span>
<a href="#l8.20"></a><span id="l8.20">                         var percent = 0;</span>
<a href="#l8.21"></a><span id="l8.21">                         var property = item.getProperty(&quot;PERCENT-COMPLETE&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l9.1"></a><span id="l9.1" class="difflineminus">--- a/calendar/base/content/calendar-view-core.xml</span>
<a href="#l9.2"></a><span id="l9.2" class="difflineplus">+++ b/calendar/base/content/calendar-view-core.xml</span>
<a href="#l9.3"></a><span id="l9.3" class="difflineat">@@ -354,17 +354,17 @@</span>
<a href="#l9.4"></a><span id="l9.4">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l9.5"></a><span id="l9.5">       &lt;handler event=&quot;mouseover&quot;&gt;&lt;![CDATA[</span>
<a href="#l9.6"></a><span id="l9.6">         if (this.calendarView &amp;&amp; this.calendarView.controller) {</span>
<a href="#l9.7"></a><span id="l9.7">             event.stopPropagation();</span>
<a href="#l9.8"></a><span id="l9.8">             onMouseOverItem(event);</span>
<a href="#l9.9"></a><span id="l9.9">         }</span>
<a href="#l9.10"></a><span id="l9.10">       ]]&gt;&lt;/handler&gt;</span>
<a href="#l9.11"></a><span id="l9.11">       &lt;handler event=&quot;dragstart&quot;&gt;&lt;![CDATA[</span>
<a href="#l9.12"></a><span id="l9.12" class="difflineminus">-        if( event.target.localName == &quot;calendar-event-box&quot;) {</span>
<a href="#l9.13"></a><span id="l9.13" class="difflineplus">+        if (event.target.localName == &quot;calendar-event-box&quot;) {</span>
<a href="#l9.14"></a><span id="l9.14">             return;</span>
<a href="#l9.15"></a><span id="l9.15">         }</span>
<a href="#l9.16"></a><span id="l9.16">         let item = this.occurrence;</span>
<a href="#l9.17"></a><span id="l9.17">         if (!isCalendarWritable(item.calendar)</span>
<a href="#l9.18"></a><span id="l9.18">             || !userCanModifyItem(item)</span>
<a href="#l9.19"></a><span id="l9.19">             || (item.calendar instanceof Components.interfaces.calISchedulingSupport &amp;&amp; item.calendar.isInvitation(item))) {</span>
<a href="#l9.20"></a><span id="l9.20">             return;</span>
<a href="#l9.21"></a><span id="l9.21">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l10.1"></a><span id="l10.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l10.2"></a><span id="l10.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-dialog-utils.js</span>
<a href="#l10.3"></a><span id="l10.3" class="difflineat">@@ -568,17 +568,17 @@ function setupAttendees() {</span>
<a href="#l10.4"></a><span id="l10.4">         let clonedSpacer = document.querySelector(selector).cloneNode(false);</span>
<a href="#l10.5"></a><span id="l10.5"> </span>
<a href="#l10.6"></a><span id="l10.6">         // determining of attendee box setup</span>
<a href="#l10.7"></a><span id="l10.7">         let inRow = window.attendeesInRow || -1;</span>
<a href="#l10.8"></a><span id="l10.8">         if (inRow == -1) {</span>
<a href="#l10.9"></a><span id="l10.9">             inRow = determineAttendeesInRow();</span>
<a href="#l10.10"></a><span id="l10.10">             window.attendeesInRow = inRow;</span>
<a href="#l10.11"></a><span id="l10.11">         } else {</span>
<a href="#l10.12"></a><span id="l10.12" class="difflineminus">-            while(attBoxRows.length &gt; 0) {</span>
<a href="#l10.13"></a><span id="l10.13" class="difflineplus">+            while (attBoxRows.length &gt; 0) {</span>
<a href="#l10.14"></a><span id="l10.14">                 attBox.removeChild(attBoxRows[0]);</span>
<a href="#l10.15"></a><span id="l10.15">             }</span>
<a href="#l10.16"></a><span id="l10.16">         }</span>
<a href="#l10.17"></a><span id="l10.17"> </span>
<a href="#l10.18"></a><span id="l10.18">         // set up of the required nodes</span>
<a href="#l10.19"></a><span id="l10.19">         let maxRows = Math.ceil(window.attendees.length / inRow);</span>
<a href="#l10.20"></a><span id="l10.20">         let inLastRow = window.attendees.length - ((maxRows - 1) * inRow);</span>
<a href="#l10.21"></a><span id="l10.21">         let attCount = 0;</span>
<a href="#l10.22"></a><span id="l10.22" class="difflineat">@@ -654,17 +654,17 @@ function setupAttendees() {</span>
<a href="#l10.23"></a><span id="l10.23">                 cell = cell.cloneNode(true);</span>
<a href="#l10.24"></a><span id="l10.24">                 cell.removeAttribute(&quot;flex&quot;);</span>
<a href="#l10.25"></a><span id="l10.25">                 cell.getElementsByTagName(&quot;label&quot;)[0].removeAttribute(&quot;flex&quot;);</span>
<a href="#l10.26"></a><span id="l10.26">                 maxWidth = cell.clientWidth &gt; maxWidth ? cell.clientWidth : maxWidth;</span>
<a href="#l10.27"></a><span id="l10.27">             }</span>
<a href="#l10.28"></a><span id="l10.28">             window.maxLabelWidth = maxWidth;</span>
<a href="#l10.29"></a><span id="l10.29">         }</span>
<a href="#l10.30"></a><span id="l10.30">     } else {</span>
<a href="#l10.31"></a><span id="l10.31" class="difflineminus">-        while(attBoxRows.length &gt; 0) {</span>
<a href="#l10.32"></a><span id="l10.32" class="difflineplus">+        while (attBoxRows.length &gt; 0) {</span>
<a href="#l10.33"></a><span id="l10.33">             attBox.removeChild(attBoxRows[0]);</span>
<a href="#l10.34"></a><span id="l10.34">         }</span>
<a href="#l10.35"></a><span id="l10.35">     }</span>
<a href="#l10.36"></a><span id="l10.36"> }</span>
<a href="#l10.37"></a><span id="l10.37"> </span>
<a href="#l10.38"></a><span id="l10.38"> /**</span>
<a href="#l10.39"></a><span id="l10.39">  * Re-arranges the attendees on dialog resizing in event and summary dialog</span>
<a href="#l10.40"></a><span id="l10.40">  */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l11.1"></a><span id="l11.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l11.2"></a><span id="l11.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.js</span>
<a href="#l11.3"></a><span id="l11.3" class="difflineat">@@ -49,17 +49,17 @@ function onLoad() {</span>
<a href="#l11.4"></a><span id="l11.4"> </span>
<a href="#l11.5"></a><span id="l11.5"> </span>
<a href="#l11.6"></a><span id="l11.6">     let zoom = document.getElementById(&quot;zoom-menulist&quot;);</span>
<a href="#l11.7"></a><span id="l11.7">     let zoomOut = document.getElementById(&quot;zoom-out-button&quot;);</span>
<a href="#l11.8"></a><span id="l11.8">     let zoomIn = document.getElementById(&quot;zoom-in-button&quot;);</span>
<a href="#l11.9"></a><span id="l11.9"> </span>
<a href="#l11.10"></a><span id="l11.10">     // Make sure zoom factor is set up correctly (from persisted value)</span>
<a href="#l11.11"></a><span id="l11.11">     setZoomFactor(zoom.value);</span>
<a href="#l11.12"></a><span id="l11.12" class="difflineminus">-    if(gZoomFactor == 100) {</span>
<a href="#l11.13"></a><span id="l11.13" class="difflineplus">+    if (gZoomFactor == 100) {</span>
<a href="#l11.14"></a><span id="l11.14">         // if zoom factor was not changed, make sure it is applied at least once</span>
<a href="#l11.15"></a><span id="l11.15">         applyCurrentZoomFactor();</span>
<a href="#l11.16"></a><span id="l11.16">     }</span>
<a href="#l11.17"></a><span id="l11.17"> </span>
<a href="#l11.18"></a><span id="l11.18">     initTimeRange();</span>
<a href="#l11.19"></a><span id="l11.19"> </span>
<a href="#l11.20"></a><span id="l11.20">     // Check if an all-day event has been passed in (to adapt endDate).</span>
<a href="#l11.21"></a><span id="l11.21">     if (startTime.isDate) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l12.1"></a><span id="l12.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l12.2"></a><span id="l12.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-event-dialog-attendees.xml</span>
<a href="#l12.3"></a><span id="l12.3" class="difflineat">@@ -1586,18 +1586,17 @@</span>
<a href="#l12.4"></a><span id="l12.4">             }</span>
<a href="#l12.5"></a><span id="l12.5">         } else if (this.mDragState == 2) {</span>
<a href="#l12.6"></a><span id="l12.6">             // Move the startdate only...</span>
<a href="#l12.7"></a><span id="l12.7">             let delta = event.screenX - this.mSelectionbar.boxObject.screenX;</span>
<a href="#l12.8"></a><span id="l12.8">             let newStart = this.moveTime(this.mStartDate, delta, true);</span>
<a href="#l12.9"></a><span id="l12.9">             if (newStart.compare(this.mEndDate) &gt;= 0) {</span>
<a href="#l12.10"></a><span id="l12.10">                 if (!this.mStartDate.isDate) {</span>
<a href="#l12.11"></a><span id="l12.11">                     newStart = this.mEndDate;</span>
<a href="#l12.12"></a><span id="l12.12" class="difflineminus">-                }</span>
<a href="#l12.13"></a><span id="l12.13" class="difflineminus">-                else{</span>
<a href="#l12.14"></a><span id="l12.14" class="difflineplus">+                } else {</span>
<a href="#l12.15"></a><span id="l12.15">                     return;</span>
<a href="#l12.16"></a><span id="l12.16">                 }</span>
<a href="#l12.17"></a><span id="l12.17">             }</span>
<a href="#l12.18"></a><span id="l12.18">             if (newStart.compare(this.mStartDate) != 0) {</span>
<a href="#l12.19"></a><span id="l12.19">                 this.startDate = newStart;</span>
<a href="#l12.20"></a><span id="l12.20">                 this.update();</span>
<a href="#l12.21"></a><span id="l12.21">             }</span>
<a href="#l12.22"></a><span id="l12.22">         } else if (this.mDragState == 3) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l13.1"></a><span id="l13.1" class="difflineminus">--- a/calendar/base/content/dialogs/calendar-subscriptions-dialog.js</span>
<a href="#l13.2"></a><span id="l13.2" class="difflineplus">+++ b/calendar/base/content/dialogs/calendar-subscriptions-dialog.js</span>
<a href="#l13.3"></a><span id="l13.3" class="difflineat">@@ -27,34 +27,34 @@ function onUnload() {</span>
<a href="#l13.4"></a><span id="l13.4">     cancelPendingSearchOperation();</span>
<a href="#l13.5"></a><span id="l13.5"> }</span>
<a href="#l13.6"></a><span id="l13.6"> </span>
<a href="#l13.7"></a><span id="l13.7"> /**</span>
<a href="#l13.8"></a><span id="l13.8">  * Handler function to handle dialog keypress events.</span>
<a href="#l13.9"></a><span id="l13.9">  * (Cancels the search when pressing escape)</span>
<a href="#l13.10"></a><span id="l13.10">  */</span>
<a href="#l13.11"></a><span id="l13.11"> function onKeyPress(event) {</span>
<a href="#l13.12"></a><span id="l13.12" class="difflineminus">-    switch(event.keyCode) {</span>
<a href="#l13.13"></a><span id="l13.13" class="difflineplus">+    switch (event.keyCode) {</span>
<a href="#l13.14"></a><span id="l13.14">         case 27: /* ESC */</span>
<a href="#l13.15"></a><span id="l13.15">             if (gCurrentSearchOperation) {</span>
<a href="#l13.16"></a><span id="l13.16">                 cancelPendingSearchOperation();</span>
<a href="#l13.17"></a><span id="l13.17">                 document.getElementById(&quot;status-deck&quot;).selectedIndex = 0;</span>
<a href="#l13.18"></a><span id="l13.18">                 event.stopPropagation();</span>
<a href="#l13.19"></a><span id="l13.19">                 event.preventDefault();</span>
<a href="#l13.20"></a><span id="l13.20">             }</span>
<a href="#l13.21"></a><span id="l13.21">             break;</span>
<a href="#l13.22"></a><span id="l13.22">     }</span>
<a href="#l13.23"></a><span id="l13.23"> }</span>
<a href="#l13.24"></a><span id="l13.24"> </span>
<a href="#l13.25"></a><span id="l13.25"> /**</span>
<a href="#l13.26"></a><span id="l13.26">  * Handler function to handle keypress events in the textbox.</span>
<a href="#l13.27"></a><span id="l13.27">  * (Starts the search when hitting enter)</span>
<a href="#l13.28"></a><span id="l13.28">  */</span>
<a href="#l13.29"></a><span id="l13.29"> function onTextBoxKeyPress(event) {</span>
<a href="#l13.30"></a><span id="l13.30" class="difflineminus">-    switch(event.keyCode) {</span>
<a href="#l13.31"></a><span id="l13.31" class="difflineplus">+    switch (event.keyCode) {</span>
<a href="#l13.32"></a><span id="l13.32">         case 13: /* RET */</span>
<a href="#l13.33"></a><span id="l13.33">             onSearch();</span>
<a href="#l13.34"></a><span id="l13.34">             event.stopPropagation();</span>
<a href="#l13.35"></a><span id="l13.35">             event.preventDefault();</span>
<a href="#l13.36"></a><span id="l13.36">             break;</span>
<a href="#l13.37"></a><span id="l13.37">     }</span>
<a href="#l13.38"></a><span id="l13.38"> }</span>
<a href="#l13.39"></a><span id="l13.39"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l14.1"></a><span id="l14.1" class="difflineminus">--- a/calendar/base/content/import-export.js</span>
<a href="#l14.2"></a><span id="l14.2" class="difflineplus">+++ b/calendar/base/content/import-export.js</span>
<a href="#l14.3"></a><span id="l14.3" class="difflineat">@@ -81,17 +81,17 @@ function loadEventsFromFile(aCalendar) {</span>
<a href="#l14.4"></a><span id="l14.4"> </span>
<a href="#l14.5"></a><span id="l14.5">         let inputStream = Components.classes[&quot;@mozilla.org/network/file-input-stream;1&quot;]</span>
<a href="#l14.6"></a><span id="l14.6">                                     .createInstance(nsIFileInputStream);</span>
<a href="#l14.7"></a><span id="l14.7">         let items = [];</span>
<a href="#l14.8"></a><span id="l14.8"> </span>
<a href="#l14.9"></a><span id="l14.9">         try {</span>
<a href="#l14.10"></a><span id="l14.10">             inputStream.init( fp.file, MODE_RDONLY, parseInt(&quot;0444&quot;, 8), {});</span>
<a href="#l14.11"></a><span id="l14.11">             items = importer.importFromStream(inputStream, {});</span>
<a href="#l14.12"></a><span id="l14.12" class="difflineminus">-        } catch(ex) {</span>
<a href="#l14.13"></a><span id="l14.13" class="difflineplus">+        } catch (ex) {</span>
<a href="#l14.14"></a><span id="l14.14">             switch (ex.result) {</span>
<a href="#l14.15"></a><span id="l14.15">                 case Components.interfaces.calIErrors.INVALID_TIMEZONE:</span>
<a href="#l14.16"></a><span id="l14.16">                     showError(calGetString(&quot;calendar&quot;, &quot;timezoneError&quot;, [filePath]));</span>
<a href="#l14.17"></a><span id="l14.17">                     break;</span>
<a href="#l14.18"></a><span id="l14.18">                 default:</span>
<a href="#l14.19"></a><span id="l14.19">                     showError(calGetString(&quot;calendar&quot;, &quot;unableToRead&quot;) + filePath + &quot;\n&quot; + ex);</span>
<a href="#l14.20"></a><span id="l14.20">             }</span>
<a href="#l14.21"></a><span id="l14.21">         } finally {</span>
<a href="#l14.22"></a><span id="l14.22" class="difflineat">@@ -176,17 +176,17 @@ function putItemsIntoCal(destCal, aItems</span>
<a href="#l14.23"></a><span id="l14.23">             }</span>
<a href="#l14.24"></a><span id="l14.24">         }</span>
<a href="#l14.25"></a><span id="l14.25">     }</span>
<a href="#l14.26"></a><span id="l14.26"> </span>
<a href="#l14.27"></a><span id="l14.27">     for (let item of aItems) {</span>
<a href="#l14.28"></a><span id="l14.28">         // XXX prompt when finding a duplicate.</span>
<a href="#l14.29"></a><span id="l14.29">         try {</span>
<a href="#l14.30"></a><span id="l14.30">             destCal.addItem(item, listener);</span>
<a href="#l14.31"></a><span id="l14.31" class="difflineminus">-        } catch(e) {</span>
<a href="#l14.32"></a><span id="l14.32" class="difflineplus">+        } catch (e) {</span>
<a href="#l14.33"></a><span id="l14.33">             failedCount++;</span>
<a href="#l14.34"></a><span id="l14.34">             lastError = e;</span>
<a href="#l14.35"></a><span id="l14.35">             // Call the listener's operationComplete, to increase the</span>
<a href="#l14.36"></a><span id="l14.36">             // counter and not miss failed items. Otherwise, endBatch might</span>
<a href="#l14.37"></a><span id="l14.37">             // never be called.</span>
<a href="#l14.38"></a><span id="l14.38">             listener.onOperationComplete(null, null, null, null, null);</span>
<a href="#l14.39"></a><span id="l14.39">             Components.utils.reportError(&quot;Import error: &quot; + e);</span>
<a href="#l14.40"></a><span id="l14.40">         }</span>
<a href="#l14.41"></a><span id="l14.41" class="difflineat">@@ -301,17 +301,17 @@ function saveEventsToFile(calendarEventA</span>
<a href="#l14.42"></a><span id="l14.42"> </span>
<a href="#l14.43"></a><span id="l14.43">             // XXX Do the right thing with unicode and stuff. Or, again, should the</span>
<a href="#l14.44"></a><span id="l14.44">             //     exporter handle that?</span>
<a href="#l14.45"></a><span id="l14.45">             exporter.exportToStream(outputStream,</span>
<a href="#l14.46"></a><span id="l14.46">                                     calendarEventArray.length,</span>
<a href="#l14.47"></a><span id="l14.47">                                     calendarEventArray,</span>
<a href="#l14.48"></a><span id="l14.48">                                     null);</span>
<a href="#l14.49"></a><span id="l14.49">             outputStream.close();</span>
<a href="#l14.50"></a><span id="l14.50" class="difflineminus">-        } catch(ex) {</span>
<a href="#l14.51"></a><span id="l14.51" class="difflineplus">+        } catch (ex) {</span>
<a href="#l14.52"></a><span id="l14.52">             showError(calGetString(&quot;calendar&quot;, &quot;unableToWrite&quot;) + filePath);</span>
<a href="#l14.53"></a><span id="l14.53">         }</span>
<a href="#l14.54"></a><span id="l14.54">     }</span>
<a href="#l14.55"></a><span id="l14.55"> }</span>
<a href="#l14.56"></a><span id="l14.56"> </span>
<a href="#l14.57"></a><span id="l14.57"> /**</span>
<a href="#l14.58"></a><span id="l14.58">  * Exports all the events and tasks in a calendar.  If aCalendar is not specified,</span>
<a href="#l14.59"></a><span id="l14.59">  * the user will be prompted with a list of calendars to choose which one to export.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l15.1"></a><span id="l15.1" class="difflineminus">--- a/calendar/base/content/widgets/minimonth.xml</span>
<a href="#l15.2"></a><span id="l15.2" class="difflineplus">+++ b/calendar/base/content/widgets/minimonth.xml</span>
<a href="#l15.3"></a><span id="l15.3" class="difflineat">@@ -289,17 +289,17 @@</span>
<a href="#l15.4"></a><span id="l15.4">       &lt;handler event=&quot;bindingattached&quot; action=&quot;this.initialize();&quot;/&gt;</span>
<a href="#l15.5"></a><span id="l15.5">       &lt;!-- handle click from nested months popup and years popup --&gt;</span>
<a href="#l15.6"></a><span id="l15.6">       &lt;handler event=&quot;click&quot;&gt;</span>
<a href="#l15.7"></a><span id="l15.7">         &lt;![CDATA[</span>
<a href="#l15.8"></a><span id="l15.8">           let element = event.originalTarget;</span>
<a href="#l15.9"></a><span id="l15.9">           let popup = getParentNodeOrThis(element, &quot;menupopup&quot;);</span>
<a href="#l15.10"></a><span id="l15.10">           if (popup) {</span>
<a href="#l15.11"></a><span id="l15.11">               let anonid = popup.getAttribute(&quot;anonid&quot;)</span>
<a href="#l15.12"></a><span id="l15.12" class="difflineminus">-              switch(anonid) {</span>
<a href="#l15.13"></a><span id="l15.13" class="difflineplus">+              switch (anonid) {</span>
<a href="#l15.14"></a><span id="l15.14">                   case &quot;months-popup&quot;:</span>
<a href="#l15.15"></a><span id="l15.15">                       this.hidePopupList();</span>
<a href="#l15.16"></a><span id="l15.16">                       this.kMinimonth.switchMonth(element.getAttribute(&quot;index&quot;));</span>
<a href="#l15.17"></a><span id="l15.17">                       break;</span>
<a href="#l15.18"></a><span id="l15.18">                   case &quot;years-popup&quot;:</span>
<a href="#l15.19"></a><span id="l15.19">                       this.hidePopupList();</span>
<a href="#l15.20"></a><span id="l15.20">                       let value = element.getAttribute(&quot;value&quot;);</span>
<a href="#l15.21"></a><span id="l15.21">                       if (value) {</span>
<a href="#l15.22"></a><span id="l15.22" class="difflineat">@@ -1039,17 +1039,17 @@</span>
<a href="#l15.23"></a><span id="l15.23">             this.fireEvent('select');</span>
<a href="#l15.24"></a><span id="l15.24">           ]]&gt;&lt;/body&gt;</span>
<a href="#l15.25"></a><span id="l15.25">       &lt;/method&gt;</span>
<a href="#l15.26"></a><span id="l15.26"> </span>
<a href="#l15.27"></a><span id="l15.27">       &lt;method name=&quot;update&quot;&gt;</span>
<a href="#l15.28"></a><span id="l15.28">         &lt;parameter name=&quot;aValue&quot;/&gt;</span>
<a href="#l15.29"></a><span id="l15.29">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l15.30"></a><span id="l15.30">           this.mValue = aValue;</span>
<a href="#l15.31"></a><span id="l15.31" class="difflineminus">-          if(this.mValue) {</span>
<a href="#l15.32"></a><span id="l15.32" class="difflineplus">+          if (this.mValue) {</span>
<a href="#l15.33"></a><span id="l15.33">             this.fireEvent('change');</span>
<a href="#l15.34"></a><span id="l15.34">           }</span>
<a href="#l15.35"></a><span id="l15.35">           this.showMonth(aValue);</span>
<a href="#l15.36"></a><span id="l15.36">         ]]&gt;&lt;/body&gt;</span>
<a href="#l15.37"></a><span id="l15.37">       &lt;/method&gt;</span>
<a href="#l15.38"></a><span id="l15.38"> </span>
<a href="#l15.39"></a><span id="l15.39">       &lt;method name=&quot;hidePopupList&quot;&gt;</span>
<a href="#l15.40"></a><span id="l15.40">         &lt;body&gt;&lt;![CDATA[</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l16.1"></a><span id="l16.1" class="difflineminus">--- a/calendar/base/modules/calItipUtils.jsm</span>
<a href="#l16.2"></a><span id="l16.2" class="difflineplus">+++ b/calendar/base/modules/calItipUtils.jsm</span>
<a href="#l16.3"></a><span id="l16.3" class="difflineat">@@ -1046,20 +1046,20 @@ function sendMessage(aItem, aMethod, aRe</span>
<a href="#l16.4"></a><span id="l16.4">         // XXX I don't know whether the below are used at all, since we don't use the itip processor</span>
<a href="#l16.5"></a><span id="l16.5">         itipItem.isSend = true;</span>
<a href="#l16.6"></a><span id="l16.6"> </span>
<a href="#l16.7"></a><span id="l16.7">         return aTransport.sendItems(aSendToList.length, aSendToList, itipItem);</span>
<a href="#l16.8"></a><span id="l16.8">     };</span>
<a href="#l16.9"></a><span id="l16.9"> </span>
<a href="#l16.10"></a><span id="l16.10">     // split up transport, if attendee undisclosure is requested</span>
<a href="#l16.11"></a><span id="l16.11">     // and this is a message send by the organizer</span>
<a href="#l16.12"></a><span id="l16.12" class="difflineminus">-    if((aItem.getProperty(&quot;X-MOZ-SEND-INVITATIONS-UNDISCLOSED&quot;) == &quot;TRUE&quot;) &amp;&amp;</span>
<a href="#l16.13"></a><span id="l16.13" class="difflineminus">-       aMethod != &quot;REPLY&quot; &amp;&amp;</span>
<a href="#l16.14"></a><span id="l16.14" class="difflineminus">-       aMethod != &quot;REFRESH&quot; &amp;&amp;</span>
<a href="#l16.15"></a><span id="l16.15" class="difflineminus">-       aMethod != &quot;COUNTER&quot;) {</span>
<a href="#l16.16"></a><span id="l16.16" class="difflineplus">+    if (aItem.getProperty(&quot;X-MOZ-SEND-INVITATIONS-UNDISCLOSED&quot;) == &quot;TRUE&quot; &amp;&amp;</span>
<a href="#l16.17"></a><span id="l16.17" class="difflineplus">+        aMethod != &quot;REPLY&quot; &amp;&amp;</span>
<a href="#l16.18"></a><span id="l16.18" class="difflineplus">+        aMethod != &quot;REFRESH&quot; &amp;&amp;</span>
<a href="#l16.19"></a><span id="l16.19" class="difflineplus">+        aMethod != &quot;COUNTER&quot;) {</span>
<a href="#l16.20"></a><span id="l16.20">         for (let aRecipient of aRecipientsList) {</span>
<a href="#l16.21"></a><span id="l16.21">             // create a list with a single recipient</span>
<a href="#l16.22"></a><span id="l16.22">             let sendToList = [aRecipient];</span>
<a href="#l16.23"></a><span id="l16.23">             // remove other recipients from vevent attendee list</span>
<a href="#l16.24"></a><span id="l16.24">             let sendItem = aItem.clone();</span>
<a href="#l16.25"></a><span id="l16.25">             sendItem.removeAllAttendees();</span>
<a href="#l16.26"></a><span id="l16.26">             sendItem.addAttendee(aRecipient);</span>
<a href="#l16.27"></a><span id="l16.27">             // send message</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l17.1"></a><span id="l17.1" class="difflineminus">--- a/calendar/base/modules/calUtils.jsm</span>
<a href="#l17.2"></a><span id="l17.2" class="difflineplus">+++ b/calendar/base/modules/calUtils.jsm</span>
<a href="#l17.3"></a><span id="l17.3" class="difflineat">@@ -558,17 +558,17 @@ var cal = {</span>
<a href="#l17.4"></a><span id="l17.4">         default:</span>
<a href="#l17.5"></a><span id="l17.5">           return function compareOther(sortEntryA, sortEntryB) {</span>
<a href="#l17.6"></a><span id="l17.6">             return 0;</span>
<a href="#l17.7"></a><span id="l17.7">           };</span>
<a href="#l17.8"></a><span id="l17.8">       }</span>
<a href="#l17.9"></a><span id="l17.9">     },</span>
<a href="#l17.10"></a><span id="l17.10"> </span>
<a href="#l17.11"></a><span id="l17.11">     getItemSortKey: function cal_getItemSortKey(aItem, aKey, aStartTime) {</span>
<a href="#l17.12"></a><span id="l17.12" class="difflineminus">-      switch(aKey) {</span>
<a href="#l17.13"></a><span id="l17.13" class="difflineplus">+      switch (aKey) {</span>
<a href="#l17.14"></a><span id="l17.14">         case &quot;priority&quot;:</span>
<a href="#l17.15"></a><span id="l17.15">           return aItem.priority || 5;</span>
<a href="#l17.16"></a><span id="l17.16"> </span>
<a href="#l17.17"></a><span id="l17.17">         case &quot;title&quot;:</span>
<a href="#l17.18"></a><span id="l17.18">           return aItem.title || &quot;&quot;;</span>
<a href="#l17.19"></a><span id="l17.19"> </span>
<a href="#l17.20"></a><span id="l17.20">         case &quot;entryDate&quot;:</span>
<a href="#l17.21"></a><span id="l17.21">             return cal.nativeTime(aItem.entryDate);</span>
<a href="#l17.22"></a><span id="l17.22" class="difflineat">@@ -604,17 +604,17 @@ var cal = {</span>
<a href="#l17.23"></a><span id="l17.23">           return aItem.calendar.name || &quot;&quot;;</span>
<a href="#l17.24"></a><span id="l17.24"> </span>
<a href="#l17.25"></a><span id="l17.25">         default:</span>
<a href="#l17.26"></a><span id="l17.26">           return null;</span>
<a href="#l17.27"></a><span id="l17.27">       }</span>
<a href="#l17.28"></a><span id="l17.28">     },</span>
<a href="#l17.29"></a><span id="l17.29"> </span>
<a href="#l17.30"></a><span id="l17.30">     getSortTypeForSortKey: function cal_getSortTypeForSortKey(aSortKey) {</span>
<a href="#l17.31"></a><span id="l17.31" class="difflineminus">-      switch(aSortKey) {</span>
<a href="#l17.32"></a><span id="l17.32" class="difflineplus">+      switch (aSortKey) {</span>
<a href="#l17.33"></a><span id="l17.33">         case &quot;title&quot;:</span>
<a href="#l17.34"></a><span id="l17.34">         case &quot;categories&quot;:</span>
<a href="#l17.35"></a><span id="l17.35">         case &quot;location&quot;:</span>
<a href="#l17.36"></a><span id="l17.36">         case &quot;calendar&quot;:</span>
<a href="#l17.37"></a><span id="l17.37">           return &quot;string&quot;;</span>
<a href="#l17.38"></a><span id="l17.38"> </span>
<a href="#l17.39"></a><span id="l17.39">         // All dates use &quot;date_filled&quot;</span>
<a href="#l17.40"></a><span id="l17.40">         case &quot;completedDate&quot;:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l18.1"></a><span id="l18.1" class="difflineminus">--- a/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l18.2"></a><span id="l18.2" class="difflineplus">+++ b/calendar/base/src/calRecurrenceInfo.js</span>
<a href="#l18.3"></a><span id="l18.3" class="difflineat">@@ -636,17 +636,17 @@ calRecurrenceInfo.prototype = {</span>
<a href="#l18.4"></a><span id="l18.4"> </span>
<a href="#l18.5"></a><span id="l18.5">     restoreOccurrenceAt: function cRI_restoreOccurrenceAt(aRecurrenceId) {</span>
<a href="#l18.6"></a><span id="l18.6">         this.ensureBaseItem();</span>
<a href="#l18.7"></a><span id="l18.7">         this.ensureMutable();</span>
<a href="#l18.8"></a><span id="l18.8">         this.ensureSortedRecurrenceRules();</span>
<a href="#l18.9"></a><span id="l18.9"> </span>
<a href="#l18.10"></a><span id="l18.10">         for (var i = 0; i &lt; this.mRecurrenceItems.length; i++) {</span>
<a href="#l18.11"></a><span id="l18.11">             let wrappedItem = cal.wrapInstance(this.mRecurrenceItems[i], Components.interfaces.calIRecurrenceDate);</span>
<a href="#l18.12"></a><span id="l18.12" class="difflineminus">-            if(wrappedItem) {</span>
<a href="#l18.13"></a><span id="l18.13" class="difflineplus">+            if (wrappedItem) {</span>
<a href="#l18.14"></a><span id="l18.14">                 let rd = wrappedItem;</span>
<a href="#l18.15"></a><span id="l18.15">                 if (rd.isNegative &amp;&amp; rd.date.compare(aRecurrenceId) == 0) {</span>
<a href="#l18.16"></a><span id="l18.16">                     return this.deleteRecurrenceItemAt(i);</span>
<a href="#l18.17"></a><span id="l18.17">                 }</span>
<a href="#l18.18"></a><span id="l18.18">             }</span>
<a href="#l18.19"></a><span id="l18.19">         }</span>
<a href="#l18.20"></a><span id="l18.20"> </span>
<a href="#l18.21"></a><span id="l18.21">         throw Components.results.NS_ERROR_INVALID_ARG;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l19.1"></a><span id="l19.1" class="difflineminus">--- a/calendar/base/src/calTimezoneService.js</span>
<a href="#l19.2"></a><span id="l19.2" class="difflineplus">+++ b/calendar/base/src/calTimezoneService.js</span>
<a href="#l19.3"></a><span id="l19.3" class="difflineat">@@ -663,17 +663,17 @@ function guessSystemTimezone() {</span>
<a href="#l19.4"></a><span id="l19.4">                 zoneInfoIdFromOSUserTimeZone = results[1];</span>
<a href="#l19.5"></a><span id="l19.5">             }</span>
<a href="#l19.6"></a><span id="l19.6">         }</span>
<a href="#l19.7"></a><span id="l19.7"> </span>
<a href="#l19.8"></a><span id="l19.8">         // check how well OS tz matches tz defined in our version of zoneinfo db</span>
<a href="#l19.9"></a><span id="l19.9">         if (zoneInfoIdFromOSUserTimeZone != null) {</span>
<a href="#l19.10"></a><span id="l19.10">             let tzId = zoneInfoIdFromOSUserTimeZone;</span>
<a href="#l19.11"></a><span id="l19.11">             let score = checkTZ(tzId);</span>
<a href="#l19.12"></a><span id="l19.12" class="difflineminus">-            switch(score) {</span>
<a href="#l19.13"></a><span id="l19.13" class="difflineplus">+            switch (score) {</span>
<a href="#l19.14"></a><span id="l19.14">             case 0:</span>
<a href="#l19.15"></a><span id="l19.15">                 // Did not match.</span>
<a href="#l19.16"></a><span id="l19.16">                 // Maybe OS or Application is old, and the timezone changed.</span>
<a href="#l19.17"></a><span id="l19.17">                 // Or maybe user turned off DST in Date/Time control panel.</span>
<a href="#l19.18"></a><span id="l19.18">                 // Will look for a better matching tz, or fallback to floating.</span>
<a href="#l19.19"></a><span id="l19.19">                 // (Match OS so alarms go off at time indicated by OS clock.)</span>
<a href="#l19.20"></a><span id="l19.20">                 cal.WARN(calProperties.formatStringFromName(</span>
<a href="#l19.21"></a><span id="l19.21">                          &quot;WarningOSTZNoMatch&quot;, [osUserTimeZone, zoneInfoIdFromOSUserTimeZone], 2));</span>
<a href="#l19.22"></a><span id="l19.22" class="difflineat">@@ -737,17 +737,17 @@ function guessSystemTimezone() {</span>
<a href="#l19.23"></a><span id="l19.23">     }</span>
<a href="#l19.24"></a><span id="l19.24"> </span>
<a href="#l19.25"></a><span id="l19.25">     // Third, try all known timezones.</span>
<a href="#l19.26"></a><span id="l19.26">     const tzIDs = tzSvc.timezoneIds;</span>
<a href="#l19.27"></a><span id="l19.27">     while (tzIDs.hasMore()) {</span>
<a href="#l19.28"></a><span id="l19.28">         let tzId = tzIDs.getNext();</span>
<a href="#l19.29"></a><span id="l19.29">         try {</span>
<a href="#l19.30"></a><span id="l19.30">             let score = checkTZ(tzId);</span>
<a href="#l19.31"></a><span id="l19.31" class="difflineminus">-            switch(score) {</span>
<a href="#l19.32"></a><span id="l19.32" class="difflineplus">+            switch (score) {</span>
<a href="#l19.33"></a><span id="l19.33">             case 0: break;</span>
<a href="#l19.34"></a><span id="l19.34">             case 1: case 2:</span>
<a href="#l19.35"></a><span id="l19.35">                 if (score &gt; probableTZScore) {</span>
<a href="#l19.36"></a><span id="l19.36">                     probableTZId = tzId;</span>
<a href="#l19.37"></a><span id="l19.37">                     probableTZScore = score;</span>
<a href="#l19.38"></a><span id="l19.38">                     probableTZSource = calProperties.GetStringFromName(&quot;TZFromKnownTimezones&quot;);</span>
<a href="#l19.39"></a><span id="l19.39">                 }</span>
<a href="#l19.40"></a><span id="l19.40">                 break;</span>
<a href="#l19.41"></a><span id="l19.41" class="difflineat">@@ -757,17 +757,17 @@ function guessSystemTimezone() {</span>
<a href="#l19.42"></a><span id="l19.42">         } catch (ex) { // bug if ics service doesn't recognize own tzid!</span>
<a href="#l19.43"></a><span id="l19.43">             let msg = &quot;ics-service doesn't recognize own tzid: &quot; + tzId + &quot;\n&quot; + ex;</span>
<a href="#l19.44"></a><span id="l19.44">             Components.utils.reportError(msg);</span>
<a href="#l19.45"></a><span id="l19.45">         }</span>
<a href="#l19.46"></a><span id="l19.46">     }</span>
<a href="#l19.47"></a><span id="l19.47"> </span>
<a href="#l19.48"></a><span id="l19.48">     // If reach here, there were no score=3 matches, so Warn in console.</span>
<a href="#l19.49"></a><span id="l19.49">     try {</span>
<a href="#l19.50"></a><span id="l19.50" class="difflineminus">-        switch(probableTZScore) {</span>
<a href="#l19.51"></a><span id="l19.51" class="difflineplus">+        switch (probableTZScore) {</span>
<a href="#l19.52"></a><span id="l19.52">         case 0:</span>
<a href="#l19.53"></a><span id="l19.53">             cal.WARN(calProperties.GetStringFromName(&quot;warningUsingFloatingTZNoMatch&quot;));</span>
<a href="#l19.54"></a><span id="l19.54">             break;</span>
<a href="#l19.55"></a><span id="l19.55">         case 1: case 2:</span>
<a href="#l19.56"></a><span id="l19.56">             let tzId = probableTZId;</span>
<a href="#l19.57"></a><span id="l19.57">             var tz = tzSvc.getTimezone(tzId);</span>
<a href="#l19.58"></a><span id="l19.58">             var subComp = tz.icalComponent;</span>
<a href="#l19.59"></a><span id="l19.59">             var standard = findCurrentTimePeriod(tz, subComp, &quot;STANDARD&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l20.1"></a><span id="l20.1" class="difflineminus">--- a/calendar/base/src/calUtils.js</span>
<a href="#l20.2"></a><span id="l20.2" class="difflineplus">+++ b/calendar/base/src/calUtils.js</span>
<a href="#l20.3"></a><span id="l20.3" class="difflineat">@@ -196,17 +196,17 @@ function getRecentTimezones(aConvertZone</span>
<a href="#l20.4"></a><span id="l20.4">  *</span>
<a href="#l20.5"></a><span id="l20.5">  * @param aString       The unicode string to format</span>
<a href="#l20.6"></a><span id="l20.6">  * @return              The formatted string using only chars [_a-zA-Z0-9-]</span>
<a href="#l20.7"></a><span id="l20.7">  */</span>
<a href="#l20.8"></a><span id="l20.8"> function formatStringForCSSRule(aString) {</span>
<a href="#l20.9"></a><span id="l20.9">     function toReplacement(ch) {</span>
<a href="#l20.10"></a><span id="l20.10">         // char code is natural number (positive integer)</span>
<a href="#l20.11"></a><span id="l20.11">         var nat = ch.charCodeAt(0);</span>
<a href="#l20.12"></a><span id="l20.12" class="difflineminus">-        switch(nat) {</span>
<a href="#l20.13"></a><span id="l20.13" class="difflineplus">+        switch (nat) {</span>
<a href="#l20.14"></a><span id="l20.14">             case 0x20: // space</span>
<a href="#l20.15"></a><span id="l20.15">                 return &quot;_&quot;;</span>
<a href="#l20.16"></a><span id="l20.16">             default:</span>
<a href="#l20.17"></a><span id="l20.17">                 return &quot;-ux&quot; + nat.toString(16) + &quot;-&quot;; // lowercase</span>
<a href="#l20.18"></a><span id="l20.18">         }</span>
<a href="#l20.19"></a><span id="l20.19">     }</span>
<a href="#l20.20"></a><span id="l20.20">     // Result must be lowercase or style rule will not work.</span>
<a href="#l20.21"></a><span id="l20.21">     return aString.toLowerCase().replace(/[^a-zA-Z0-9]/g, toReplacement);</span>
<a href="#l20.22"></a><span id="l20.22" class="difflineat">@@ -912,17 +912,17 @@ function _log(message, flag) {</span>
<a href="#l20.23"></a><span id="l20.23">  *</span>
<a href="#l20.24"></a><span id="l20.24">  * @param aArg  either a string to log or an object whose entire set of</span>
<a href="#l20.25"></a><span id="l20.25">  *              properties should be logged.</span>
<a href="#l20.26"></a><span id="l20.26">  */</span>
<a href="#l20.27"></a><span id="l20.27"> function LOG(aArg) {</span>
<a href="#l20.28"></a><span id="l20.28">     var shouldLog = false;</span>
<a href="#l20.29"></a><span id="l20.29">     try {</span>
<a href="#l20.30"></a><span id="l20.30">         shouldLog = Services.prefs.getBoolPref(&quot;calendar.debug.log&quot;);</span>
<a href="#l20.31"></a><span id="l20.31" class="difflineminus">-    } catch(ex) {}</span>
<a href="#l20.32"></a><span id="l20.32" class="difflineplus">+    } catch (ex) {}</span>
<a href="#l20.33"></a><span id="l20.33"> </span>
<a href="#l20.34"></a><span id="l20.34">     if (!shouldLog) {</span>
<a href="#l20.35"></a><span id="l20.35">         return;</span>
<a href="#l20.36"></a><span id="l20.36">     }</span>
<a href="#l20.37"></a><span id="l20.37">     ASSERT(aArg, &quot;Bad log argument.&quot;, false);</span>
<a href="#l20.38"></a><span id="l20.38">     var string = aArg;</span>
<a href="#l20.39"></a><span id="l20.39">     // We should just dump() both String objects, and string primitives.</span>
<a href="#l20.40"></a><span id="l20.40">     if (!(aArg instanceof String) &amp;&amp; !(typeof aArg == &quot;string&quot;)) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l21.1"></a><span id="l21.1" class="difflineminus">--- a/calendar/lightning/content/imip-bar.js</span>
<a href="#l21.2"></a><span id="l21.2" class="difflineplus">+++ b/calendar/lightning/content/imip-bar.js</span>
<a href="#l21.3"></a><span id="l21.3" class="difflineat">@@ -283,17 +283,17 @@ var ltnImipBar = {</span>
<a href="#l21.4"></a><span id="l21.4"> </span>
<a href="#l21.5"></a><span id="l21.5">         function _execAction(aActionFunc, aItipItem, aWindow, aPartStat) {</span>
<a href="#l21.6"></a><span id="l21.6">             if (cal.itip.promptCalendar(aActionFunc.method, aItipItem, aWindow)) {</span>
<a href="#l21.7"></a><span id="l21.7">                 // filter out fake partstats</span>
<a href="#l21.8"></a><span id="l21.8">                 if (aPartStat.startsWith(&quot;X-&quot;)) {</span>
<a href="#l21.9"></a><span id="l21.9">                     partstat = &quot;&quot;;</span>
<a href="#l21.10"></a><span id="l21.10">                 }</span>
<a href="#l21.11"></a><span id="l21.11">                 // hide the buttons now, to disable pressing them twice...</span>
<a href="#l21.12"></a><span id="l21.12" class="difflineminus">-                if(aPartStat == partStat) {</span>
<a href="#l21.13"></a><span id="l21.13" class="difflineplus">+                if (aPartStat == partStat) {</span>
<a href="#l21.14"></a><span id="l21.14">                     ltnImipBar.resetButtons();</span>
<a href="#l21.15"></a><span id="l21.15">                 }</span>
<a href="#l21.16"></a><span id="l21.16"> </span>
<a href="#l21.17"></a><span id="l21.17">                 let opListener = {</span>
<a href="#l21.18"></a><span id="l21.18">                     QueryInterface: XPCOMUtils.generateQI([Components.interfaces.calIOperationListener]),</span>
<a href="#l21.19"></a><span id="l21.19">                     onOperationComplete: function ltnItipActionListener_onOperationComplete(aCalendar,</span>
<a href="#l21.20"></a><span id="l21.20">                                                                                             aStatus,</span>
<a href="#l21.21"></a><span id="l21.21">                                                                                             aOperationType,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l22.1"></a><span id="l22.1" class="difflineminus">--- a/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l22.2"></a><span id="l22.2" class="difflineplus">+++ b/calendar/lightning/modules/ltnInvitationUtils.jsm</span>
<a href="#l22.3"></a><span id="l22.3" class="difflineat">@@ -448,17 +448,17 @@ ltn.invitation = {</span>
<a href="#l22.4"></a><span id="l22.4">     getRfc5322FormattedDate: function (aDate = null) {</span>
<a href="#l22.5"></a><span id="l22.5">         let date = aDate || new Date();</span>
<a href="#l22.6"></a><span id="l22.6">         let str = date.toString()</span>
<a href="#l22.7"></a><span id="l22.7">                       .replace(/^(\w{3}) (\w{3}) (\d{2}) (\d{4}) ([0-9:]{8}) GMT([+-])(\d{4}).*$/,</span>
<a href="#l22.8"></a><span id="l22.8">                                &quot;$1, $3 $2 $4 $5 $6$7&quot;);</span>
<a href="#l22.9"></a><span id="l22.9">         // according to section 3.3 of RfC5322, +0000 should be used for defined timezones using</span>
<a href="#l22.10"></a><span id="l22.10">         // UTC time, while -0000 should indicate a floating time instead</span>
<a href="#l22.11"></a><span id="l22.11">         let tz = cal.calendarDefaultTimezone();</span>
<a href="#l22.12"></a><span id="l22.12" class="difflineminus">-        if(tz &amp;&amp; tz.isFloating) {</span>
<a href="#l22.13"></a><span id="l22.13" class="difflineplus">+        if (tz &amp;&amp; tz.isFloating) {</span>
<a href="#l22.14"></a><span id="l22.14">             str.replace(/\+0000$/, &quot;-0000&quot;);</span>
<a href="#l22.15"></a><span id="l22.15">         }</span>
<a href="#l22.16"></a><span id="l22.16">         return str;</span>
<a href="#l22.17"></a><span id="l22.17">     },</span>
<a href="#l22.18"></a><span id="l22.18"> </span>
<a href="#l22.19"></a><span id="l22.19">     /**</span>
<a href="#l22.20"></a><span id="l22.20">      * Converts a given unicode text to utf-8 and normalizes line-breaks to \r\n</span>
<a href="#l22.21"></a><span id="l22.21">      * @param  {String} aText   a unicode encoded string</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l23.1"></a><span id="l23.1" class="difflineminus">--- a/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l23.2"></a><span id="l23.2" class="difflineplus">+++ b/calendar/providers/ics/calICSCalendar.js</span>
<a href="#l23.3"></a><span id="l23.3" class="difflineat">@@ -190,17 +190,17 @@ calICSCalendar.prototype = {</span>
<a href="#l23.4"></a><span id="l23.4">                                      .createInstance(Components.interfaces.nsIStreamLoader);</span>
<a href="#l23.5"></a><span id="l23.5"> </span>
<a href="#l23.6"></a><span id="l23.6">         // Lock other changes to the item list.</span>
<a href="#l23.7"></a><span id="l23.7">         this.lock();</span>
<a href="#l23.8"></a><span id="l23.8"> </span>
<a href="#l23.9"></a><span id="l23.9">         try {</span>
<a href="#l23.10"></a><span id="l23.10">             streamLoader.init(this);</span>
<a href="#l23.11"></a><span id="l23.11">             channel.asyncOpen(streamLoader, prbForce);</span>
<a href="#l23.12"></a><span id="l23.12" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.13"></a><span id="l23.13" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.14"></a><span id="l23.14">             // File not found: a new calendar. No problem.</span>
<a href="#l23.15"></a><span id="l23.15">             cal.LOG(&quot;[calICSCalendar] Error occurred opening channel: &quot; + e);</span>
<a href="#l23.16"></a><span id="l23.16">             this.unlock();</span>
<a href="#l23.17"></a><span id="l23.17">         }</span>
<a href="#l23.18"></a><span id="l23.18">     },</span>
<a href="#l23.19"></a><span id="l23.19"> </span>
<a href="#l23.20"></a><span id="l23.20">     // nsIChannelEventSink implementation</span>
<a href="#l23.21"></a><span id="l23.21">     asyncOnChannelRedirect: function(aOldChannel, aNewChannel, aFlags, aCallback) {</span>
<a href="#l23.22"></a><span id="l23.22" class="difflineat">@@ -249,17 +249,17 @@ calICSCalendar.prototype = {</span>
<a href="#l23.23"></a><span id="l23.23">         // need to be interpreted as utf8 and put into a javascript string.</span>
<a href="#l23.24"></a><span id="l23.24">         var unicodeConverter = Components.classes[&quot;@mozilla.org/intl/scriptableunicodeconverter&quot;]</span>
<a href="#l23.25"></a><span id="l23.25">                                          .createInstance(Components.interfaces.nsIScriptableUnicodeConverter);</span>
<a href="#l23.26"></a><span id="l23.26">         // ics files are always utf8</span>
<a href="#l23.27"></a><span id="l23.27">         unicodeConverter.charset = &quot;UTF-8&quot;;</span>
<a href="#l23.28"></a><span id="l23.28">         var str;</span>
<a href="#l23.29"></a><span id="l23.29">         try {</span>
<a href="#l23.30"></a><span id="l23.30">             str = unicodeConverter.convertFromByteArray(result, result.length);</span>
<a href="#l23.31"></a><span id="l23.31" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.32"></a><span id="l23.32" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.33"></a><span id="l23.33">             this.mObserver.onError(this.superCalendar, calIErrors.CAL_UTF8_DECODING_FAILED, e.toString());</span>
<a href="#l23.34"></a><span id="l23.34">             this.mObserver.onError(this.superCalendar, calIErrors.READ_FAILED, &quot;&quot;);</span>
<a href="#l23.35"></a><span id="l23.35">             this.unlock();</span>
<a href="#l23.36"></a><span id="l23.36">             return;</span>
<a href="#l23.37"></a><span id="l23.37">         }</span>
<a href="#l23.38"></a><span id="l23.38"> </span>
<a href="#l23.39"></a><span id="l23.39">         this.createMemoryCalendar();</span>
<a href="#l23.40"></a><span id="l23.40"> </span>
<a href="#l23.41"></a><span id="l23.41" class="difflineat">@@ -423,17 +423,17 @@ calICSCalendar.prototype = {</span>
<a href="#l23.42"></a><span id="l23.42">     onStopRequest: function(request, ctxt, status, errorMsg)</span>
<a href="#l23.43"></a><span id="l23.43">     {</span>
<a href="#l23.44"></a><span id="l23.44">         ctxt = ctxt.wrappedJSObject;</span>
<a href="#l23.45"></a><span id="l23.45">         let httpChannel;</span>
<a href="#l23.46"></a><span id="l23.46">         let requestSucceeded = false;</span>
<a href="#l23.47"></a><span id="l23.47">         try {</span>
<a href="#l23.48"></a><span id="l23.48">             httpChannel = request.QueryInterface(Components.interfaces.nsIHttpChannel);</span>
<a href="#l23.49"></a><span id="l23.49">             requestSucceeded = httpChannel.requestSucceeded;</span>
<a href="#l23.50"></a><span id="l23.50" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.51"></a><span id="l23.51" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.52"></a><span id="l23.52">         }</span>
<a href="#l23.53"></a><span id="l23.53"> </span>
<a href="#l23.54"></a><span id="l23.54">         if (httpChannel) {</span>
<a href="#l23.55"></a><span id="l23.55">             cal.LOG(&quot;[calICSCalendar] channel.requestSucceeded: &quot; + requestSucceeded);</span>
<a href="#l23.56"></a><span id="l23.56">         }</span>
<a href="#l23.57"></a><span id="l23.57"> </span>
<a href="#l23.58"></a><span id="l23.58">         if ((httpChannel &amp;&amp; !requestSucceeded) ||</span>
<a href="#l23.59"></a><span id="l23.59">             (!httpChannel &amp;&amp; !Components.isSuccessCode(request.status))) {</span>
<a href="#l23.60"></a><span id="l23.60" class="difflineat">@@ -685,17 +685,17 @@ calICSCalendar.prototype = {</span>
<a href="#l23.61"></a><span id="l23.61">                 let file = backupDir.clone();</span>
<a href="#l23.62"></a><span id="l23.62">                 file.append(filteredFiles[i].name);</span>
<a href="#l23.63"></a><span id="l23.63"> </span>
<a href="#l23.64"></a><span id="l23.64">                 // This can fail because of some crappy code in nsILocalFile.</span>
<a href="#l23.65"></a><span id="l23.65">                 // That's not the end of the world.  We can try to remove the</span>
<a href="#l23.66"></a><span id="l23.66">                 // file the next time around.</span>
<a href="#l23.67"></a><span id="l23.67">                 try {</span>
<a href="#l23.68"></a><span id="l23.68">                     file.remove(false);</span>
<a href="#l23.69"></a><span id="l23.69" class="difflineminus">-                } catch(ex) {}</span>
<a href="#l23.70"></a><span id="l23.70" class="difflineplus">+                } catch (ex) {}</span>
<a href="#l23.71"></a><span id="l23.71">             }</span>
<a href="#l23.72"></a><span id="l23.72">             return;</span>
<a href="#l23.73"></a><span id="l23.73">         }</span>
<a href="#l23.74"></a><span id="l23.74"> </span>
<a href="#l23.75"></a><span id="l23.75">         function purgeOldBackups() {</span>
<a href="#l23.76"></a><span id="l23.76">             // Enumerate files in the backupdir for expiry of old backups</span>
<a href="#l23.77"></a><span id="l23.77">             var dirEnum = backupDir.directoryEntries;</span>
<a href="#l23.78"></a><span id="l23.78">             var files = [];</span>
<a href="#l23.79"></a><span id="l23.79" class="difflineat">@@ -719,49 +719,49 @@ calICSCalendar.prototype = {</span>
<a href="#l23.80"></a><span id="l23.80">             try {</span>
<a href="#l23.81"></a><span id="l23.81">                 var newFile = newParentDir.clone();</span>
<a href="#l23.82"></a><span id="l23.82">                 newFile.append(newName);</span>
<a href="#l23.83"></a><span id="l23.83"> </span>
<a href="#l23.84"></a><span id="l23.84">                 if (newFile.exists()) {</span>
<a href="#l23.85"></a><span id="l23.85">                     newFile.remove(false);</span>
<a href="#l23.86"></a><span id="l23.86">                 }</span>
<a href="#l23.87"></a><span id="l23.87">                 oldFile.copyTo(newParentDir, newName);</span>
<a href="#l23.88"></a><span id="l23.88" class="difflineminus">-            } catch(e) {</span>
<a href="#l23.89"></a><span id="l23.89" class="difflineplus">+            } catch (e) {</span>
<a href="#l23.90"></a><span id="l23.90">                 cal.ERROR(&quot;[calICSCalendar] Backup failed, no copy: &quot; + e);</span>
<a href="#l23.91"></a><span id="l23.91">                 // Error in making a daily/initial backup.</span>
<a href="#l23.92"></a><span id="l23.92">                 // not fatal, so just continue</span>
<a href="#l23.93"></a><span id="l23.93">             }</span>
<a href="#l23.94"></a><span id="l23.94">         }</span>
<a href="#l23.95"></a><span id="l23.95"> </span>
<a href="#l23.96"></a><span id="l23.96">         var backupDays = Preferences.get(&quot;calendar.backup.days&quot;, 1);</span>
<a href="#l23.97"></a><span id="l23.97">         var numBackupFiles = Preferences.get(&quot;calendar.backup.filenum&quot;, 3);</span>
<a href="#l23.98"></a><span id="l23.98"> </span>
<a href="#l23.99"></a><span id="l23.99">         let backupDir;</span>
<a href="#l23.100"></a><span id="l23.100">         try {</span>
<a href="#l23.101"></a><span id="l23.101">             backupDir = cal.getCalendarDirectory();</span>
<a href="#l23.102"></a><span id="l23.102">             backupDir.append(&quot;backup&quot;);</span>
<a href="#l23.103"></a><span id="l23.103">             if (!backupDir.exists()) {</span>
<a href="#l23.104"></a><span id="l23.104">                 backupDir.create(CI.nsIFile.DIRECTORY_TYPE, parseInt(&quot;0755&quot;, 8));</span>
<a href="#l23.105"></a><span id="l23.105">             }</span>
<a href="#l23.106"></a><span id="l23.106" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.107"></a><span id="l23.107" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.108"></a><span id="l23.108">             // Backup dir wasn't found. Likely because we are running in</span>
<a href="#l23.109"></a><span id="l23.109">             // xpcshell. Don't die, but continue the upload.</span>
<a href="#l23.110"></a><span id="l23.110">             cal.ERROR(&quot;[calICSCalendar] Backup failed, no backupdir:&quot; + e);</span>
<a href="#l23.111"></a><span id="l23.111">             aCallback.call(this);</span>
<a href="#l23.112"></a><span id="l23.112">             return;</span>
<a href="#l23.113"></a><span id="l23.113">         }</span>
<a href="#l23.114"></a><span id="l23.114"> </span>
<a href="#l23.115"></a><span id="l23.115">         let pseudoID;</span>
<a href="#l23.116"></a><span id="l23.116">         try {</span>
<a href="#l23.117"></a><span id="l23.117">             pseudoID = this.getProperty(&quot;uniquenum2&quot;);</span>
<a href="#l23.118"></a><span id="l23.118">             if (!pseudoID) {</span>
<a href="#l23.119"></a><span id="l23.119">                 pseudoID = new Date().getTime();</span>
<a href="#l23.120"></a><span id="l23.120">                 this.setProperty(&quot;uniquenum2&quot;, pseudoID);</span>
<a href="#l23.121"></a><span id="l23.121">             }</span>
<a href="#l23.122"></a><span id="l23.122" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.123"></a><span id="l23.123" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.124"></a><span id="l23.124">             // calendarmgr not found. Likely because we are running in</span>
<a href="#l23.125"></a><span id="l23.125">             // xpcshell. Don't die, but continue the upload.</span>
<a href="#l23.126"></a><span id="l23.126">             cal.ERROR(&quot;[calICSCalendar] Backup failed, no calendarmanager:&quot; + e);</span>
<a href="#l23.127"></a><span id="l23.127">             aCallback.call(this);</span>
<a href="#l23.128"></a><span id="l23.128">             return;</span>
<a href="#l23.129"></a><span id="l23.129">         }</span>
<a href="#l23.130"></a><span id="l23.130"> </span>
<a href="#l23.131"></a><span id="l23.131">         var doInitialBackup = false;</span>
<a href="#l23.132"></a><span id="l23.132" class="difflineat">@@ -816,17 +816,17 @@ calICSCalendar.prototype = {</span>
<a href="#l23.133"></a><span id="l23.133"> </span>
<a href="#l23.134"></a><span id="l23.134">                 aCallback.call(savedthis);</span>
<a href="#l23.135"></a><span id="l23.135">             }</span>
<a href="#l23.136"></a><span id="l23.136">         }</span>
<a href="#l23.137"></a><span id="l23.137"> </span>
<a href="#l23.138"></a><span id="l23.138">         downloader.init(listener, backupFile);</span>
<a href="#l23.139"></a><span id="l23.139">         try {</span>
<a href="#l23.140"></a><span id="l23.140">             channel.asyncOpen(downloader, null);</span>
<a href="#l23.141"></a><span id="l23.141" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.142"></a><span id="l23.142" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.143"></a><span id="l23.143">             // For local files, asyncOpen throws on new (calendar) files</span>
<a href="#l23.144"></a><span id="l23.144">             // No problem, go and upload something</span>
<a href="#l23.145"></a><span id="l23.145">             cal.ERROR(&quot;[calICSCalendar] Backup failed in asyncOpen:&quot; + e);</span>
<a href="#l23.146"></a><span id="l23.146">             aCallback.call(this);</span>
<a href="#l23.147"></a><span id="l23.147">             return;</span>
<a href="#l23.148"></a><span id="l23.148">         }</span>
<a href="#l23.149"></a><span id="l23.149"> </span>
<a href="#l23.150"></a><span id="l23.150">         return;</span>
<a href="#l23.151"></a><span id="l23.151" class="difflineat">@@ -942,17 +942,17 @@ httpHooks.prototype = {</span>
<a href="#l23.152"></a><span id="l23.152">     onAfterGet: function(aChannel, aForceRefresh) {</span>
<a href="#l23.153"></a><span id="l23.153">         let httpchannel = aChannel.QueryInterface(Components.interfaces.nsIHttpChannel);</span>
<a href="#l23.154"></a><span id="l23.154">         let responseStatus = 0;</span>
<a href="#l23.155"></a><span id="l23.155">         let responseStatusCategory = 0;</span>
<a href="#l23.156"></a><span id="l23.156"> </span>
<a href="#l23.157"></a><span id="l23.157">         try {</span>
<a href="#l23.158"></a><span id="l23.158">             responseStatus = httpchannel.responseStatus;</span>
<a href="#l23.159"></a><span id="l23.159">             responseStatusCategory = Math.floor(responseStatus / 100);</span>
<a href="#l23.160"></a><span id="l23.160" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.161"></a><span id="l23.161" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.162"></a><span id="l23.162">             // Error might have been a temporary connection issue, keep old data to</span>
<a href="#l23.163"></a><span id="l23.163">             // prevent potential data loss if it becomes available again.</span>
<a href="#l23.164"></a><span id="l23.164">             cal.LOG(&quot;[calICSCalendar] Unable to get response status.&quot;);</span>
<a href="#l23.165"></a><span id="l23.165">             return false;</span>
<a href="#l23.166"></a><span id="l23.166">         }</span>
<a href="#l23.167"></a><span id="l23.167"> </span>
<a href="#l23.168"></a><span id="l23.168">         if (responseStatus == 304) {</span>
<a href="#l23.169"></a><span id="l23.169">             // 304: Not Modified</span>
<a href="#l23.170"></a><span id="l23.170" class="difflineat">@@ -973,24 +973,24 @@ httpHooks.prototype = {</span>
<a href="#l23.171"></a><span id="l23.171">             cal.LOG(&quot;[calICSCalendar] Response status &quot; + responseStatus + &quot;, temporarily disabling calendar for safety.&quot;);</span>
<a href="#l23.172"></a><span id="l23.172">             this.mCalendar.setProperty(&quot;disabled&quot;, &quot;true&quot;);</span>
<a href="#l23.173"></a><span id="l23.173">             this.mCalendar.setProperty(&quot;auto-enabled&quot;, &quot;true&quot;);</span>
<a href="#l23.174"></a><span id="l23.174">             return false;</span>
<a href="#l23.175"></a><span id="l23.175">         }</span>
<a href="#l23.176"></a><span id="l23.176"> </span>
<a href="#l23.177"></a><span id="l23.177">         try {</span>
<a href="#l23.178"></a><span id="l23.178">             this.mEtag = httpchannel.getResponseHeader(&quot;ETag&quot;);</span>
<a href="#l23.179"></a><span id="l23.179" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.180"></a><span id="l23.180" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.181"></a><span id="l23.181">             // No etag header. Now what?</span>
<a href="#l23.182"></a><span id="l23.182">             this.mEtag = null;</span>
<a href="#l23.183"></a><span id="l23.183">         }</span>
<a href="#l23.184"></a><span id="l23.184"> </span>
<a href="#l23.185"></a><span id="l23.185">         try {</span>
<a href="#l23.186"></a><span id="l23.186">             this.mLastModified = httpchannel.getResponseHeader(&quot;Last-Modified&quot;);</span>
<a href="#l23.187"></a><span id="l23.187" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.188"></a><span id="l23.188" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.189"></a><span id="l23.189">             this.mLastModified = null;</span>
<a href="#l23.190"></a><span id="l23.190">         }</span>
<a href="#l23.191"></a><span id="l23.191"> </span>
<a href="#l23.192"></a><span id="l23.192">         return true;</span>
<a href="#l23.193"></a><span id="l23.193">     },</span>
<a href="#l23.194"></a><span id="l23.194"> </span>
<a href="#l23.195"></a><span id="l23.195">     onBeforePut: function(aChannel) {</span>
<a href="#l23.196"></a><span id="l23.196">         if (this.mEtag) {</span>
<a href="#l23.197"></a><span id="l23.197" class="difflineat">@@ -1003,17 +1003,17 @@ httpHooks.prototype = {</span>
<a href="#l23.198"></a><span id="l23.198">         return true;</span>
<a href="#l23.199"></a><span id="l23.199">     },</span>
<a href="#l23.200"></a><span id="l23.200"> </span>
<a href="#l23.201"></a><span id="l23.201">     onAfterPut: function(aChannel, aRespFunc) {</span>
<a href="#l23.202"></a><span id="l23.202">         var httpchannel = aChannel.QueryInterface(Components.interfaces.nsIHttpChannel);</span>
<a href="#l23.203"></a><span id="l23.203">         try {</span>
<a href="#l23.204"></a><span id="l23.204">             this.mEtag = httpchannel.getResponseHeader(&quot;ETag&quot;);</span>
<a href="#l23.205"></a><span id="l23.205">             aRespFunc();</span>
<a href="#l23.206"></a><span id="l23.206" class="difflineminus">-        } catch(e) {</span>
<a href="#l23.207"></a><span id="l23.207" class="difflineplus">+        } catch (e) {</span>
<a href="#l23.208"></a><span id="l23.208">             // There was no ETag header on the response. This means that</span>
<a href="#l23.209"></a><span id="l23.209">             // putting is not atomic. This is bad. Race conditions can happen,</span>
<a href="#l23.210"></a><span id="l23.210">             // because there is a time in which we don't know the right</span>
<a href="#l23.211"></a><span id="l23.211">             // etag.</span>
<a href="#l23.212"></a><span id="l23.212">             // Try to do the best we can, by immediatly getting the etag.</span>
<a href="#l23.213"></a><span id="l23.213"> </span>
<a href="#l23.214"></a><span id="l23.214">             var etagListener = {};</span>
<a href="#l23.215"></a><span id="l23.215">             var thisHook = this; // need to reference in callback</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l24.1"></a><span id="l24.1" class="difflineminus">--- a/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l24.2"></a><span id="l24.2" class="difflineplus">+++ b/calendar/providers/memory/calMemoryCalendar.js</span>
<a href="#l24.3"></a><span id="l24.3" class="difflineat">@@ -69,17 +69,17 @@ calMemoryCalendar.prototype = {</span>
<a href="#l24.4"></a><span id="l24.4"> </span>
<a href="#l24.5"></a><span id="l24.5">     deleteCalendar: function mem_deleteCal(calendar, listener) {</span>
<a href="#l24.6"></a><span id="l24.6">         calendar = calendar.wrappedJSObject;</span>
<a href="#l24.7"></a><span id="l24.7">         calendar.mItems = {};</span>
<a href="#l24.8"></a><span id="l24.8">         calendar.mMetaData = new cal.calPropertyBag();</span>
<a href="#l24.9"></a><span id="l24.9"> </span>
<a href="#l24.10"></a><span id="l24.10">         try {</span>
<a href="#l24.11"></a><span id="l24.11">             listener.onDeleteCalendar(calendar, Components.results.NS_OK, null);</span>
<a href="#l24.12"></a><span id="l24.12" class="difflineminus">-        } catch(ex) {}</span>
<a href="#l24.13"></a><span id="l24.13" class="difflineplus">+        } catch (ex) {}</span>
<a href="#l24.14"></a><span id="l24.14">     },</span>
<a href="#l24.15"></a><span id="l24.15"> </span>
<a href="#l24.16"></a><span id="l24.16">     mRelaxedMode: undefined,</span>
<a href="#l24.17"></a><span id="l24.17">     get relaxedMode() {</span>
<a href="#l24.18"></a><span id="l24.18">         if (this.mRelaxedMode === undefined) {</span>
<a href="#l24.19"></a><span id="l24.19">             this.mRelaxedMode = this.getProperty(&quot;relaxedMode&quot;);</span>
<a href="#l24.20"></a><span id="l24.20">         }</span>
<a href="#l24.21"></a><span id="l24.21">         return this.mRelaxedMode;</span>
<a href="#l24.22"></a><span id="l24.22" class="difflineat">@@ -382,17 +382,17 @@ calMemoryCalendar.prototype = {</span>
<a href="#l24.23"></a><span id="l24.23">         function checkUnrespondedInvitation(item) {</span>
<a href="#l24.24"></a><span id="l24.24">             let att = superCal.getInvitedAttendee(item);</span>
<a href="#l24.25"></a><span id="l24.25">             return (att &amp;&amp; (att.participationStatus == &quot;NEEDS-ACTION&quot;));</span>
<a href="#l24.26"></a><span id="l24.26">         }</span>
<a href="#l24.27"></a><span id="l24.27"> </span>
<a href="#l24.28"></a><span id="l24.28">         // item base type</span>
<a href="#l24.29"></a><span id="l24.29">         let wantEvents = ((aItemFilter &amp; calICalendar.ITEM_FILTER_TYPE_EVENT) != 0);</span>
<a href="#l24.30"></a><span id="l24.30">         let wantTodos = ((aItemFilter &amp; calICalendar.ITEM_FILTER_TYPE_TODO) != 0);</span>
<a href="#l24.31"></a><span id="l24.31" class="difflineminus">-        if(!wantEvents &amp;&amp; !wantTodos) {</span>
<a href="#l24.32"></a><span id="l24.32" class="difflineplus">+        if (!wantEvents &amp;&amp; !wantTodos) {</span>
<a href="#l24.33"></a><span id="l24.33">             // bail.</span>
<a href="#l24.34"></a><span id="l24.34">             this.notifyOperationComplete(aListener,</span>
<a href="#l24.35"></a><span id="l24.35">                                          Components.results.NS_ERROR_FAILURE,</span>
<a href="#l24.36"></a><span id="l24.36">                                          Components.interfaces.calIOperationListener.GET,</span>
<a href="#l24.37"></a><span id="l24.37">                                          null,</span>
<a href="#l24.38"></a><span id="l24.38">                                          &quot;Bad aItemFilter passed to getItems&quot;);</span>
<a href="#l24.39"></a><span id="l24.39">             return;</span>
<a href="#l24.40"></a><span id="l24.40">         }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l25.1"></a><span id="l25.1" class="difflineminus">--- a/calendar/providers/storage/calStorageUpgrade.jsm</span>
<a href="#l25.2"></a><span id="l25.2" class="difflineplus">+++ b/calendar/providers/storage/calStorageUpgrade.jsm</span>
<a href="#l25.3"></a><span id="l25.3" class="difflineat">@@ -604,17 +604,17 @@ function migrateToIcalString(tblData, tb</span>
<a href="#l25.4"></a><span id="l25.4">  *</span>
<a href="#l25.5"></a><span id="l25.5">  * @param storArgs      The storage value array to convert</span>
<a href="#l25.6"></a><span id="l25.6">  * @return              An array with the arguments as js values.</span>
<a href="#l25.7"></a><span id="l25.7">  */</span>
<a href="#l25.8"></a><span id="l25.8"> function mapStorageArgs(storArgs) {</span>
<a href="#l25.9"></a><span id="l25.9">     const mISVA = Components.interfaces.mozIStorageValueArray;</span>
<a href="#l25.10"></a><span id="l25.10">     let mappedArgs = [];</span>
<a href="#l25.11"></a><span id="l25.11">     for (let i = 0; i &lt; storArgs.numEntries; i++) {</span>
<a href="#l25.12"></a><span id="l25.12" class="difflineminus">-        switch(storArgs.getTypeOfIndex(i)) {</span>
<a href="#l25.13"></a><span id="l25.13" class="difflineplus">+        switch (storArgs.getTypeOfIndex(i)) {</span>
<a href="#l25.14"></a><span id="l25.14">             case mISVA.VALUE_TYPE_NULL: mappedArgs.push(null); break;</span>
<a href="#l25.15"></a><span id="l25.15">             case mISVA.VALUE_TYPE_INTEGER:</span>
<a href="#l25.16"></a><span id="l25.16">                 mappedArgs.push(storArgs.getInt64(i));</span>
<a href="#l25.17"></a><span id="l25.17">                 break;</span>
<a href="#l25.18"></a><span id="l25.18">             case mISVA.VALUE_TYPE_FLOAT:</span>
<a href="#l25.19"></a><span id="l25.19">                 mappedArgs.push(storArgs.getDouble(i));</span>
<a href="#l25.20"></a><span id="l25.20">                 break;</span>
<a href="#l25.21"></a><span id="l25.21">             case mISVA.VALUE_TYPE_TEXT:</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l26.1"></a><span id="l26.1" class="difflineminus">--- a/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l26.2"></a><span id="l26.2" class="difflineplus">+++ b/calendar/resources/content/datetimepickers/datetimepickers.xml</span>
<a href="#l26.3"></a><span id="l26.3" class="difflineat">@@ -79,17 +79,17 @@</span>
<a href="#l26.4"></a><span id="l26.4">       &lt;property name=&quot;value&quot;&gt;</span>
<a href="#l26.5"></a><span id="l26.5">         &lt;getter&gt;&lt;![CDATA[</span>
<a href="#l26.6"></a><span id="l26.6">           return this.mValue;</span>
<a href="#l26.7"></a><span id="l26.7">         ]]&gt;&lt;/getter&gt;</span>
<a href="#l26.8"></a><span id="l26.8">         &lt;setter&gt;&lt;![CDATA[</span>
<a href="#l26.9"></a><span id="l26.9">          var text = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;date-textbox&quot;);</span>
<a href="#l26.10"></a><span id="l26.10">           try {</span>
<a href="#l26.11"></a><span id="l26.11">             text.value = this.formatDate(val);</span>
<a href="#l26.12"></a><span id="l26.12" class="difflineminus">-          } catch(ex) {}</span>
<a href="#l26.13"></a><span id="l26.13" class="difflineplus">+          } catch (ex) {}</span>
<a href="#l26.14"></a><span id="l26.14">           return val;</span>
<a href="#l26.15"></a><span id="l26.15">         ]]&gt;&lt;/setter&gt;</span>
<a href="#l26.16"></a><span id="l26.16">       &lt;/property&gt;</span>
<a href="#l26.17"></a><span id="l26.17"> </span>
<a href="#l26.18"></a><span id="l26.18">       &lt;method name=&quot;fireGoEvent&quot;&gt;</span>
<a href="#l26.19"></a><span id="l26.19">         &lt;body&gt;&lt;![CDATA[</span>
<a href="#l26.20"></a><span id="l26.20">           var text = document.getAnonymousElementByAttribute(this, &quot;anonid&quot;, &quot;date-textbox&quot;);</span>
<a href="#l26.21"></a><span id="l26.21">           var date = this.parseLanguageDate(text.value);</span>
<a href="#l26.22"></a><span id="l26.22" class="difflineat">@@ -1700,17 +1700,17 @@</span>
<a href="#l26.23"></a><span id="l26.23">               if (aValue.toLowerCase() == noon.toLowerCase()) {</span>
<a href="#l26.24"></a><span id="l26.24">                 return new Date(0, 0, 0, 12, 0, 0, 0);</span>
<a href="#l26.25"></a><span id="l26.25">               }</span>
<a href="#l26.26"></a><span id="l26.26"> </span>
<a href="#l26.27"></a><span id="l26.27">               var midnight = calGetString(&quot;dateFormat&quot;, &quot;midnight&quot;);</span>
<a href="#l26.28"></a><span id="l26.28">               if (aValue.toLowerCase() == midnight.toLowerCase()) {</span>
<a href="#l26.29"></a><span id="l26.29">                 return new Date(0, 0, 0, 0, 0, 0, 0);</span>
<a href="#l26.30"></a><span id="l26.30">               }</span>
<a href="#l26.31"></a><span id="l26.31" class="difflineminus">-            } catch(ex) {</span>
<a href="#l26.32"></a><span id="l26.32" class="difflineplus">+            } catch (ex) {</span>
<a href="#l26.33"></a><span id="l26.33">             }</span>
<a href="#l26.34"></a><span id="l26.34"> </span>
<a href="#l26.35"></a><span id="l26.35">             var time = null;</span>
<a href="#l26.36"></a><span id="l26.36">             var timePartsArray = this.parseTimeRegExp.exec(aValue);</span>
<a href="#l26.37"></a><span id="l26.37">             const PRE_INDEX = 1, HR_INDEX = 2, MIN_INDEX = 4, SEC_INDEX = 6, POST_INDEX = 8;</span>
<a href="#l26.38"></a><span id="l26.38"> </span>
<a href="#l26.39"></a><span id="l26.39">             if (timePartsArray != null) {</span>
<a href="#l26.40"></a><span id="l26.40">               var hoursString = timePartsArray[HR_INDEX]</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l27.1"></a><span id="l27.1" class="difflineminus">--- a/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l27.2"></a><span id="l27.2" class="difflineplus">+++ b/calendar/resources/content/mouseoverPreviews.js</span>
<a href="#l27.3"></a><span id="l27.3" class="difflineat">@@ -47,17 +47,17 @@ function showToolTip(aToolTip, aItem) {</span>
<a href="#l27.4"></a><span id="l27.4"> }</span>
<a href="#l27.5"></a><span id="l27.5"> </span>
<a href="#l27.6"></a><span id="l27.6"> /**</span>
<a href="#l27.7"></a><span id="l27.7">  *  Called when a user hovers over a todo element and the text for the mouse over is changed.</span>
<a href="#l27.8"></a><span id="l27.8">  */</span>
<a href="#l27.9"></a><span id="l27.9"> </span>
<a href="#l27.10"></a><span id="l27.10"> function getPreviewForTask( toDoItem )</span>
<a href="#l27.11"></a><span id="l27.11"> {</span>
<a href="#l27.12"></a><span id="l27.12" class="difflineminus">-  if( toDoItem )</span>
<a href="#l27.13"></a><span id="l27.13" class="difflineplus">+  if ( toDoItem )</span>
<a href="#l27.14"></a><span id="l27.14">   {</span>
<a href="#l27.15"></a><span id="l27.15">     const vbox = document.createElement( &quot;vbox&quot; );</span>
<a href="#l27.16"></a><span id="l27.16">     vbox.setAttribute(&quot;class&quot;, &quot;tooltipBox&quot;);</span>
<a href="#l27.17"></a><span id="l27.17">     // tooltip appears above or below pointer, so may have as little as</span>
<a href="#l27.18"></a><span id="l27.18">     // one half the screen height available (avoid top going off screen).</span>
<a href="#l27.19"></a><span id="l27.19">     vbox.maxHeight = Math.floor(screen.height / 2);</span>
<a href="#l27.20"></a><span id="l27.20">     boxInitializeHeaderGrid(vbox);</span>
<a href="#l27.21"></a><span id="l27.21"> </span>
<a href="#l27.22"></a><span id="l27.22" class="difflineat">@@ -209,34 +209,34 @@ function getPreviewForEvent( aEvent) {</span>
<a href="#l27.23"></a><span id="l27.23">       return null;</span>
<a href="#l27.24"></a><span id="l27.24">   }</span>
<a href="#l27.25"></a><span id="l27.25"> }</span>
<a href="#l27.26"></a><span id="l27.26"> </span>
<a href="#l27.27"></a><span id="l27.27"> </span>
<a href="#l27.28"></a><span id="l27.28"> /** String for event status: (none), Tentative, Confirmed, or Cancelled **/</span>
<a href="#l27.29"></a><span id="l27.29"> function getEventStatusString(calendarEvent)</span>
<a href="#l27.30"></a><span id="l27.30"> {</span>
<a href="#l27.31"></a><span id="l27.31" class="difflineminus">-  switch( calendarEvent.status )</span>
<a href="#l27.32"></a><span id="l27.32" class="difflineplus">+  switch ( calendarEvent.status )</span>
<a href="#l27.33"></a><span id="l27.33">   {</span>
<a href="#l27.34"></a><span id="l27.34">     // Event status value keywords are specified in RFC2445sec4.8.1.11</span>
<a href="#l27.35"></a><span id="l27.35">     case &quot;TENTATIVE&quot;:</span>
<a href="#l27.36"></a><span id="l27.36">       return calGetString('calendar', &quot;statusTentative&quot;);</span>
<a href="#l27.37"></a><span id="l27.37">     case &quot;CONFIRMED&quot;:</span>
<a href="#l27.38"></a><span id="l27.38">       return calGetString('calendar', &quot;statusConfirmed&quot;);</span>
<a href="#l27.39"></a><span id="l27.39">     case &quot;CANCELLED&quot;:</span>
<a href="#l27.40"></a><span id="l27.40">       return calGetString('calendar', &quot;eventStatusCancelled&quot;);</span>
<a href="#l27.41"></a><span id="l27.41">      default:</span>
<a href="#l27.42"></a><span id="l27.42">         return &quot;&quot;;</span>
<a href="#l27.43"></a><span id="l27.43">   }</span>
<a href="#l27.44"></a><span id="l27.44"> }</span>
<a href="#l27.45"></a><span id="l27.45"> </span>
<a href="#l27.46"></a><span id="l27.46"> /** String for todo status: (none), NeedsAction, InProcess, Cancelled, or Completed **/</span>
<a href="#l27.47"></a><span id="l27.47"> function getToDoStatusString(iCalToDo)</span>
<a href="#l27.48"></a><span id="l27.48"> {</span>
<a href="#l27.49"></a><span id="l27.49" class="difflineminus">-  switch( iCalToDo.status )</span>
<a href="#l27.50"></a><span id="l27.50" class="difflineplus">+  switch ( iCalToDo.status )</span>
<a href="#l27.51"></a><span id="l27.51">   {</span>
<a href="#l27.52"></a><span id="l27.52">     // Todo status keywords are specified in RFC2445sec4.8.1.11</span>
<a href="#l27.53"></a><span id="l27.53">     case &quot;NEEDS-ACTION&quot;:</span>
<a href="#l27.54"></a><span id="l27.54">       return calGetString('calendar', &quot;statusNeedsAction&quot;);</span>
<a href="#l27.55"></a><span id="l27.55">     case &quot;IN-PROCESS&quot;:</span>
<a href="#l27.56"></a><span id="l27.56">       return calGetString('calendar', &quot;statusInProcess&quot;);</span>
<a href="#l27.57"></a><span id="l27.57">     case &quot;CANCELLED&quot;:</span>
<a href="#l27.58"></a><span id="l27.58">       return calGetString('calendar', &quot;todoStatusCancelled&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l28.1"></a><span id="l28.1" class="difflineminus">--- a/calendar/resources/content/publish.js</span>
<a href="#l28.2"></a><span id="l28.2" class="difflineplus">+++ b/calendar/resources/content/publish.js</span>
<a href="#l28.3"></a><span id="l28.3" class="difflineat">@@ -137,17 +137,17 @@ function publishItemArray(aItemArray, aP</span>
<a href="#l28.4"></a><span id="l28.4">                                                  Components.interfaces.nsIContentPolicy.TYPE_OTHER);</span>
<a href="#l28.5"></a><span id="l28.5">     if (icsURL.schemeIs('webcal')) {</span>
<a href="#l28.6"></a><span id="l28.6">         icsURL.scheme = 'http';</span>
<a href="#l28.7"></a><span id="l28.7">     }</span>
<a href="#l28.8"></a><span id="l28.8">     if (icsURL.schemeIs('webcals')) {</span>
<a href="#l28.9"></a><span id="l28.9">         icsURL.scheme = 'https';</span>
<a href="#l28.10"></a><span id="l28.10">     }</span>
<a href="#l28.11"></a><span id="l28.11"> </span>
<a href="#l28.12"></a><span id="l28.12" class="difflineminus">-    switch(icsURL.scheme) {</span>
<a href="#l28.13"></a><span id="l28.13" class="difflineplus">+    switch (icsURL.scheme) {</span>
<a href="#l28.14"></a><span id="l28.14">         case 'http':</span>
<a href="#l28.15"></a><span id="l28.15">         case 'https':</span>
<a href="#l28.16"></a><span id="l28.16">             channel = channel.QueryInterface(Components.interfaces.nsIHttpChannel);</span>
<a href="#l28.17"></a><span id="l28.17">             break;</span>
<a href="#l28.18"></a><span id="l28.18">         case 'ftp':</span>
<a href="#l28.19"></a><span id="l28.19">             channel = channel.QueryInterface(Components.interfaces.nsIFTPChannel);</span>
<a href="#l28.20"></a><span id="l28.20">             break;</span>
<a href="#l28.21"></a><span id="l28.21">         case 'file':</span>
<a href="#l28.22"></a><span id="l28.22" class="difflineat">@@ -216,17 +216,17 @@ var publishingListener = {</span>
<a href="#l28.23"></a><span id="l28.23">         ctxt.wrappedJSObject.onStopUpload();</span>
<a href="#l28.24"></a><span id="l28.24"> </span>
<a href="#l28.25"></a><span id="l28.25">         let channel;</span>
<a href="#l28.26"></a><span id="l28.26">         let props = Services.strings.createBundle(&quot;chrome://calendar/locale/calendar.properties&quot;);</span>
<a href="#l28.27"></a><span id="l28.27">         let requestSucceeded;</span>
<a href="#l28.28"></a><span id="l28.28">         try {</span>
<a href="#l28.29"></a><span id="l28.29">             channel = request.QueryInterface(Components.interfaces.nsIHttpChannel);</span>
<a href="#l28.30"></a><span id="l28.30">             requestSucceeded = channel.requestSucceeded;</span>
<a href="#l28.31"></a><span id="l28.31" class="difflineminus">-        } catch(e) {</span>
<a href="#l28.32"></a><span id="l28.32" class="difflineplus">+        } catch (e) {</span>
<a href="#l28.33"></a><span id="l28.33">         }</span>
<a href="#l28.34"></a><span id="l28.34">         if (channel &amp;&amp; !requestSucceeded) {</span>
<a href="#l28.35"></a><span id="l28.35">             Services.prompt.alert(null, calGetString(&quot;calendar&quot;, &quot;genericErrorTitle&quot;),</span>
<a href="#l28.36"></a><span id="l28.36">                                   props.formatStringFromName('httpPutError', [channel.responseStatus, channel.responseStatusText], 2));</span>
<a href="#l28.37"></a><span id="l28.37">         } else if (!channel &amp;&amp; !Components.isSuccessCode(request.status)) {</span>
<a href="#l28.38"></a><span id="l28.38">             // XXX this should be made human-readable.</span>
<a href="#l28.39"></a><span id="l28.39">             Services.prompt.alert(null, calGetString(&quot;calendar&quot;, &quot;genericErrorTitle&quot;),</span>
<a href="#l28.40"></a><span id="l28.40">                                   props.formatStringFromName('otherPutError', [request.status.toString(16)], 1));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l29.1"></a><span id="l29.1" class="difflineminus">--- a/calendar/resources/content/publishDialog.js</span>
<a href="#l29.2"></a><span id="l29.2" class="difflineplus">+++ b/calendar/resources/content/publishDialog.js</span>
<a href="#l29.3"></a><span id="l29.3" class="difflineat">@@ -41,17 +41,17 @@ function loadCalendarPublishDialog()</span>
<a href="#l29.4"></a><span id="l29.4"> function onOKCommand()</span>
<a href="#l29.5"></a><span id="l29.5"> {</span>
<a href="#l29.6"></a><span id="l29.6">    gPublishObject.remotePath = document.getElementById( &quot;publish-remotePath-textbox&quot; ).value;</span>
<a href="#l29.7"></a><span id="l29.7"> </span>
<a href="#l29.8"></a><span id="l29.8">    // call caller's on OK function</span>
<a href="#l29.9"></a><span id="l29.9">    gOnOkFunction(gPublishObject, progressDialog);</span>
<a href="#l29.10"></a><span id="l29.10">    document.getElementById( &quot;calendar-publishwindow&quot; ).getButton( &quot;accept&quot; ).setAttribute( &quot;label&quot;, closeButtonLabel );</span>
<a href="#l29.11"></a><span id="l29.11">    document.getElementById( &quot;calendar-publishwindow&quot; ).setAttribute( &quot;ondialogaccept&quot;, &quot;closeDialog()&quot; );</span>
<a href="#l29.12"></a><span id="l29.12" class="difflineminus">-   return( false );</span>
<a href="#l29.13"></a><span id="l29.13" class="difflineplus">+   return ( false );</span>
<a href="#l29.14"></a><span id="l29.14"> }</span>
<a href="#l29.15"></a><span id="l29.15"> </span>
<a href="#l29.16"></a><span id="l29.16"> </span>
<a href="#l29.17"></a><span id="l29.17"> function checkURLField( )</span>
<a href="#l29.18"></a><span id="l29.18"> {</span>
<a href="#l29.19"></a><span id="l29.19">    if (document.getElementById( &quot;publish-remotePath-textbox&quot; ).value.length == 0) {</span>
<a href="#l29.20"></a><span id="l29.20">       document.getElementById( &quot;calendar-publishwindow&quot; ).getButton( &quot;accept&quot; ).setAttribute( &quot;disabled&quot;, &quot;true&quot; );</span>
<a href="#l29.21"></a><span id="l29.21">    } else {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l30.1"></a><span id="l30.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l30.2"></a><span id="l30.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialog.js</span>
<a href="#l30.3"></a><span id="l30.3" class="difflineat">@@ -163,18 +163,18 @@ var testEventDialog = function () {</span>
<a href="#l30.4"></a><span id="l30.4"> </span>
<a href="#l30.5"></a><span id="l30.5">   controller.assertNode(new elementslib.Lookup(controller.window.document,</span>
<a href="#l30.6"></a><span id="l30.6">     eventBox.replace(&quot;rowNumber&quot;, &quot;0&quot;).replace(&quot;columnNumber&quot;, &quot;6&quot;)));</span>
<a href="#l30.7"></a><span id="l30.7">   checkIcon(eventBox, &quot;0&quot;, &quot;6&quot;);</span>
<a href="#l30.8"></a><span id="l30.8">   checkTooltip(monthView, &quot;0&quot;, &quot;6&quot;, &quot;3&quot;, startTime, endTime);</span>
<a href="#l30.9"></a><span id="l30.9"> </span>
<a href="#l30.10"></a><span id="l30.10">   // 31st of January is Saturday so there's four more full rows to check</span>
<a href="#l30.11"></a><span id="l30.11">   let date = 4;</span>
<a href="#l30.12"></a><span id="l30.12" class="difflineminus">-  for(row = 1; row &lt; 5; row++){</span>
<a href="#l30.13"></a><span id="l30.13" class="difflineminus">-    for(col = 0; col &lt; 7; col++){</span>
<a href="#l30.14"></a><span id="l30.14" class="difflineplus">+  for (row = 1; row &lt; 5; row++){</span>
<a href="#l30.15"></a><span id="l30.15" class="difflineplus">+    for (col = 0; col &lt; 7; col++){</span>
<a href="#l30.16"></a><span id="l30.16">         controller.assertNode(new elementslib.Lookup(controller.window.document,</span>
<a href="#l30.17"></a><span id="l30.17">           eventBox.replace(&quot;rowNumber&quot;, row).replace(&quot;columnNumber&quot;, col)));</span>
<a href="#l30.18"></a><span id="l30.18">         checkIcon(eventBox, row, col);</span>
<a href="#l30.19"></a><span id="l30.19">         checkTooltip(monthView, row, col, date, startTime, endTime);</span>
<a href="#l30.20"></a><span id="l30.20">         date++;</span>
<a href="#l30.21"></a><span id="l30.21">     }</span>
<a href="#l30.22"></a><span id="l30.22">   }</span>
<a href="#l30.23"></a><span id="l30.23"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l31.1"></a><span id="l31.1" class="difflineminus">--- a/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l31.2"></a><span id="l31.2" class="difflineplus">+++ b/calendar/test/mozmill/eventDialog/testEventDialogModificationPrompt.js</span>
<a href="#l31.3"></a><span id="l31.3" class="difflineat">@@ -102,17 +102,17 @@ var testEventDialogModificationPrompt = </span>
<a href="#l31.4"></a><span id="l31.4">   // delete event</span>
<a href="#l31.5"></a><span id="l31.5">   controller.click(new elementslib.Lookup(controller.window.document,</span>
<a href="#l31.6"></a><span id="l31.6">     calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, 8)));</span>
<a href="#l31.7"></a><span id="l31.7">   controller.keypress(new elementslib.ID(controller.window.document, &quot;day-view&quot;),</span>
<a href="#l31.8"></a><span id="l31.8">     &quot;VK_DELETE&quot;, {});</span>
<a href="#l31.9"></a><span id="l31.9">   controller.waitForElementNotPresent(new elementslib.Lookup(controller.window.document,</span>
<a href="#l31.10"></a><span id="l31.10">     calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, 8)));</span>
<a href="#l31.11"></a><span id="l31.11"> </span>
<a href="#l31.12"></a><span id="l31.12" class="difflineminus">-  for(let i = 0; i &lt; newlines.length; i++) {</span>
<a href="#l31.13"></a><span id="l31.13" class="difflineplus">+  for (let i = 0; i &lt; newlines.length; i++) {</span>
<a href="#l31.14"></a><span id="l31.14">     // test set i</span>
<a href="#l31.15"></a><span id="l31.15">     controller.doubleClick(new elementslib.Lookup(controller.window.document,</span>
<a href="#l31.16"></a><span id="l31.16">       calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.CANVAS_BOX, undefined, 1, 8)), 1, 1);</span>
<a href="#l31.17"></a><span id="l31.17">     controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length &gt; 0}, sleep);</span>
<a href="#l31.18"></a><span id="l31.18">     event = new mozmill.controller.MozMillController(mozmill.utils</span>
<a href="#l31.19"></a><span id="l31.19">       .getWindows(&quot;Calendar:EventDialog&quot;)[0]);</span>
<a href="#l31.20"></a><span id="l31.20">     calUtils.setData(event, newlines[i]);</span>
<a href="#l31.21"></a><span id="l31.21">     event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l32.1"></a><span id="l32.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testAnnualRecurrence.js</span>
<a href="#l32.2"></a><span id="l32.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testAnnualRecurrence.js</span>
<a href="#l32.3"></a><span id="l32.3" class="difflineat">@@ -32,17 +32,17 @@ var testAnnualRecurrence = function () {</span>
<a href="#l32.4"></a><span id="l32.4">   event.sleep(sleep);</span>
<a href="#l32.5"></a><span id="l32.5">   event.select(new elementslib.ID(event.window.document, &quot;item-repeat&quot;), undefined, undefined,</span>
<a href="#l32.6"></a><span id="l32.6">     &quot;yearly&quot;);</span>
<a href="#l32.7"></a><span id="l32.7">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l32.8"></a><span id="l32.8">   controller.sleep(sleep);</span>
<a href="#l32.9"></a><span id="l32.9"> </span>
<a href="#l32.10"></a><span id="l32.10">   let checkYears = [startYear, startYear + 1, epoch - 1, epoch, epoch + 1];</span>
<a href="#l32.11"></a><span id="l32.11">   let box = &quot;&quot;;</span>
<a href="#l32.12"></a><span id="l32.12" class="difflineminus">-  for(let i = 0; i &lt; checkYears.length; i++){</span>
<a href="#l32.13"></a><span id="l32.13" class="difflineplus">+  for (let i = 0; i &lt; checkYears.length; i++){</span>
<a href="#l32.14"></a><span id="l32.14">     calUtils.goToDate(controller, checkYears[i], 1, 1);</span>
<a href="#l32.15"></a><span id="l32.15">     let date = new Date(checkYears[i], 0, 1);</span>
<a href="#l32.16"></a><span id="l32.16">     let column = date.getDay() + 1;</span>
<a href="#l32.17"></a><span id="l32.17"> </span>
<a href="#l32.18"></a><span id="l32.18">     // day view</span>
<a href="#l32.19"></a><span id="l32.19">     calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l32.20"></a><span id="l32.20">     box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.ALLDAY, undefined, 1, undefined)</span>
<a href="#l32.21"></a><span id="l32.21">       + eventPath;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l33.1"></a><span id="l33.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js</span>
<a href="#l33.2"></a><span id="l33.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testBiweeklyRecurrence.js</span>
<a href="#l33.3"></a><span id="l33.3" class="difflineat">@@ -30,38 +30,38 @@ var testBiweeklyRecurrence = function ()</span>
<a href="#l33.4"></a><span id="l33.4">   event.select(new elementslib.ID(event.window.document, &quot;item-repeat&quot;), undefined, undefined, &quot;bi.weekly&quot;);</span>
<a href="#l33.5"></a><span id="l33.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l33.6"></a><span id="l33.6">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l33.7"></a><span id="l33.7"> </span>
<a href="#l33.8"></a><span id="l33.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l33.9"></a><span id="l33.9">     + eventPath;</span>
<a href="#l33.10"></a><span id="l33.10"> </span>
<a href="#l33.11"></a><span id="l33.11">   // check day view</span>
<a href="#l33.12"></a><span id="l33.12" class="difflineminus">-  for(let i = 0; i &lt; 4; i++){</span>
<a href="#l33.13"></a><span id="l33.13" class="difflineplus">+  for (let i = 0; i &lt; 4; i++){</span>
<a href="#l33.14"></a><span id="l33.14">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l33.15"></a><span id="l33.15">     calUtils.forward(controller, 14);</span>
<a href="#l33.16"></a><span id="l33.16">   }</span>
<a href="#l33.17"></a><span id="l33.17"> </span>
<a href="#l33.18"></a><span id="l33.18">   // check week view</span>
<a href="#l33.19"></a><span id="l33.19">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l33.20"></a><span id="l33.20">   calUtils.goToDate(controller, 2009, 1, 31);</span>
<a href="#l33.21"></a><span id="l33.21"> </span>
<a href="#l33.22"></a><span id="l33.22">   box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 7, hour)</span>
<a href="#l33.23"></a><span id="l33.23">     + eventPath;</span>
<a href="#l33.24"></a><span id="l33.24" class="difflineminus">-  for(let i = 0; i &lt; 4; i++){</span>
<a href="#l33.25"></a><span id="l33.25" class="difflineplus">+  for (let i = 0; i &lt; 4; i++){</span>
<a href="#l33.26"></a><span id="l33.26">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l33.27"></a><span id="l33.27">     calUtils.forward(controller, 2);</span>
<a href="#l33.28"></a><span id="l33.28">   }</span>
<a href="#l33.29"></a><span id="l33.29"> </span>
<a href="#l33.30"></a><span id="l33.30">   // check multiweek view</span>
<a href="#l33.31"></a><span id="l33.31">   calUtils.switchToView(controller, &quot;multiweek&quot;);</span>
<a href="#l33.32"></a><span id="l33.32">   calUtils.goToDate(controller, 2009, 1, 31);</span>
<a href="#l33.33"></a><span id="l33.33"> </span>
<a href="#l33.34"></a><span id="l33.34">   // always two occurrences in view, 1st and 3rd or 2nd and 4th week</span>
<a href="#l33.35"></a><span id="l33.35" class="difflineminus">-  for(let i = 0; i &lt; 5; i++){</span>
<a href="#l33.36"></a><span id="l33.36" class="difflineplus">+  for (let i = 0; i &lt; 5; i++){</span>
<a href="#l33.37"></a><span id="l33.37">     box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i % 2 + 1, 7,</span>
<a href="#l33.38"></a><span id="l33.38">       undefined) + eventPath;</span>
<a href="#l33.39"></a><span id="l33.39">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l33.40"></a><span id="l33.40">     box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i % 2 + 3, 7,</span>
<a href="#l33.41"></a><span id="l33.41">       undefined) + eventPath;</span>
<a href="#l33.42"></a><span id="l33.42">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l33.43"></a><span id="l33.43">     calUtils.forward(controller, 1);</span>
<a href="#l33.44"></a><span id="l33.44">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l34.1"></a><span id="l34.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testDailyRecurrence.js</span>
<a href="#l34.2"></a><span id="l34.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testDailyRecurrence.js</span>
<a href="#l34.3"></a><span id="l34.3" class="difflineat">@@ -32,69 +32,69 @@ var testDailyRecurrence = function () {</span>
<a href="#l34.4"></a><span id="l34.4">     &quot;daily&quot;);</span>
<a href="#l34.5"></a><span id="l34.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l34.6"></a><span id="l34.6"> </span>
<a href="#l34.7"></a><span id="l34.7">   // check day view for 7 days</span>
<a href="#l34.8"></a><span id="l34.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour, undefined)</span>
<a href="#l34.9"></a><span id="l34.9">     + eventPath;</span>
<a href="#l34.10"></a><span id="l34.10">   controller.waitForElement(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.11"></a><span id="l34.11"> </span>
<a href="#l34.12"></a><span id="l34.12" class="difflineminus">-  for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.13"></a><span id="l34.13" class="difflineplus">+  for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.14"></a><span id="l34.14">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.15"></a><span id="l34.15">     calUtils.forward(controller, 1);</span>
<a href="#l34.16"></a><span id="l34.16">   }</span>
<a href="#l34.17"></a><span id="l34.17"> </span>
<a href="#l34.18"></a><span id="l34.18">   // check week view for 2 weeks</span>
<a href="#l34.19"></a><span id="l34.19">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l34.20"></a><span id="l34.20">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l34.21"></a><span id="l34.21"> </span>
<a href="#l34.22"></a><span id="l34.22" class="difflineminus">-  for(let day = 5; day &lt;= 7; day++){</span>
<a href="#l34.23"></a><span id="l34.23" class="difflineplus">+  for (let day = 5; day &lt;= 7; day++){</span>
<a href="#l34.24"></a><span id="l34.24">     let box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, 1, day, hour)</span>
<a href="#l34.25"></a><span id="l34.25">       + eventPath;</span>
<a href="#l34.26"></a><span id="l34.26">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.27"></a><span id="l34.27">   }</span>
<a href="#l34.28"></a><span id="l34.28"> </span>
<a href="#l34.29"></a><span id="l34.29">   calUtils.forward(controller, 1);</span>
<a href="#l34.30"></a><span id="l34.30"> </span>
<a href="#l34.31"></a><span id="l34.31" class="difflineminus">-  for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.32"></a><span id="l34.32" class="difflineplus">+  for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.33"></a><span id="l34.33">     let box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, 2, day, hour)</span>
<a href="#l34.34"></a><span id="l34.34">       + eventPath;</span>
<a href="#l34.35"></a><span id="l34.35">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.36"></a><span id="l34.36">   }</span>
<a href="#l34.37"></a><span id="l34.37"> </span>
<a href="#l34.38"></a><span id="l34.38">   // check multiweek view for 4 weeks</span>
<a href="#l34.39"></a><span id="l34.39">   calUtils.switchToView(controller, &quot;multiweek&quot;);</span>
<a href="#l34.40"></a><span id="l34.40">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l34.41"></a><span id="l34.41"> </span>
<a href="#l34.42"></a><span id="l34.42" class="difflineminus">-  for(let day = 5; day &lt;= 7; day++){</span>
<a href="#l34.43"></a><span id="l34.43" class="difflineplus">+  for (let day = 5; day &lt;= 7; day++){</span>
<a href="#l34.44"></a><span id="l34.44">     let box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, 1, day, hour)</span>
<a href="#l34.45"></a><span id="l34.45">       + eventPath;</span>
<a href="#l34.46"></a><span id="l34.46">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.47"></a><span id="l34.47">   }</span>
<a href="#l34.48"></a><span id="l34.48"> </span>
<a href="#l34.49"></a><span id="l34.49" class="difflineminus">-  for(let week = 2; week &lt;= 4; week++){</span>
<a href="#l34.50"></a><span id="l34.50" class="difflineminus">-    for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.51"></a><span id="l34.51" class="difflineplus">+  for (let week = 2; week &lt;= 4; week++){</span>
<a href="#l34.52"></a><span id="l34.52" class="difflineplus">+    for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.53"></a><span id="l34.53">       let box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, week, day, hour)</span>
<a href="#l34.54"></a><span id="l34.54">         + eventPath;</span>
<a href="#l34.55"></a><span id="l34.55">       controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.56"></a><span id="l34.56">     }</span>
<a href="#l34.57"></a><span id="l34.57">   }</span>
<a href="#l34.58"></a><span id="l34.58"> </span>
<a href="#l34.59"></a><span id="l34.59">   // check month view for all 5 weeks</span>
<a href="#l34.60"></a><span id="l34.60">   calUtils.switchToView(controller, &quot;month&quot;);</span>
<a href="#l34.61"></a><span id="l34.61">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l34.62"></a><span id="l34.62"> </span>
<a href="#l34.63"></a><span id="l34.63" class="difflineminus">-  for(let day = 5; day &lt;= 7; day++){</span>
<a href="#l34.64"></a><span id="l34.64" class="difflineplus">+  for (let day = 5; day &lt;= 7; day++){</span>
<a href="#l34.65"></a><span id="l34.65">     let box = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, 1, day, undefined)</span>
<a href="#l34.66"></a><span id="l34.66">       + eventPath;</span>
<a href="#l34.67"></a><span id="l34.67">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.68"></a><span id="l34.68">   }</span>
<a href="#l34.69"></a><span id="l34.69"> </span>
<a href="#l34.70"></a><span id="l34.70" class="difflineminus">-  for(let week = 2; week &lt;= 5; week++){</span>
<a href="#l34.71"></a><span id="l34.71" class="difflineminus">-    for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.72"></a><span id="l34.72" class="difflineplus">+  for (let week = 2; week &lt;= 5; week++){</span>
<a href="#l34.73"></a><span id="l34.73" class="difflineplus">+    for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l34.74"></a><span id="l34.74">       let box = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, week, day, undefined)</span>
<a href="#l34.75"></a><span id="l34.75">         + eventPath;</span>
<a href="#l34.76"></a><span id="l34.76">       controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l34.77"></a><span id="l34.77">     }</span>
<a href="#l34.78"></a><span id="l34.78">   }</span>
<a href="#l34.79"></a><span id="l34.79"> </span>
<a href="#l34.80"></a><span id="l34.80">   // delete 3rd January occurrence</span>
<a href="#l34.81"></a><span id="l34.81">   let saturday = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, 1, 7, undefined)</span>
<a href="#l34.82"></a><span id="l34.82" class="difflineat">@@ -140,53 +140,53 @@ var testDailyRecurrence = function () {</span>
<a href="#l34.83"></a><span id="l34.83">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l34.84"></a><span id="l34.84">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l34.85"></a><span id="l34.85"> </span>
<a href="#l34.86"></a><span id="l34.86">   // check day view for 7 days</span>
<a href="#l34.87"></a><span id="l34.87">   let day = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, undefined)</span>
<a href="#l34.88"></a><span id="l34.88">     + eventPath;</span>
<a href="#l34.89"></a><span id="l34.89">   var dates = [[2009, 1, 3],</span>
<a href="#l34.90"></a><span id="l34.90">                [2009, 1, 4]];</span>
<a href="#l34.91"></a><span id="l34.91" class="difflineminus">-  for(let i = 0; i &lt; dates.length; i++){</span>
<a href="#l34.92"></a><span id="l34.92" class="difflineplus">+  for (let i = 0; i &lt; dates.length; i++){</span>
<a href="#l34.93"></a><span id="l34.93">     calUtils.goToDate(controller, dates[i][0], dates[i][1], dates[i][2]);</span>
<a href="#l34.94"></a><span id="l34.94">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.95"></a><span id="l34.95">   }</span>
<a href="#l34.96"></a><span id="l34.96"> </span>
<a href="#l34.97"></a><span id="l34.97">   // check week view for 2 weeks</span>
<a href="#l34.98"></a><span id="l34.98">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l34.99"></a><span id="l34.99">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l34.100"></a><span id="l34.100"> </span>
<a href="#l34.101"></a><span id="l34.101" class="difflineminus">-  for(let i = 0; i &lt;= 1; i++){</span>
<a href="#l34.102"></a><span id="l34.102" class="difflineplus">+  for (let i = 0; i &lt;= 1; i++){</span>
<a href="#l34.103"></a><span id="l34.103">     let day = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 1, undefined)</span>
<a href="#l34.104"></a><span id="l34.104">       + eventPath;</span>
<a href="#l34.105"></a><span id="l34.105">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.106"></a><span id="l34.106">     day = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 7, undefined)</span>
<a href="#l34.107"></a><span id="l34.107">       + eventPath;</span>
<a href="#l34.108"></a><span id="l34.108">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.109"></a><span id="l34.109">     calUtils.forward(controller, 1);</span>
<a href="#l34.110"></a><span id="l34.110">   }</span>
<a href="#l34.111"></a><span id="l34.111"> </span>
<a href="#l34.112"></a><span id="l34.112">   // check multiweek view for 4 weeks</span>
<a href="#l34.113"></a><span id="l34.113">   calUtils.switchToView(controller, &quot;multiweek&quot;);</span>
<a href="#l34.114"></a><span id="l34.114">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l34.115"></a><span id="l34.115"> </span>
<a href="#l34.116"></a><span id="l34.116" class="difflineminus">-  for(let i = 1; i &lt;= 4; i++){</span>
<a href="#l34.117"></a><span id="l34.117" class="difflineplus">+  for (let i = 1; i &lt;= 4; i++){</span>
<a href="#l34.118"></a><span id="l34.118">     let day = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i, 1, undefined)</span>
<a href="#l34.119"></a><span id="l34.119">       + eventPath;</span>
<a href="#l34.120"></a><span id="l34.120">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.121"></a><span id="l34.121">     day = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i, 7, undefined)</span>
<a href="#l34.122"></a><span id="l34.122">       + eventPath;</span>
<a href="#l34.123"></a><span id="l34.123">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.124"></a><span id="l34.124">   }</span>
<a href="#l34.125"></a><span id="l34.125"> </span>
<a href="#l34.126"></a><span id="l34.126">   // check month view for all 5 weeks</span>
<a href="#l34.127"></a><span id="l34.127">   calUtils.switchToView(controller, &quot;month&quot;);</span>
<a href="#l34.128"></a><span id="l34.128">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l34.129"></a><span id="l34.129"> </span>
<a href="#l34.130"></a><span id="l34.130" class="difflineminus">-  for(let i = 1; i &lt;= 5; i++){</span>
<a href="#l34.131"></a><span id="l34.131" class="difflineplus">+  for (let i = 1; i &lt;= 5; i++){</span>
<a href="#l34.132"></a><span id="l34.132">     let day = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, i, 1, undefined)</span>
<a href="#l34.133"></a><span id="l34.133">       + eventPath;</span>
<a href="#l34.134"></a><span id="l34.134">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.135"></a><span id="l34.135">     day = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, i, 7, undefined)</span>
<a href="#l34.136"></a><span id="l34.136">       + eventPath;</span>
<a href="#l34.137"></a><span id="l34.137">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l34.138"></a><span id="l34.138">   }</span>
<a href="#l34.139"></a><span id="l34.139"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l35.1"></a><span id="l35.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l35.2"></a><span id="l35.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testLastDayOfMonthRecurrence.js</span>
<a href="#l35.3"></a><span id="l35.3" class="difflineat">@@ -50,17 +50,17 @@ var testLastDayOfMonthRecurrence = funct</span>
<a href="#l35.4"></a><span id="l35.4">                       [2008, 11, 30, 6],</span>
<a href="#l35.5"></a><span id="l35.5">                       [2008, 12, 31, 5],</span>
<a href="#l35.6"></a><span id="l35.6">                       [2009, 1, 31, 5],</span>
<a href="#l35.7"></a><span id="l35.7">                       [2009, 2, 28, 4],</span>
<a href="#l35.8"></a><span id="l35.8">                       [2009, 3, 31, 5]];</span>
<a href="#l35.9"></a><span id="l35.9">   let box = &quot;&quot;;</span>
<a href="#l35.10"></a><span id="l35.10"> </span>
<a href="#l35.11"></a><span id="l35.11">   // check all dates</span>
<a href="#l35.12"></a><span id="l35.12" class="difflineminus">-  for(let i = 0; i &lt; checkingData.length; i++){</span>
<a href="#l35.13"></a><span id="l35.13" class="difflineplus">+  for (let i = 0; i &lt; checkingData.length; i++){</span>
<a href="#l35.14"></a><span id="l35.14">     calUtils.goToDate(controller, checkingData[i][0], checkingData[i][1], checkingData[i][2]);</span>
<a href="#l35.15"></a><span id="l35.15"> </span>
<a href="#l35.16"></a><span id="l35.16">     // day view</span>
<a href="#l35.17"></a><span id="l35.17">     calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l35.18"></a><span id="l35.18">     box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l35.19"></a><span id="l35.19">       + eventPath;</span>
<a href="#l35.20"></a><span id="l35.20">     controller.waitForElement(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l35.21"></a><span id="l35.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l36.1"></a><span id="l36.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js</span>
<a href="#l36.2"></a><span id="l36.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testWeeklyNRecurrence.js</span>
<a href="#l36.3"></a><span id="l36.3" class="difflineat">@@ -34,30 +34,30 @@ var testWeeklyNRecurrence = function () </span>
<a href="#l36.4"></a><span id="l36.4"> </span>
<a href="#l36.5"></a><span id="l36.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l36.6"></a><span id="l36.6"> </span>
<a href="#l36.7"></a><span id="l36.7">   // check day view</span>
<a href="#l36.8"></a><span id="l36.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l36.9"></a><span id="l36.9">     + eventPath;</span>
<a href="#l36.10"></a><span id="l36.10"> </span>
<a href="#l36.11"></a><span id="l36.11">   // Monday, Tuesday, Wednesday, Thursday</span>
<a href="#l36.12"></a><span id="l36.12" class="difflineminus">-  for(let i = 0; i &lt; 4; i++){</span>
<a href="#l36.13"></a><span id="l36.13" class="difflineplus">+  for (let i = 0; i &lt; 4; i++){</span>
<a href="#l36.14"></a><span id="l36.14">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l36.15"></a><span id="l36.15">     calUtils.forward(controller, 1);</span>
<a href="#l36.16"></a><span id="l36.16">   }</span>
<a href="#l36.17"></a><span id="l36.17"> </span>
<a href="#l36.18"></a><span id="l36.18">   // Saturday</span>
<a href="#l36.19"></a><span id="l36.19">   calUtils.forward(controller, 1);</span>
<a href="#l36.20"></a><span id="l36.20">   controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l36.21"></a><span id="l36.21"> </span>
<a href="#l36.22"></a><span id="l36.22">   // check week view</span>
<a href="#l36.23"></a><span id="l36.23">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l36.24"></a><span id="l36.24"> </span>
<a href="#l36.25"></a><span id="l36.25">   // Monday, Tuesday, Wednesday, Thursday</span>
<a href="#l36.26"></a><span id="l36.26" class="difflineminus">-  for(let i = 2; i &lt; 6; i++){</span>
<a href="#l36.27"></a><span id="l36.27" class="difflineplus">+  for (let i = 2; i &lt; 6; i++){</span>
<a href="#l36.28"></a><span id="l36.28">     box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, i, hour)</span>
<a href="#l36.29"></a><span id="l36.29">       + eventPath;</span>
<a href="#l36.30"></a><span id="l36.30">     controller.waitForElement(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l36.31"></a><span id="l36.31">   }</span>
<a href="#l36.32"></a><span id="l36.32"> </span>
<a href="#l36.33"></a><span id="l36.33">   // Saturday</span>
<a href="#l36.34"></a><span id="l36.34">   box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 7, hour)</span>
<a href="#l36.35"></a><span id="l36.35">     + eventPath;</span>
<a href="#l36.36"></a><span id="l36.36" class="difflineat">@@ -123,17 +123,17 @@ function checkMultiWeekView(view){</span>
<a href="#l36.37"></a><span id="l36.37">   let week = 1;</span>
<a href="#l36.38"></a><span id="l36.38"> </span>
<a href="#l36.39"></a><span id="l36.39">   // in month view event starts from 2nd row</span>
<a href="#l36.40"></a><span id="l36.40">   if (view == &quot;month&quot;) {</span>
<a href="#l36.41"></a><span id="l36.41">     week++;</span>
<a href="#l36.42"></a><span id="l36.42">   }</span>
<a href="#l36.43"></a><span id="l36.43"> </span>
<a href="#l36.44"></a><span id="l36.44">   // Monday, Tuesday, Wednesday, Thursday</span>
<a href="#l36.45"></a><span id="l36.45" class="difflineminus">-  for(let i = 2; i &lt; 6; i++){</span>
<a href="#l36.46"></a><span id="l36.46" class="difflineplus">+  for (let i = 2; i &lt; 6; i++){</span>
<a href="#l36.47"></a><span id="l36.47">     let box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, i, undefined)</span>
<a href="#l36.48"></a><span id="l36.48">       + eventPath;</span>
<a href="#l36.49"></a><span id="l36.49">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l36.50"></a><span id="l36.50">   }</span>
<a href="#l36.51"></a><span id="l36.51"> </span>
<a href="#l36.52"></a><span id="l36.52">   // Saturday</span>
<a href="#l36.53"></a><span id="l36.53">   let box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, 7, undefined)</span>
<a href="#l36.54"></a><span id="l36.54">     + eventPath;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l37.1"></a><span id="l37.1" class="difflineminus">--- a/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js</span>
<a href="#l37.2"></a><span id="l37.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrence/testWeeklyUntilRecurrence.js</span>
<a href="#l37.3"></a><span id="l37.3" class="difflineat">@@ -36,17 +36,17 @@ var testWeeklyUntilRecurrence = function</span>
<a href="#l37.4"></a><span id="l37.4"> </span>
<a href="#l37.5"></a><span id="l37.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l37.6"></a><span id="l37.6">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l37.7"></a><span id="l37.7"> </span>
<a href="#l37.8"></a><span id="l37.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l37.9"></a><span id="l37.9">     + eventPath;</span>
<a href="#l37.10"></a><span id="l37.10"> </span>
<a href="#l37.11"></a><span id="l37.11">   // check day view</span>
<a href="#l37.12"></a><span id="l37.12" class="difflineminus">-  for(let week = 0; week &lt; 3; week++){</span>
<a href="#l37.13"></a><span id="l37.13" class="difflineplus">+  for (let week = 0; week &lt; 3; week++){</span>
<a href="#l37.14"></a><span id="l37.14">     // Monday</span>
<a href="#l37.15"></a><span id="l37.15">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.16"></a><span id="l37.16">     calUtils.forward(controller, 2);</span>
<a href="#l37.17"></a><span id="l37.17">     // Wednesday</span>
<a href="#l37.18"></a><span id="l37.18">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.19"></a><span id="l37.19">     calUtils.forward(controller, 2);</span>
<a href="#l37.20"></a><span id="l37.20">     // Friday</span>
<a href="#l37.21"></a><span id="l37.21">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.22"></a><span id="l37.22" class="difflineat">@@ -58,17 +58,17 @@ var testWeeklyUntilRecurrence = function</span>
<a href="#l37.23"></a><span id="l37.23">   calUtils.forward(controller, 2);</span>
<a href="#l37.24"></a><span id="l37.24">   // Wednesday</span>
<a href="#l37.25"></a><span id="l37.25">   controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.26"></a><span id="l37.26">   calUtils.forward(controller, 2);</span>
<a href="#l37.27"></a><span id="l37.27"> </span>
<a href="#l37.28"></a><span id="l37.28">   // check week view</span>
<a href="#l37.29"></a><span id="l37.29">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l37.30"></a><span id="l37.30">   calUtils.goToDate(controller, 2009, 1, 5);</span>
<a href="#l37.31"></a><span id="l37.31" class="difflineminus">-  for(let week = 0; week &lt; 3; week++){</span>
<a href="#l37.32"></a><span id="l37.32" class="difflineplus">+  for (let week = 0; week &lt; 3; week++){</span>
<a href="#l37.33"></a><span id="l37.33">     // Monday</span>
<a href="#l37.34"></a><span id="l37.34">     box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 2, hour)</span>
<a href="#l37.35"></a><span id="l37.35">       + eventPath;</span>
<a href="#l37.36"></a><span id="l37.36">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.37"></a><span id="l37.37">     // Wednesday</span>
<a href="#l37.38"></a><span id="l37.38">     box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 4, hour)</span>
<a href="#l37.39"></a><span id="l37.39">       + eventPath;</span>
<a href="#l37.40"></a><span id="l37.40">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.41"></a><span id="l37.41" class="difflineat">@@ -153,17 +153,17 @@ function setRecurrence(recurrence){</span>
<a href="#l37.42"></a><span id="l37.42"> function checkMultiWeekView(view){</span>
<a href="#l37.43"></a><span id="l37.43">   let startWeek = 1;</span>
<a href="#l37.44"></a><span id="l37.44"> </span>
<a href="#l37.45"></a><span id="l37.45">   // in month view event starts from 2nd row</span>
<a href="#l37.46"></a><span id="l37.46">   if (view == &quot;month&quot;) {</span>
<a href="#l37.47"></a><span id="l37.47">     startWeek++;</span>
<a href="#l37.48"></a><span id="l37.48">   }</span>
<a href="#l37.49"></a><span id="l37.49"> </span>
<a href="#l37.50"></a><span id="l37.50" class="difflineminus">-  for(let week = startWeek; week &lt; startWeek + 3; week++){</span>
<a href="#l37.51"></a><span id="l37.51" class="difflineplus">+  for (let week = startWeek; week &lt; startWeek + 3; week++){</span>
<a href="#l37.52"></a><span id="l37.52">     // Monday</span>
<a href="#l37.53"></a><span id="l37.53">     let box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, 2, undefined)</span>
<a href="#l37.54"></a><span id="l37.54">       + eventPath;</span>
<a href="#l37.55"></a><span id="l37.55">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l37.56"></a><span id="l37.56">     // Wednesday</span>
<a href="#l37.57"></a><span id="l37.57">     box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, 4, undefined)</span>
<a href="#l37.58"></a><span id="l37.58">       + eventPath;</span>
<a href="#l37.59"></a><span id="l37.59">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l38.1"></a><span id="l38.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js</span>
<a href="#l38.2"></a><span id="l38.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testAnnualRecurrence.js</span>
<a href="#l38.3"></a><span id="l38.3" class="difflineat">@@ -36,17 +36,17 @@ var testAnnualRecurrence = function () {</span>
<a href="#l38.4"></a><span id="l38.4">   event.sleep(sleep);</span>
<a href="#l38.5"></a><span id="l38.5">   event.select(new elementslib.ID(event.window.document, &quot;item-repeat&quot;), undefined, undefined,</span>
<a href="#l38.6"></a><span id="l38.6">     &quot;yearly&quot;);</span>
<a href="#l38.7"></a><span id="l38.7">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l38.8"></a><span id="l38.8">   controller.sleep(sleep);</span>
<a href="#l38.9"></a><span id="l38.9"> </span>
<a href="#l38.10"></a><span id="l38.10">   let checkYears = [startYear, startYear + 1, epoch - 1, epoch, epoch + 1];</span>
<a href="#l38.11"></a><span id="l38.11">   let box = &quot;&quot;;</span>
<a href="#l38.12"></a><span id="l38.12" class="difflineminus">-  for(let i = 0; i &lt; checkYears.length; i++){</span>
<a href="#l38.13"></a><span id="l38.13" class="difflineplus">+  for (let i = 0; i &lt; checkYears.length; i++){</span>
<a href="#l38.14"></a><span id="l38.14">     calUtils.goToDate(controller, checkYears[i], 1, 1);</span>
<a href="#l38.15"></a><span id="l38.15">     let date = new Date(checkYears[i], 0, 1);</span>
<a href="#l38.16"></a><span id="l38.16">     let column = date.getDay() + 1;</span>
<a href="#l38.17"></a><span id="l38.17"> </span>
<a href="#l38.18"></a><span id="l38.18">     // day view</span>
<a href="#l38.19"></a><span id="l38.19">     calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l38.20"></a><span id="l38.20">     box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.ALLDAY, undefined, 1, undefined)</span>
<a href="#l38.21"></a><span id="l38.21">       + eventPath;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l39.1"></a><span id="l39.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js</span>
<a href="#l39.2"></a><span id="l39.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testBiweeklyRecurrence.js</span>
<a href="#l39.3"></a><span id="l39.3" class="difflineat">@@ -36,38 +36,38 @@ var testBiweeklyRecurrence = function ()</span>
<a href="#l39.4"></a><span id="l39.4">   event.select(new elementslib.ID(event.window.document, &quot;item-repeat&quot;), undefined, undefined, &quot;bi.weekly&quot;);</span>
<a href="#l39.5"></a><span id="l39.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l39.6"></a><span id="l39.6">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l39.7"></a><span id="l39.7"> </span>
<a href="#l39.8"></a><span id="l39.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l39.9"></a><span id="l39.9">     + eventPath;</span>
<a href="#l39.10"></a><span id="l39.10"> </span>
<a href="#l39.11"></a><span id="l39.11">   // check day view</span>
<a href="#l39.12"></a><span id="l39.12" class="difflineminus">-  for(let i = 0; i &lt; 4; i++){</span>
<a href="#l39.13"></a><span id="l39.13" class="difflineplus">+  for (let i = 0; i &lt; 4; i++){</span>
<a href="#l39.14"></a><span id="l39.14">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l39.15"></a><span id="l39.15">     calUtils.forward(controller, 14);</span>
<a href="#l39.16"></a><span id="l39.16">   }</span>
<a href="#l39.17"></a><span id="l39.17"> </span>
<a href="#l39.18"></a><span id="l39.18">   // check week view</span>
<a href="#l39.19"></a><span id="l39.19">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l39.20"></a><span id="l39.20">   calUtils.goToDate(controller, 2009, 1, 31);</span>
<a href="#l39.21"></a><span id="l39.21"> </span>
<a href="#l39.22"></a><span id="l39.22">   box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 7, hour)</span>
<a href="#l39.23"></a><span id="l39.23">     + eventPath;</span>
<a href="#l39.24"></a><span id="l39.24" class="difflineminus">-  for(let i = 0; i &lt; 4; i++){</span>
<a href="#l39.25"></a><span id="l39.25" class="difflineplus">+  for (let i = 0; i &lt; 4; i++){</span>
<a href="#l39.26"></a><span id="l39.26">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l39.27"></a><span id="l39.27">     calUtils.forward(2);</span>
<a href="#l39.28"></a><span id="l39.28">   }</span>
<a href="#l39.29"></a><span id="l39.29"> </span>
<a href="#l39.30"></a><span id="l39.30">   // check multiweek view</span>
<a href="#l39.31"></a><span id="l39.31">   calUtils.switchToView(controller, &quot;multiweek&quot;);</span>
<a href="#l39.32"></a><span id="l39.32">   calUtils.goToDate(controller, 2009, 1, 31);</span>
<a href="#l39.33"></a><span id="l39.33"> </span>
<a href="#l39.34"></a><span id="l39.34">   // always two occurrences in view, 1st and 3rd or 2nd and 4th week</span>
<a href="#l39.35"></a><span id="l39.35" class="difflineminus">-  for(let i = 0; i &lt; 5; i++){</span>
<a href="#l39.36"></a><span id="l39.36" class="difflineplus">+  for (let i = 0; i &lt; 5; i++){</span>
<a href="#l39.37"></a><span id="l39.37">     box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i % 2 + 1, 7,</span>
<a href="#l39.38"></a><span id="l39.38">       undefined) + eventPath;</span>
<a href="#l39.39"></a><span id="l39.39">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l39.40"></a><span id="l39.40">     box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i % 2 + 3, 7,</span>
<a href="#l39.41"></a><span id="l39.41">       undefined) + eventPath;</span>
<a href="#l39.42"></a><span id="l39.42">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l39.43"></a><span id="l39.43">     calUtils.forward(controller, 1);</span>
<a href="#l39.44"></a><span id="l39.44">   }</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l40.1"></a><span id="l40.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js</span>
<a href="#l40.2"></a><span id="l40.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testDailyRecurrence.js</span>
<a href="#l40.3"></a><span id="l40.3" class="difflineat">@@ -38,69 +38,69 @@ var testDailyRecurrence = function () {</span>
<a href="#l40.4"></a><span id="l40.4">     &quot;daily&quot;);</span>
<a href="#l40.5"></a><span id="l40.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l40.6"></a><span id="l40.6"> </span>
<a href="#l40.7"></a><span id="l40.7">   // check day view for 7 days</span>
<a href="#l40.8"></a><span id="l40.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour, undefined)</span>
<a href="#l40.9"></a><span id="l40.9">     + eventPath;</span>
<a href="#l40.10"></a><span id="l40.10">   controller.waitForElement(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.11"></a><span id="l40.11"> </span>
<a href="#l40.12"></a><span id="l40.12" class="difflineminus">-  for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.13"></a><span id="l40.13" class="difflineplus">+  for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.14"></a><span id="l40.14">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.15"></a><span id="l40.15">     calUtils.forward(controller, 1);</span>
<a href="#l40.16"></a><span id="l40.16">   }</span>
<a href="#l40.17"></a><span id="l40.17"> </span>
<a href="#l40.18"></a><span id="l40.18">   // check week view for 2 weeks</span>
<a href="#l40.19"></a><span id="l40.19">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l40.20"></a><span id="l40.20">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l40.21"></a><span id="l40.21"> </span>
<a href="#l40.22"></a><span id="l40.22" class="difflineminus">-  for(let day = 5; day &lt;= 7; day++){</span>
<a href="#l40.23"></a><span id="l40.23" class="difflineplus">+  for (let day = 5; day &lt;= 7; day++){</span>
<a href="#l40.24"></a><span id="l40.24">     let box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, 1, day, hour)</span>
<a href="#l40.25"></a><span id="l40.25">       + eventPath;</span>
<a href="#l40.26"></a><span id="l40.26">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.27"></a><span id="l40.27">   }</span>
<a href="#l40.28"></a><span id="l40.28"> </span>
<a href="#l40.29"></a><span id="l40.29">   calUtils.forward(controller, 1);</span>
<a href="#l40.30"></a><span id="l40.30"> </span>
<a href="#l40.31"></a><span id="l40.31" class="difflineminus">-  for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.32"></a><span id="l40.32" class="difflineplus">+  for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.33"></a><span id="l40.33">     let box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, 2, day, hour)</span>
<a href="#l40.34"></a><span id="l40.34">       + eventPath;</span>
<a href="#l40.35"></a><span id="l40.35">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.36"></a><span id="l40.36">   }</span>
<a href="#l40.37"></a><span id="l40.37"> </span>
<a href="#l40.38"></a><span id="l40.38">   // check multiweek view for 4 weeks</span>
<a href="#l40.39"></a><span id="l40.39">   calUtils.switchToView(controller, &quot;multiweek&quot;);</span>
<a href="#l40.40"></a><span id="l40.40">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l40.41"></a><span id="l40.41"> </span>
<a href="#l40.42"></a><span id="l40.42" class="difflineminus">-  for(let day = 5; day &lt;= 7; day++){</span>
<a href="#l40.43"></a><span id="l40.43" class="difflineplus">+  for (let day = 5; day &lt;= 7; day++){</span>
<a href="#l40.44"></a><span id="l40.44">     let box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, 1, day, hour)</span>
<a href="#l40.45"></a><span id="l40.45">       + eventPath;</span>
<a href="#l40.46"></a><span id="l40.46">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.47"></a><span id="l40.47">   }</span>
<a href="#l40.48"></a><span id="l40.48"> </span>
<a href="#l40.49"></a><span id="l40.49" class="difflineminus">-  for(let week = 2; week &lt;= 4; week++){</span>
<a href="#l40.50"></a><span id="l40.50" class="difflineminus">-    for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.51"></a><span id="l40.51" class="difflineplus">+  for (let week = 2; week &lt;= 4; week++){</span>
<a href="#l40.52"></a><span id="l40.52" class="difflineplus">+    for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.53"></a><span id="l40.53">       let box = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, week, day, hour)</span>
<a href="#l40.54"></a><span id="l40.54">         + eventPath;</span>
<a href="#l40.55"></a><span id="l40.55">       controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.56"></a><span id="l40.56">     }</span>
<a href="#l40.57"></a><span id="l40.57">   }</span>
<a href="#l40.58"></a><span id="l40.58"> </span>
<a href="#l40.59"></a><span id="l40.59">   // check month view for all 5 weeks</span>
<a href="#l40.60"></a><span id="l40.60">   calUtils.switchToView(controller, &quot;month&quot;);</span>
<a href="#l40.61"></a><span id="l40.61">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l40.62"></a><span id="l40.62"> </span>
<a href="#l40.63"></a><span id="l40.63" class="difflineminus">-  for(let day = 5; day &lt;= 7; day++){</span>
<a href="#l40.64"></a><span id="l40.64" class="difflineplus">+  for (let day = 5; day &lt;= 7; day++){</span>
<a href="#l40.65"></a><span id="l40.65">     let box = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, 1, day, undefined)</span>
<a href="#l40.66"></a><span id="l40.66">       + eventPath;</span>
<a href="#l40.67"></a><span id="l40.67">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.68"></a><span id="l40.68">   }</span>
<a href="#l40.69"></a><span id="l40.69"> </span>
<a href="#l40.70"></a><span id="l40.70" class="difflineminus">-  for(let week = 2; week &lt;= 5; week++){</span>
<a href="#l40.71"></a><span id="l40.71" class="difflineminus">-    for(let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.72"></a><span id="l40.72" class="difflineplus">+  for (let week = 2; week &lt;= 5; week++){</span>
<a href="#l40.73"></a><span id="l40.73" class="difflineplus">+    for (let day = 1; day &lt;= 7; day++){</span>
<a href="#l40.74"></a><span id="l40.74">       let box = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, week, day, undefined)</span>
<a href="#l40.75"></a><span id="l40.75">         + eventPath;</span>
<a href="#l40.76"></a><span id="l40.76">       controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l40.77"></a><span id="l40.77">     }</span>
<a href="#l40.78"></a><span id="l40.78">   }</span>
<a href="#l40.79"></a><span id="l40.79"> </span>
<a href="#l40.80"></a><span id="l40.80">   // delete 3rd January occurrence</span>
<a href="#l40.81"></a><span id="l40.81">   let saturday = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, 1, 7, undefined)</span>
<a href="#l40.82"></a><span id="l40.82" class="difflineat">@@ -146,53 +146,53 @@ var testDailyRecurrence = function () {</span>
<a href="#l40.83"></a><span id="l40.83">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l40.84"></a><span id="l40.84">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l40.85"></a><span id="l40.85"> </span>
<a href="#l40.86"></a><span id="l40.86">   // check day view for 7 days</span>
<a href="#l40.87"></a><span id="l40.87">   let day = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, undefined)</span>
<a href="#l40.88"></a><span id="l40.88">     + eventPath;</span>
<a href="#l40.89"></a><span id="l40.89">   var dates = [[2009, 1, 3],</span>
<a href="#l40.90"></a><span id="l40.90">                [2009, 1, 4]];</span>
<a href="#l40.91"></a><span id="l40.91" class="difflineminus">-  for(let i = 0; i &lt; dates.length; i++){</span>
<a href="#l40.92"></a><span id="l40.92" class="difflineplus">+  for (let i = 0; i &lt; dates.length; i++){</span>
<a href="#l40.93"></a><span id="l40.93">     calUtils.goToDate(controller, dates[i][0], dates[i][1], dates[i][2]);</span>
<a href="#l40.94"></a><span id="l40.94">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.95"></a><span id="l40.95">   }</span>
<a href="#l40.96"></a><span id="l40.96"> </span>
<a href="#l40.97"></a><span id="l40.97">   // check week view for 2 weeks</span>
<a href="#l40.98"></a><span id="l40.98">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l40.99"></a><span id="l40.99">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l40.100"></a><span id="l40.100"> </span>
<a href="#l40.101"></a><span id="l40.101" class="difflineminus">-  for(let i = 0; i &lt;= 1; i++){</span>
<a href="#l40.102"></a><span id="l40.102" class="difflineplus">+  for (let i = 0; i &lt;= 1; i++){</span>
<a href="#l40.103"></a><span id="l40.103">     let day = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 1, undefined)</span>
<a href="#l40.104"></a><span id="l40.104">       + eventPath;</span>
<a href="#l40.105"></a><span id="l40.105">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.106"></a><span id="l40.106">     day = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 7, undefined)</span>
<a href="#l40.107"></a><span id="l40.107">       + eventPath;</span>
<a href="#l40.108"></a><span id="l40.108">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.109"></a><span id="l40.109">     calUtils.forward(controller, 1);</span>
<a href="#l40.110"></a><span id="l40.110">   }</span>
<a href="#l40.111"></a><span id="l40.111"> </span>
<a href="#l40.112"></a><span id="l40.112">   // check multiweek view for 4 weeks</span>
<a href="#l40.113"></a><span id="l40.113">   calUtils.switchToView(controller, &quot;multiweek&quot;);</span>
<a href="#l40.114"></a><span id="l40.114">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l40.115"></a><span id="l40.115"> </span>
<a href="#l40.116"></a><span id="l40.116" class="difflineminus">-  for(let i = 1; i &lt;= 4; i++){</span>
<a href="#l40.117"></a><span id="l40.117" class="difflineplus">+  for (let i = 1; i &lt;= 4; i++){</span>
<a href="#l40.118"></a><span id="l40.118">     let day = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i, 1, undefined)</span>
<a href="#l40.119"></a><span id="l40.119">       + eventPath;</span>
<a href="#l40.120"></a><span id="l40.120">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.121"></a><span id="l40.121">     day = calUtils.getEventBoxPath(controller, &quot;multiweek&quot;, calUtils.EVENT_BOX, i, 7, undefined)</span>
<a href="#l40.122"></a><span id="l40.122">       + eventPath;</span>
<a href="#l40.123"></a><span id="l40.123">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.124"></a><span id="l40.124">   }</span>
<a href="#l40.125"></a><span id="l40.125"> </span>
<a href="#l40.126"></a><span id="l40.126">   // check month view for all 5 weeks</span>
<a href="#l40.127"></a><span id="l40.127">   calUtils.switchToView(controller, &quot;month&quot;);</span>
<a href="#l40.128"></a><span id="l40.128">   calUtils.goToDate(controller, 2009, 1, 1);</span>
<a href="#l40.129"></a><span id="l40.129"> </span>
<a href="#l40.130"></a><span id="l40.130" class="difflineminus">-  for(let i = 1; i &lt;= 5; i++){</span>
<a href="#l40.131"></a><span id="l40.131" class="difflineplus">+  for (let i = 1; i &lt;= 5; i++){</span>
<a href="#l40.132"></a><span id="l40.132">     let day = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, i, 1, undefined)</span>
<a href="#l40.133"></a><span id="l40.133">       + eventPath;</span>
<a href="#l40.134"></a><span id="l40.134">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.135"></a><span id="l40.135">     day = calUtils.getEventBoxPath(controller, &quot;month&quot;, calUtils.EVENT_BOX, i, 7, undefined)</span>
<a href="#l40.136"></a><span id="l40.136">       + eventPath;</span>
<a href="#l40.137"></a><span id="l40.137">     controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, day));</span>
<a href="#l40.138"></a><span id="l40.138">   }</span>
<a href="#l40.139"></a><span id="l40.139"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l41.1"></a><span id="l41.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l41.2"></a><span id="l41.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testLastDayOfMonthRecurrence.js</span>
<a href="#l41.3"></a><span id="l41.3" class="difflineat">@@ -57,17 +57,17 @@ var testLastDayOfMonthRecurrence = funct</span>
<a href="#l41.4"></a><span id="l41.4">                       [2008, 11, 30, 6],</span>
<a href="#l41.5"></a><span id="l41.5">                       [2008, 12, 31, 5],</span>
<a href="#l41.6"></a><span id="l41.6">                       [2009, 1, 31, 5],</span>
<a href="#l41.7"></a><span id="l41.7">                       [2009, 2, 28, 4],</span>
<a href="#l41.8"></a><span id="l41.8">                       [2009, 3, 31, 5]];</span>
<a href="#l41.9"></a><span id="l41.9">   let box = &quot;&quot;;</span>
<a href="#l41.10"></a><span id="l41.10"> </span>
<a href="#l41.11"></a><span id="l41.11">   // check all dates</span>
<a href="#l41.12"></a><span id="l41.12" class="difflineminus">-  for(let i = 0; i &lt; checkingData.length; i++){</span>
<a href="#l41.13"></a><span id="l41.13" class="difflineplus">+  for (let i = 0; i &lt; checkingData.length; i++){</span>
<a href="#l41.14"></a><span id="l41.14">     calUtils.goToDate(controller, checkingData[i][0], checkingData[i][1], checkingData[i][2]);</span>
<a href="#l41.15"></a><span id="l41.15"> </span>
<a href="#l41.16"></a><span id="l41.16">     // day view</span>
<a href="#l41.17"></a><span id="l41.17">     calUtils.switchToView(controller, &quot;day&quot;);</span>
<a href="#l41.18"></a><span id="l41.18">     box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l41.19"></a><span id="l41.19">       + eventPath;</span>
<a href="#l41.20"></a><span id="l41.20">     controller.waitForElement(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l41.21"></a><span id="l41.21"> </span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l42.1"></a><span id="l42.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</span>
<a href="#l42.2"></a><span id="l42.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyNRecurrence.js</span>
<a href="#l42.3"></a><span id="l42.3" class="difflineat">@@ -40,30 +40,30 @@ var testWeeklyNRecurrence = function () </span>
<a href="#l42.4"></a><span id="l42.4"> </span>
<a href="#l42.5"></a><span id="l42.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l42.6"></a><span id="l42.6"> </span>
<a href="#l42.7"></a><span id="l42.7">   // check day view</span>
<a href="#l42.8"></a><span id="l42.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l42.9"></a><span id="l42.9">     + eventPath;</span>
<a href="#l42.10"></a><span id="l42.10"> </span>
<a href="#l42.11"></a><span id="l42.11">   // Monday, Tuesday, Wednesday, Thursday</span>
<a href="#l42.12"></a><span id="l42.12" class="difflineminus">-  for(let i = 0; i &lt; 4; i++){</span>
<a href="#l42.13"></a><span id="l42.13" class="difflineplus">+  for (let i = 0; i &lt; 4; i++){</span>
<a href="#l42.14"></a><span id="l42.14">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l42.15"></a><span id="l42.15">     calUtils.forward(controller, 1);</span>
<a href="#l42.16"></a><span id="l42.16">   }</span>
<a href="#l42.17"></a><span id="l42.17"> </span>
<a href="#l42.18"></a><span id="l42.18">   // Saturday</span>
<a href="#l42.19"></a><span id="l42.19">   calUtils.forward(controller, 1);</span>
<a href="#l42.20"></a><span id="l42.20">   controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l42.21"></a><span id="l42.21"> </span>
<a href="#l42.22"></a><span id="l42.22">   // check week view</span>
<a href="#l42.23"></a><span id="l42.23">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l42.24"></a><span id="l42.24"> </span>
<a href="#l42.25"></a><span id="l42.25">   // Monday, Tuesday, Wednesday, Thursday</span>
<a href="#l42.26"></a><span id="l42.26" class="difflineminus">-  for(let i = 2; i &lt; 6; i++){</span>
<a href="#l42.27"></a><span id="l42.27" class="difflineplus">+  for (let i = 2; i &lt; 6; i++){</span>
<a href="#l42.28"></a><span id="l42.28">     box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, i, hour)</span>
<a href="#l42.29"></a><span id="l42.29">       + eventPath;</span>
<a href="#l42.30"></a><span id="l42.30">     controller.waitForElement(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l42.31"></a><span id="l42.31">   }</span>
<a href="#l42.32"></a><span id="l42.32"> </span>
<a href="#l42.33"></a><span id="l42.33">   // Saturday</span>
<a href="#l42.34"></a><span id="l42.34">   box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 7, hour)</span>
<a href="#l42.35"></a><span id="l42.35">     + eventPath;</span>
<a href="#l42.36"></a><span id="l42.36" class="difflineat">@@ -136,17 +136,17 @@ function checkMultiWeekView(view){</span>
<a href="#l42.37"></a><span id="l42.37">   let week = 1;</span>
<a href="#l42.38"></a><span id="l42.38"> </span>
<a href="#l42.39"></a><span id="l42.39">   // in month view event starts from 2nd row</span>
<a href="#l42.40"></a><span id="l42.40">   if (view == &quot;month&quot;) {</span>
<a href="#l42.41"></a><span id="l42.41">     week++;</span>
<a href="#l42.42"></a><span id="l42.42">   }</span>
<a href="#l42.43"></a><span id="l42.43"> </span>
<a href="#l42.44"></a><span id="l42.44">   // Monday, Tuesday, Wednesday, Thursday</span>
<a href="#l42.45"></a><span id="l42.45" class="difflineminus">-  for(let i = 2; i &lt; 6; i++){</span>
<a href="#l42.46"></a><span id="l42.46" class="difflineplus">+  for (let i = 2; i &lt; 6; i++){</span>
<a href="#l42.47"></a><span id="l42.47">     let box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, i, undefined)</span>
<a href="#l42.48"></a><span id="l42.48">       + eventPath;</span>
<a href="#l42.49"></a><span id="l42.49">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l42.50"></a><span id="l42.50">   }</span>
<a href="#l42.51"></a><span id="l42.51"> </span>
<a href="#l42.52"></a><span id="l42.52">   // Saturday</span>
<a href="#l42.53"></a><span id="l42.53">   let box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, 7, undefined)</span>
<a href="#l42.54"></a><span id="l42.54">     + eventPath;</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l43.1"></a><span id="l43.1" class="difflineminus">--- a/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</span>
<a href="#l43.2"></a><span id="l43.2" class="difflineplus">+++ b/calendar/test/mozmill/recurrenceRotated/testWeeklyUntilRecurrence.js</span>
<a href="#l43.3"></a><span id="l43.3" class="difflineat">@@ -41,17 +41,17 @@ var testWeeklyUntilRecurrence = function</span>
<a href="#l43.4"></a><span id="l43.4"> </span>
<a href="#l43.5"></a><span id="l43.5">   event.click(new elementslib.ID(event.window.document, &quot;button-save&quot;));</span>
<a href="#l43.6"></a><span id="l43.6">   controller.waitFor(function() {return mozmill.utils.getWindows(&quot;Calendar:EventDialog&quot;).length == 0});</span>
<a href="#l43.7"></a><span id="l43.7"> </span>
<a href="#l43.8"></a><span id="l43.8">   let box = calUtils.getEventBoxPath(controller, &quot;day&quot;, calUtils.EVENT_BOX, undefined, 1, hour)</span>
<a href="#l43.9"></a><span id="l43.9">     + eventPath;</span>
<a href="#l43.10"></a><span id="l43.10"> </span>
<a href="#l43.11"></a><span id="l43.11">   // check day view</span>
<a href="#l43.12"></a><span id="l43.12" class="difflineminus">-  for(let week = 0; week &lt; 3; week++){</span>
<a href="#l43.13"></a><span id="l43.13" class="difflineplus">+  for (let week = 0; week &lt; 3; week++){</span>
<a href="#l43.14"></a><span id="l43.14">     // Monday</span>
<a href="#l43.15"></a><span id="l43.15">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.16"></a><span id="l43.16">     calUtils.forward(controller, 2);</span>
<a href="#l43.17"></a><span id="l43.17">     // Wednesday</span>
<a href="#l43.18"></a><span id="l43.18">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.19"></a><span id="l43.19">     calUtils.forward(controller, 2);</span>
<a href="#l43.20"></a><span id="l43.20">     // Friday</span>
<a href="#l43.21"></a><span id="l43.21">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.22"></a><span id="l43.22" class="difflineat">@@ -63,17 +63,17 @@ var testWeeklyUntilRecurrence = function</span>
<a href="#l43.23"></a><span id="l43.23">   calUtils.forward(controller, 2);</span>
<a href="#l43.24"></a><span id="l43.24">   // Wednesday</span>
<a href="#l43.25"></a><span id="l43.25">   controller.assertNodeNotExist(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.26"></a><span id="l43.26">   calUtils.forward(controller, 2);</span>
<a href="#l43.27"></a><span id="l43.27"> </span>
<a href="#l43.28"></a><span id="l43.28">   // check week view</span>
<a href="#l43.29"></a><span id="l43.29">   calUtils.switchToView(controller, &quot;week&quot;);</span>
<a href="#l43.30"></a><span id="l43.30">   calUtils.goToDate(controller, 2009, 1, 5);</span>
<a href="#l43.31"></a><span id="l43.31" class="difflineminus">-  for(let week = 0; week &lt; 3; week++){</span>
<a href="#l43.32"></a><span id="l43.32" class="difflineplus">+  for (let week = 0; week &lt; 3; week++){</span>
<a href="#l43.33"></a><span id="l43.33">     // Monday</span>
<a href="#l43.34"></a><span id="l43.34">     box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 2, hour)</span>
<a href="#l43.35"></a><span id="l43.35">       + eventPath;</span>
<a href="#l43.36"></a><span id="l43.36">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.37"></a><span id="l43.37">     // Wednesday</span>
<a href="#l43.38"></a><span id="l43.38">     box = calUtils.getEventBoxPath(controller, &quot;week&quot;, calUtils.EVENT_BOX, undefined, 4, hour)</span>
<a href="#l43.39"></a><span id="l43.39">       + eventPath;</span>
<a href="#l43.40"></a><span id="l43.40">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.41"></a><span id="l43.41" class="difflineat">@@ -166,17 +166,17 @@ function setRecurrence(recurrence){</span>
<a href="#l43.42"></a><span id="l43.42"> function checkMultiWeekView(view){</span>
<a href="#l43.43"></a><span id="l43.43">   let startWeek = 1;</span>
<a href="#l43.44"></a><span id="l43.44"> </span>
<a href="#l43.45"></a><span id="l43.45">   // in month view event starts from 2nd row</span>
<a href="#l43.46"></a><span id="l43.46">   if (view == &quot;month&quot;) {</span>
<a href="#l43.47"></a><span id="l43.47">     startWeek++;</span>
<a href="#l43.48"></a><span id="l43.48">   }</span>
<a href="#l43.49"></a><span id="l43.49"> </span>
<a href="#l43.50"></a><span id="l43.50" class="difflineminus">-  for(let week = startWeek; week &lt; startWeek + 3; week++){</span>
<a href="#l43.51"></a><span id="l43.51" class="difflineplus">+  for (let week = startWeek; week &lt; startWeek + 3; week++){</span>
<a href="#l43.52"></a><span id="l43.52">     // Monday</span>
<a href="#l43.53"></a><span id="l43.53">     let box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, 2, undefined)</span>
<a href="#l43.54"></a><span id="l43.54">       + eventPath;</span>
<a href="#l43.55"></a><span id="l43.55">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span>
<a href="#l43.56"></a><span id="l43.56">     // Wednesday</span>
<a href="#l43.57"></a><span id="l43.57">     box = calUtils.getEventBoxPath(controller, view, calUtils.EVENT_BOX, week, 4, undefined)</span>
<a href="#l43.58"></a><span id="l43.58">       + eventPath;</span>
<a href="#l43.59"></a><span id="l43.59">     controller.assertNode(new elementslib.Lookup(controller.window.document, box));</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l44.1"></a><span id="l44.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/calendar-utils.js</span>
<a href="#l44.2"></a><span id="l44.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/calendar-utils.js</span>
<a href="#l44.3"></a><span id="l44.3" class="difflineat">@@ -96,17 +96,17 @@ function handleParentModification(contro</span>
<a href="#l44.4"></a><span id="l44.4"> }</span>
<a href="#l44.5"></a><span id="l44.5"> </span>
<a href="#l44.6"></a><span id="l44.6"> /**</span>
<a href="#l44.7"></a><span id="l44.7">  *  Switch to a view</span>
<a href="#l44.8"></a><span id="l44.8">  *  @param controller - Mozmill window controller</span>
<a href="#l44.9"></a><span id="l44.9">  *  @param view - day, week, multiweek or month</span>
<a href="#l44.10"></a><span id="l44.10">  */</span>
<a href="#l44.11"></a><span id="l44.11"> function switchToView(controller, view){</span>
<a href="#l44.12"></a><span id="l44.12" class="difflineminus">-  switch(view){</span>
<a href="#l44.13"></a><span id="l44.13" class="difflineplus">+  switch (view){</span>
<a href="#l44.14"></a><span id="l44.14">     case &quot;week&quot;:</span>
<a href="#l44.15"></a><span id="l44.15">       controller.waitThenClick(new elementslib.ID(controller.window.document,</span>
<a href="#l44.16"></a><span id="l44.16">         &quot;calendar-week-view-button&quot;));</span>
<a href="#l44.17"></a><span id="l44.17">       controller.waitFor(function() {</span>
<a href="#l44.18"></a><span id="l44.18">         let button = (new elementslib.ID(controller.window.document,</span>
<a href="#l44.19"></a><span id="l44.19">         &quot;calendar-week-view-button&quot;));</span>
<a href="#l44.20"></a><span id="l44.20">         return button.getNode().selected == true;</span>
<a href="#l44.21"></a><span id="l44.21">       });</span>
<a href="#l44.22"></a><span id="l44.22" class="difflineat">@@ -169,17 +169,17 @@ function goToDate(controller, year, mont</span>
<a href="#l44.23"></a><span id="l44.23">         + 'anon({&quot;anonid&quot;:&quot;minimonth-header&quot;})/anon({&quot;anonid&quot;:&quot;minmonth-popupset&quot;})/'</span>
<a href="#l44.24"></a><span id="l44.24">         + 'anon({&quot;anonid&quot;:&quot;years-popup&quot;})/[0]/{&quot;class&quot;:&quot;autorepeatbutton-down&quot;}')).getNode();</span>
<a href="#l44.25"></a><span id="l44.25"> </span>
<a href="#l44.26"></a><span id="l44.26">     // pick year</span>
<a href="#l44.27"></a><span id="l44.27">     controller.click(new elementslib.Lookup(controller.window.document, miniMonth</span>
<a href="#l44.28"></a><span id="l44.28">       + 'anon({&quot;anonid&quot;:&quot;minimonth-header&quot;})/anon({&quot;anonid&quot;:&quot;yearcell&quot;})'));</span>
<a href="#l44.29"></a><span id="l44.29">     controller.sleep(500);</span>
<a href="#l44.30"></a><span id="l44.30"> </span>
<a href="#l44.31"></a><span id="l44.31" class="difflineminus">-    for(let i = 0; i &lt; Math.abs(yearDifference); i++){</span>
<a href="#l44.32"></a><span id="l44.32" class="difflineplus">+    for (let i = 0; i &lt; Math.abs(yearDifference); i++){</span>
<a href="#l44.33"></a><span id="l44.33">       scrollArrow.doCommand();</span>
<a href="#l44.34"></a><span id="l44.34">       controller.sleep(100);</span>
<a href="#l44.35"></a><span id="l44.35">     }</span>
<a href="#l44.36"></a><span id="l44.36"> </span>
<a href="#l44.37"></a><span id="l44.37">     controller.click(new elementslib.Lookup(controller.window.document, miniMonth</span>
<a href="#l44.38"></a><span id="l44.38">       + 'anon({&quot;anonid&quot;:&quot;minimonth-header&quot;})/anon({&quot;anonid&quot;:&quot;minmonth-popupset&quot;})/'</span>
<a href="#l44.39"></a><span id="l44.39">       + 'anon({&quot;anonid&quot;:&quot;years-popup&quot;})/[0]/{&quot;value&quot;:&quot;' + year + '&quot;}'));</span>
<a href="#l44.40"></a><span id="l44.40">     controller.sleep(500);</span>
<a href="#l44.41"></a><span id="l44.41" class="difflineat">@@ -222,17 +222,17 @@ function getEventBoxPath(controller, vie</span>
<a href="#l44.42"></a><span id="l44.42">     + 'id(&quot;tabpanelcontainer&quot;)/id(&quot;calendarTabPanel&quot;)/id(&quot;calendarContent&quot;)/'</span>
<a href="#l44.43"></a><span id="l44.43">     + 'id(&quot;calendarDisplayDeck&quot;)/id(&quot;calendar-view-box&quot;)/id(&quot;view-deck&quot;)';</span>
<a href="#l44.44"></a><span id="l44.44">   let dayView = viewDeck + '/id(&quot;day-view&quot;)';</span>
<a href="#l44.45"></a><span id="l44.45">   let weekView = viewDeck + '/id(&quot;week-view&quot;)';</span>
<a href="#l44.46"></a><span id="l44.46">   let multiweekView = viewDeck + '/id(&quot;multiweek-view&quot;)';</span>
<a href="#l44.47"></a><span id="l44.47">   let monthView = viewDeck + '/id(&quot;month-view&quot;)';</span>
<a href="#l44.48"></a><span id="l44.48"> </span>
<a href="#l44.49"></a><span id="l44.49">   let path = '';</span>
<a href="#l44.50"></a><span id="l44.50" class="difflineminus">-  switch(view){</span>
<a href="#l44.51"></a><span id="l44.51" class="difflineplus">+  switch (view){</span>
<a href="#l44.52"></a><span id="l44.52">     case &quot;week&quot;:</span>
<a href="#l44.53"></a><span id="l44.53">       path += weekView;</span>
<a href="#l44.54"></a><span id="l44.54">       break;</span>
<a href="#l44.55"></a><span id="l44.55">     case &quot;multiweek&quot;:</span>
<a href="#l44.56"></a><span id="l44.56">       path += multiweekView;</span>
<a href="#l44.57"></a><span id="l44.57">       break;</span>
<a href="#l44.58"></a><span id="l44.58">     case &quot;month&quot;:</span>
<a href="#l44.59"></a><span id="l44.59">       path += monthView;</span>
<a href="#l44.60"></a><span id="l44.60" class="difflineat">@@ -269,28 +269,28 @@ function getEventBoxPath(controller, vie</span>
<a href="#l44.61"></a><span id="l44.61">   }</span>
<a href="#l44.62"></a><span id="l44.62"> }</span>
<a href="#l44.63"></a><span id="l44.63"> </span>
<a href="#l44.64"></a><span id="l44.64"> /**</span>
<a href="#l44.65"></a><span id="l44.65">  * @param controller - Mozmill window controller</span>
<a href="#l44.66"></a><span id="l44.66">  * @param n - how many times next button in view is clicked</span>
<a href="#l44.67"></a><span id="l44.67">  */</span>
<a href="#l44.68"></a><span id="l44.68"> function forward(controller, n){</span>
<a href="#l44.69"></a><span id="l44.69" class="difflineminus">-  for(let i = 0; i &lt; n; i++){</span>
<a href="#l44.70"></a><span id="l44.70" class="difflineplus">+  for (let i = 0; i &lt; n; i++){</span>
<a href="#l44.71"></a><span id="l44.71">     controller.click(new elementslib.ID(controller.window.document, &quot;next-view-button&quot;));</span>
<a href="#l44.72"></a><span id="l44.72">     controller.sleep(100);</span>
<a href="#l44.73"></a><span id="l44.73">   }</span>
<a href="#l44.74"></a><span id="l44.74"> }</span>
<a href="#l44.75"></a><span id="l44.75"> </span>
<a href="#l44.76"></a><span id="l44.76"> /**</span>
<a href="#l44.77"></a><span id="l44.77">  * @param controller - Mozmill window controller</span>
<a href="#l44.78"></a><span id="l44.78">  * @param n - how many times previous button in view is clicked</span>
<a href="#l44.79"></a><span id="l44.79">  */</span>
<a href="#l44.80"></a><span id="l44.80"> function back(controller, n){</span>
<a href="#l44.81"></a><span id="l44.81" class="difflineminus">-  for(let i = 0; i &lt; n; i++){</span>
<a href="#l44.82"></a><span id="l44.82" class="difflineplus">+  for (let i = 0; i &lt; n; i++){</span>
<a href="#l44.83"></a><span id="l44.83">     controller.click(new elementslib.ID(controller.window.document, &quot;previous-view-button&quot;));</span>
<a href="#l44.84"></a><span id="l44.84">     controller.sleep(100);</span>
<a href="#l44.85"></a><span id="l44.85">   }</span>
<a href="#l44.86"></a><span id="l44.86"> }</span>
<a href="#l44.87"></a><span id="l44.87"> </span>
<a href="#l44.88"></a><span id="l44.88"> /**</span>
<a href="#l44.89"></a><span id="l44.89">  * Deletes all calendars with given name</span>
<a href="#l44.90"></a><span id="l44.90">  * @param controller - Mozmill window controller</span>
<a href="#l44.91"></a><span id="l44.91" class="difflineat">@@ -338,21 +338,21 @@ function createCalendar(controller, name</span>
<a href="#l44.92"></a><span id="l44.92"> }</span>
<a href="#l44.93"></a><span id="l44.93"> </span>
<a href="#l44.94"></a><span id="l44.94"> /**</span>
<a href="#l44.95"></a><span id="l44.95">  * Retrieves array of all calendar-event-box elements in node</span>
<a href="#l44.96"></a><span id="l44.96">  * @param node - node to be searched</span>
<a href="#l44.97"></a><span id="l44.97">  * @param eventNodes - array where to put resultng nodes</span>
<a href="#l44.98"></a><span id="l44.98">  */</span>
<a href="#l44.99"></a><span id="l44.99"> function findEventsInNode(node, eventNodes) {</span>
<a href="#l44.100"></a><span id="l44.100" class="difflineminus">-  if(node.tagName == &quot;calendar-event-box&quot;) {</span>
<a href="#l44.101"></a><span id="l44.101" class="difflineplus">+  if (node.tagName == &quot;calendar-event-box&quot;) {</span>
<a href="#l44.102"></a><span id="l44.102">     eventNodes.push(node);</span>
<a href="#l44.103"></a><span id="l44.103">     return;</span>
<a href="#l44.104"></a><span id="l44.104">   }</span>
<a href="#l44.105"></a><span id="l44.105" class="difflineminus">-  else if(node.children.length &gt; 0) {</span>
<a href="#l44.106"></a><span id="l44.106" class="difflineplus">+  else if (node.children.length &gt; 0) {</span>
<a href="#l44.107"></a><span id="l44.107">     for (let i = 0; i &lt; node.children.length; i++) {</span>
<a href="#l44.108"></a><span id="l44.108">       findEventsInNode(node.children[i], eventNodes);</span>
<a href="#l44.109"></a><span id="l44.109">     }</span>
<a href="#l44.110"></a><span id="l44.110">   }</span>
<a href="#l44.111"></a><span id="l44.111"> }</span>
<a href="#l44.112"></a><span id="l44.112"> </span>
<a href="#l44.113"></a><span id="l44.113"> /**</span>
<a href="#l44.114"></a><span id="l44.114">  *  Helper function to enter event/task dialog data</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l45.1"></a><span id="l45.1" class="difflineminus">--- a/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l45.2"></a><span id="l45.2" class="difflineplus">+++ b/calendar/test/mozmill/shared-modules/timezone-utils.js</span>
<a href="#l45.3"></a><span id="l45.3" class="difflineat">@@ -44,47 +44,47 @@ function verify(controller, dates, timez</span>
<a href="#l45.4"></a><span id="l45.4">                                              timeLine + '[' + correctHour + ']')).getNode();</span>
<a href="#l45.5"></a><span id="l45.5">       let timeY = timeNode.boxObject.y;</span>
<a href="#l45.6"></a><span id="l45.6">       timeY += timeNode.boxObject.height * (minutes / 60);</span>
<a href="#l45.7"></a><span id="l45.7"> </span>
<a href="#l45.8"></a><span id="l45.8">       let stackNode;</span>
<a href="#l45.9"></a><span id="l45.9">       let eventNodes = [];</span>
<a href="#l45.10"></a><span id="l45.10"> </span>
<a href="#l45.11"></a><span id="l45.11">       // same day</span>
<a href="#l45.12"></a><span id="l45.12" class="difflineminus">-      if(day == undefined) {</span>
<a href="#l45.13"></a><span id="l45.13" class="difflineplus">+      if (day == undefined) {</span>
<a href="#l45.14"></a><span id="l45.14">         stackNode = (new elementslib.Lookup(controller.window.document, dayStack)).getNode();</span>
<a href="#l45.15"></a><span id="l45.15">       }</span>
<a href="#l45.16"></a><span id="l45.16"> </span>
<a href="#l45.17"></a><span id="l45.17">       // following day</span>
<a href="#l45.18"></a><span id="l45.18" class="difflineminus">-      if(day != undefined &amp;&amp; day == 1) {</span>
<a href="#l45.19"></a><span id="l45.19" class="difflineplus">+      if (day != undefined &amp;&amp; day == 1) {</span>
<a href="#l45.20"></a><span id="l45.20">         calUtils.forward(controller, 1);</span>
<a href="#l45.21"></a><span id="l45.21">         stackNode = (new elementslib.Lookup(controller.window.document, dayStack)).getNode();</span>
<a href="#l45.22"></a><span id="l45.22">       }</span>
<a href="#l45.23"></a><span id="l45.23"> </span>
<a href="#l45.24"></a><span id="l45.24">       // previous day</span>
<a href="#l45.25"></a><span id="l45.25" class="difflineminus">-      if(day != undefined &amp;&amp; day == -1) {</span>
<a href="#l45.26"></a><span id="l45.26" class="difflineplus">+      if (day != undefined &amp;&amp; day == -1) {</span>
<a href="#l45.27"></a><span id="l45.27">         calUtils.back(controller, 1);</span>
<a href="#l45.28"></a><span id="l45.28">         stackNode = (new elementslib.Lookup(controller.window.document, dayStack)).getNode();</span>
<a href="#l45.29"></a><span id="l45.29">       }</span>
<a href="#l45.30"></a><span id="l45.30"> </span>
<a href="#l45.31"></a><span id="l45.31">       calUtils.findEventsInNode(stackNode, eventNodes);</span>
<a href="#l45.32"></a><span id="l45.32"> </span>
<a href="#l45.33"></a><span id="l45.33">       for (let node of eventNodes) {</span>
<a href="#l45.34"></a><span id="l45.34">         if (Math.abs(timeY - node.boxObject.y) &lt; allowedDifference &amp;&amp;</span>
<a href="#l45.35"></a><span id="l45.35">                      timezones[tz] == node.mOccurrence.title) {</span>
<a href="#l45.36"></a><span id="l45.36">           found = true;</span>
<a href="#l45.37"></a><span id="l45.37">           break;</span>
<a href="#l45.38"></a><span id="l45.38">         }</span>
<a href="#l45.39"></a><span id="l45.39">       }</span>
<a href="#l45.40"></a><span id="l45.40"> </span>
<a href="#l45.41"></a><span id="l45.41" class="difflineminus">-      if(day != undefined &amp;&amp; day == 1) {</span>
<a href="#l45.42"></a><span id="l45.42" class="difflineplus">+      if (day != undefined &amp;&amp; day == 1) {</span>
<a href="#l45.43"></a><span id="l45.43">         calUtils.back(controller, 1);</span>
<a href="#l45.44"></a><span id="l45.44">       }</span>
<a href="#l45.45"></a><span id="l45.45"> </span>
<a href="#l45.46"></a><span id="l45.46" class="difflineminus">-      if(day != undefined &amp;&amp; day == -1) {</span>
<a href="#l45.47"></a><span id="l45.47" class="difflineplus">+      if (day != undefined &amp;&amp; day == -1) {</span>
<a href="#l45.48"></a><span id="l45.48">         calUtils.forward(controller, 1);</span>
<a href="#l45.49"></a><span id="l45.49">       }</span>
<a href="#l45.50"></a><span id="l45.50">       controller.assertJS(found == true);</span>
<a href="#l45.51"></a><span id="l45.51">     }</span>
<a href="#l45.52"></a><span id="l45.52">   }</span>
<a href="#l45.53"></a><span id="l45.53"> }</span>
<a href="#l45.54"></a><span id="l45.54"> </span>
<a href="#l45.55"></a><span id="l45.55"> // Export of functions</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l46.1"></a><span id="l46.1" class="difflineminus">--- a/calendar/test/mozmill/testLocalICS.js</span>
<a href="#l46.2"></a><span id="l46.2" class="difflineplus">+++ b/calendar/test/mozmill/testLocalICS.js</span>
<a href="#l46.3"></a><span id="l46.3" class="difflineat">@@ -80,17 +80,17 @@ var testLocalICS = function () {</span>
<a href="#l46.4"></a><span id="l46.4">   // verify in file</span>
<a href="#l46.5"></a><span id="l46.5">   let fstream = Components.classes[&quot;@mozilla.org/network/file-input-stream;1&quot;]</span>
<a href="#l46.6"></a><span id="l46.6">                           .createInstance(Components.interfaces.nsIFileInputStream);</span>
<a href="#l46.7"></a><span id="l46.7">   let cstream = Components.classes[&quot;@mozilla.org/intl/converter-input-stream;1&quot;]</span>
<a href="#l46.8"></a><span id="l46.8">                           .createInstance(Components.interfaces.nsIConverterInputStream);</span>
<a href="#l46.9"></a><span id="l46.9"> </span>
<a href="#l46.10"></a><span id="l46.10">   // wait a moment until file is written</span>
<a href="#l46.11"></a><span id="l46.11">   let i = 0;</span>
<a href="#l46.12"></a><span id="l46.12" class="difflineminus">-  while(!file.exists() &amp;&amp; i &lt; 10) {</span>
<a href="#l46.13"></a><span id="l46.13" class="difflineplus">+  while (!file.exists() &amp;&amp; i &lt; 10) {</span>
<a href="#l46.14"></a><span id="l46.14">     controller.sleep(sleep);</span>
<a href="#l46.15"></a><span id="l46.15">     i++;</span>
<a href="#l46.16"></a><span id="l46.16">   }</span>
<a href="#l46.17"></a><span id="l46.17"> </span>
<a href="#l46.18"></a><span id="l46.18">   fstream.init(file, -1, 0, 0);</span>
<a href="#l46.19"></a><span id="l46.19">   cstream.init(fstream, &quot;UTF-8&quot;, 0, 0);</span>
<a href="#l46.20"></a><span id="l46.20"> </span>
<a href="#l46.21"></a><span id="l46.21">   let str = {};</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l47.1"></a><span id="l47.1" class="difflineminus">--- a/calendar/test/unit/head_consts.js</span>
<a href="#l47.2"></a><span id="l47.2" class="difflineplus">+++ b/calendar/test/unit/head_consts.js</span>
<a href="#l47.3"></a><span id="l47.3" class="difflineat">@@ -193,17 +193,17 @@ function ics_unfoldline(aLine) {</span>
<a href="#l47.4"></a><span id="l47.4">  */</span>
<a href="#l47.5"></a><span id="l47.5"> function readJSONFile(aFile) {</span>
<a href="#l47.6"></a><span id="l47.6">     let stream = Cc[&quot;@mozilla.org/network/file-input-stream;1&quot;].createInstance(Ci.nsIFileInputStream);</span>
<a href="#l47.7"></a><span id="l47.7">   try {</span>
<a href="#l47.8"></a><span id="l47.8">       stream.init(aFile, FileUtils.MODE_RDONLY, FileUtils.PERMS_FILE, 0);</span>
<a href="#l47.9"></a><span id="l47.9">       let json = Cc[&quot;@mozilla.org/dom/json;1&quot;].createInstance(Components.interfaces.nsIJSON);</span>
<a href="#l47.10"></a><span id="l47.10">       let data = json.decodeFromStream(stream, stream.available());</span>
<a href="#l47.11"></a><span id="l47.11">       return data;</span>
<a href="#l47.12"></a><span id="l47.12" class="difflineminus">-  } catch(ex) {</span>
<a href="#l47.13"></a><span id="l47.13" class="difflineplus">+  } catch (ex) {</span>
<a href="#l47.14"></a><span id="l47.14">       dump(&quot;readJSONFile: Error reading JSON file: &quot; + ex);</span>
<a href="#l47.15"></a><span id="l47.15">   } finally {</span>
<a href="#l47.16"></a><span id="l47.16">       stream.close();</span>
<a href="#l47.17"></a><span id="l47.17">   }</span>
<a href="#l47.18"></a><span id="l47.18">   return false;</span>
<a href="#l47.19"></a><span id="l47.19"> }</span>
<a href="#l47.20"></a><span id="l47.20"> </span>
<a href="#l47.21"></a><span id="l47.21"> function do_load_timezoneservice(callback) {</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l48.1"></a><span id="l48.1" class="difflineminus">--- a/calendar/test/unit/test_timezone_definition.js</span>
<a href="#l48.2"></a><span id="l48.2" class="difflineplus">+++ b/calendar/test/unit/test_timezone_definition.js</span>
<a href="#l48.3"></a><span id="l48.3" class="difflineat">@@ -78,17 +78,17 @@ add_task(function* completeness_test() {</span>
<a href="#l48.4"></a><span id="l48.4">         // convenience, that must not be used without being modified manually to comply with a</span>
<a href="#l48.5"></a><span id="l48.5">         // previous tz version.</span>
<a href="#l48.6"></a><span id="l48.6">         notEqual(test.version, &quot;2.1969z&quot;, &quot;Check for dummy test data.&quot;);</span>
<a href="#l48.7"></a><span id="l48.7">         let tzs = cal.getTimezoneService();</span>
<a href="#l48.8"></a><span id="l48.8">         let comp = Services.vc.compare(test.version, tzs.version);</span>
<a href="#l48.9"></a><span id="l48.9"> </span>
<a href="#l48.10"></a><span id="l48.10">         // some checks on the test data</span>
<a href="#l48.11"></a><span id="l48.11">         if (comp != -1) {</span>
<a href="#l48.12"></a><span id="l48.12" class="difflineminus">-            switch(comp) {</span>
<a href="#l48.13"></a><span id="l48.13" class="difflineplus">+            switch (comp) {</span>
<a href="#l48.14"></a><span id="l48.14">                 case 0:</span>
<a href="#l48.15"></a><span id="l48.15">                     do_print(&quot;Test data and timezone service use the same timezone version.&quot;);</span>
<a href="#l48.16"></a><span id="l48.16">                     break;</span>
<a href="#l48.17"></a><span id="l48.17">                 case 1:</span>
<a href="#l48.18"></a><span id="l48.18">                     do_print(&quot;Test data use a newer timezone version than the timezone service.&quot;);</span>
<a href="#l48.19"></a><span id="l48.19">                     break;</span>
<a href="#l48.20"></a><span id="l48.20">             }</span>
<a href="#l48.21"></a><span id="l48.21">             do_print(&quot;test data: &quot; + test.version);</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

