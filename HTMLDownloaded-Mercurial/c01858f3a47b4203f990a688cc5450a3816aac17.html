<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<link rel="icon" href="/static/35f393d6769a/hgicon.png" type="image/png" />
<meta name="robots" content="index, nofollow"/>
<link rel="stylesheet" href="/static/35f393d6769a/style-gitweb.css" type="text/css" />

<style type="text/css">
div.feed {
  float: right;
}
a img {
  border-width: 0px;
}
div.log_link {
  width: 80px;
  background-color: white;
}

div.log_body {
  padding-left: 96px;
}
</style>
<script type="text/javascript" src="/static/35f393d6769a/mercurial.js"></script>

<meta property="og:image" content="/static/35f393d6769a/moz-logo-bw-rgb.svg"/>
<meta property="og:type" content="website"/>

<title>comm-central: changeset 1787:c01858f3a47b4203f990a688cc5450a3816aac17</title>
<link rel="alternate" type="application/atom+xml"
   href="/comm-central/atom-log" title="Atom feed for comm-central"/>
<link rel="alternate" type="application/rss+xml"
   href="/comm-central/rss-log" title="RSS feed for comm-central"/>

<meta property="og:title" content="comm-central @ c01858f3a47b4203f990a688cc5450a3816aac17" />
<meta property="og:url" content="/comm-central/rev/c01858f3a47b4203f990a688cc5450a3816aac17" />
<meta property="og:description" content="Bug 261882 Import &amp; Export to/from text files (CSV,TAB) fails to include &quot;Screenname&quot; field. r=Standard8,sr=dmose" />

</head>
<body>

<div class="page_header">
<div class="logo">
    <a href="https://developer.mozilla.org/en/docs/Mercurial">
        <img src="/static/35f393d6769a/moz-logo-bw-rgb.svg" alt="mercurial" />
    </a>
</div>
<a href="/">Mercurial</a> &gt; <a href="/comm-central">comm-central</a>  / changeset / c01858f3a47b4203f990a688cc5450a3816aac17 
</div>

<div class="page_nav">
<div>
<a href="/comm-central/summary">summary</a> |
<a href="/comm-central/shortlog/c01858f3a47b4203f990a688cc5450a3816aac17">shortlog</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17">changelog</a> |
<a href="/comm-central/pushloghtml">pushlog</a> |
<a href="/comm-central/graph/c01858f3a47b4203f990a688cc5450a3816aac17">graph</a> |
<a href="/comm-central/tags">tags</a> |
<a href="/comm-central/bookmarks">bookmarks</a> |
<a href="/comm-central/branches">branches</a> |
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17">files</a> |
changeset |
<a href="/comm-central/raw-rev/c01858f3a47b4203f990a688cc5450a3816aac17">raw</a>  | <a href="/comm-central/archive/c01858f3a47b4203f990a688cc5450a3816aac17.zip">zip</a>  |
<a href="/comm-central/help">help</a>
</div>

<div class="search">
<form id="searchform" action="/comm-central/log">

<input name="rev" type="text" value="" size="40" />
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/comm-central/help/revsets">revset expression</a>.</div>
</form>
</div>
</div>

<div class="title">
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=261882">Bug 261882</a> Import &amp; Export to/from text files (CSV,TAB) fails to include &quot;Screenname&quot; field. r=Standard8,sr=dmose
<span class="logtags"></span>
</div>
<div class="title_text">
<table cellspacing="0">

<tr><td>author</td><td>&#381;&#105;&#103;&#97;&#32;&#83;&#97;&#110;&#99;&#105;&#110;&#32;&#60;&#98;&#105;&#115;&#105;&#64;&#112;&#105;&#107;&#115;&#108;&#97;&#114;&#46;&#99;&#111;&#109;&#62;</td></tr>
<tr><td></td><td class="date age">Thu, 29 Jan 2009 10:30:05 +0000</td></tr>

<tr>
 <td>changeset 1787</td>
 <td style="font-family:monospace"><a class="list" href="/comm-central/rev/c01858f3a47b4203f990a688cc5450a3816aac17">c01858f3a47b4203f990a688cc5450a3816aac17</a></td>
</tr>



<tr>
<td>parent 1786</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/174fa863d99c3d41eae53ce03ceab098e5e065bb">174fa863d99c3d41eae53ce03ceab098e5e065bb</a>
</td>
</tr>

<tr>
<td>child 1788</td>
<td style="font-family:monospace">
<a class="list" href="/comm-central/rev/510a21be10f74025024ae529f367258127d29533">510a21be10f74025024ae529f367258127d29533</a>
</td>
</tr>
<tr><td>push id</td><td><a href="/comm-central/pushloghtml?changeset=c01858f3a47b4203f990a688cc5450a3816aac17">1441</a></td></tr>
<tr><td>push user</td><td>bugzilla@standard8.plus.com</td></tr>
<tr><td>push date</td><td class="date age">Thu, 29 Jan 2009 10:33:54 +0000</td></tr>

<tr><td>treeherder</td><td>comm-central@dcb38165108d [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=dcb38165108de43dde3343877777832b56db5cec">default view</a>] [<a href="https://treeherder.mozilla.org/#/jobs?repo=comm-central&revision=dcb38165108de43dde3343877777832b56db5cec&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception">failures only]</td></tr>
<tr><td>perfherder</td><td>[<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dcb38165108de43dde3343877777832b56db5cec&newProject=comm-central&newRevision=c01858f3a47b4203f990a688cc5450a3816aac17&framework=1" target="_blank">talos</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dcb38165108de43dde3343877777832b56db5cec&newProject=comm-central&newRevision=c01858f3a47b4203f990a688cc5450a3816aac17&framework=2" target="_blank">build metrics</a>] [<a href="https://treeherder.mozilla.org/perf.html#/compare?originalProject=comm-central&originalRevision=dcb38165108de43dde3343877777832b56db5cec&newProject=comm-central&newRevision=c01858f3a47b4203f990a688cc5450a3816aac17&framework=6" target="_blank">platform microbench</a>] (compared to previous push)</td></tr>
<tr><td>reviewers</td><td><a href="/comm-central/log?rev=reviewer%28Standard8%29&revcount=50">Standard8</a>, <a href="/comm-central/log?rev=reviewer%28dmose%29&revcount=50">dmose</a></td></tr>
<tr><td>bugs</td><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=261882">261882</a></td></tr>




</table></div>

<div class="page_body description"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=261882">Bug 261882</a> Import &amp; Export to/from text files (CSV,TAB) fails to include &quot;Screenname&quot; field. r=Standard8,sr=dmose</div>
<div class="list_head"></div>
<div class="title_text">
<table cellspacing="0">

<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mail/locales/en-US/chrome/messenger/importMsgs.properties">mail/locales/en-US/chrome/messenger/importMsgs.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mail/locales/en-US/chrome/messenger/importMsgs.properties">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mail/locales/en-US/chrome/messenger/importMsgs.properties">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mail/locales/en-US/chrome/messenger/importMsgs.properties">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mail/locales/en-US/chrome/messenger/importMsgs.properties">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mail/locales/en-US/chrome/messenger/importMsgs.properties">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/addrbook/src/nsAbManager.cpp">mailnews/addrbook/src/nsAbManager.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/addrbook/src/nsAbManager.cpp">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/addrbook/src/nsAbManager.cpp">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/addrbook/src/nsAbManager.cpp">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/addrbook/src/nsAbManager.cpp">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/addrbook/src/nsAbManager.cpp">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportFieldMap.cpp">mailnews/import/src/nsImportFieldMap.cpp</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportFieldMap.cpp">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportFieldMap.cpp">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportFieldMap.cpp">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportFieldMap.cpp">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportFieldMap.cpp">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportStringBundle.h">mailnews/import/src/nsImportStringBundle.h</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportStringBundle.h">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportStringBundle.h">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportStringBundle.h">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportStringBundle.h">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/src/nsImportStringBundle.h">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/basic_addressbook.csv">mailnews/import/test/resources/basic_addressbook.csv</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/basic_addressbook.csv">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/basic_addressbook.csv">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/basic_addressbook.csv">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/basic_addressbook.csv">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/basic_addressbook.csv">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/import_helper.js">mailnews/import/test/resources/import_helper.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/import_helper.js">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/import_helper.js">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/import_helper.js">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/import_helper.js">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/import/test/resources/import_helper.js">revisions</a>
</td>
</tr>
<tr class="parity0">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/mailnews.js">mailnews/mailnews.js</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/mailnews.js">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/mailnews.js">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/mailnews.js">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/mailnews.js">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/mailnews/mailnews.js">revisions</a>
</td>
</tr>
<tr class="parity1">
<td><a class="list" href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/suite/locales/en-US/chrome/mailnews/importMsgs.properties">suite/locales/en-US/chrome/mailnews/importMsgs.properties</a></td>
<td></td>
<td class="link">
<a href="/comm-central/file/c01858f3a47b4203f990a688cc5450a3816aac17/suite/locales/en-US/chrome/mailnews/importMsgs.properties">file</a> |
<a href="/comm-central/annotate/c01858f3a47b4203f990a688cc5450a3816aac17/suite/locales/en-US/chrome/mailnews/importMsgs.properties">annotate</a> |
<a href="/comm-central/diff/c01858f3a47b4203f990a688cc5450a3816aac17/suite/locales/en-US/chrome/mailnews/importMsgs.properties">diff</a> |
<a href="/comm-central/comparison/c01858f3a47b4203f990a688cc5450a3816aac17/suite/locales/en-US/chrome/mailnews/importMsgs.properties">comparison</a> |
<a href="/comm-central/log/c01858f3a47b4203f990a688cc5450a3816aac17/suite/locales/en-US/chrome/mailnews/importMsgs.properties">revisions</a>
</td>
</tr>
</table></div>

<div class="page_body diffblocks"><div class="diffblock"><pre class="sourcelines">
<a href="#l1.1"></a><span id="l1.1" class="difflineminus">--- a/mail/locales/en-US/chrome/messenger/importMsgs.properties</span>
<a href="#l1.2"></a><span id="l1.2" class="difflineplus">+++ b/mail/locales/en-US/chrome/messenger/importMsgs.properties</span>
<a href="#l1.3"></a><span id="l1.3" class="difflineat">@@ -269,19 +269,24 @@ 2132=Custom 2</span>
<a href="#l1.4"></a><span id="l1.4"> 2133=Custom 3</span>
<a href="#l1.5"></a><span id="l1.5"> </span>
<a href="#l1.6"></a><span id="l1.6"> # Description: Address book field name</span>
<a href="#l1.7"></a><span id="l1.7"> ## @name IMPORT_FIELD_DESC</span>
<a href="#l1.8"></a><span id="l1.8"> ## @loc None</span>
<a href="#l1.9"></a><span id="l1.9"> 2134=Custom 4</span>
<a href="#l1.10"></a><span id="l1.10"> </span>
<a href="#l1.11"></a><span id="l1.11"> # Description: Address book field name</span>
<a href="#l1.12"></a><span id="l1.12" class="difflineplus">+## @name IMPORT_FIELD_DESC</span>
<a href="#l1.13"></a><span id="l1.13" class="difflineplus">+## @loc None</span>
<a href="#l1.14"></a><span id="l1.14" class="difflineplus">+2135=Notes</span>
<a href="#l1.15"></a><span id="l1.15" class="difflineplus">+</span>
<a href="#l1.16"></a><span id="l1.16" class="difflineplus">+# Description: Address book field name</span>
<a href="#l1.17"></a><span id="l1.17"> ## @name IMPORT_FIELD_DESC_END</span>
<a href="#l1.18"></a><span id="l1.18"> ## @loc None</span>
<a href="#l1.19"></a><span id="l1.19" class="difflineminus">-2135=Notes</span>
<a href="#l1.20"></a><span id="l1.20" class="difflineplus">+2136=Screen Name</span>
<a href="#l1.21"></a><span id="l1.21"> </span>
<a href="#l1.22"></a><span id="l1.22"> #Error strings</span>
<a href="#l1.23"></a><span id="l1.23"> ImportAlreadyInProgress=An import operation is currently in progress. Try again when the current import has finished.</span>
<a href="#l1.24"></a><span id="l1.24"> </span>
<a href="#l1.25"></a><span id="l1.25"> #Error strings for settings import</span>
<a href="#l1.26"></a><span id="l1.26"> ImportSettingsBadModule=Unable to load settings module</span>
<a href="#l1.27"></a><span id="l1.27"> ImportSettingsNotFound=Unable to find settings.  Check to make sure the application is installed on this machine.</span>
<a href="#l1.28"></a><span id="l1.28"> ImportSettingsFailed=An error occurred while importing settings.  Some, or all, of the settings may not have been imported.</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l2.1"></a><span id="l2.1" class="difflineminus">--- a/mailnews/addrbook/src/nsAbManager.cpp</span>
<a href="#l2.2"></a><span id="l2.2" class="difflineplus">+++ b/mailnews/addrbook/src/nsAbManager.cpp</span>
<a href="#l2.3"></a><span id="l2.3" class="difflineat">@@ -98,17 +98,17 @@ struct ExportAttributesTableStruct</span>
<a href="#l2.4"></a><span id="l2.4"> </span>
<a href="#l2.5"></a><span id="l2.5"> const ExportAttributesTableStruct EXPORT_ATTRIBUTES_TABLE[] = {</span>
<a href="#l2.6"></a><span id="l2.6">   {kFirstNameProperty, 2100},</span>
<a href="#l2.7"></a><span id="l2.7">   {kLastNameProperty, 2101},</span>
<a href="#l2.8"></a><span id="l2.8">   {kDisplayNameProperty, 2102},</span>
<a href="#l2.9"></a><span id="l2.9">   {kNicknameProperty, 2103},</span>
<a href="#l2.10"></a><span id="l2.10">   {kPriEmailProperty, 2104},</span>
<a href="#l2.11"></a><span id="l2.11">   {k2ndEmailProperty, 2105},</span>
<a href="#l2.12"></a><span id="l2.12" class="difflineminus">-  {kScreenNameProperty},</span>
<a href="#l2.13"></a><span id="l2.13" class="difflineplus">+  {kScreenNameProperty, 2136},</span>
<a href="#l2.14"></a><span id="l2.14">   {kPreferMailFormatProperty},</span>
<a href="#l2.15"></a><span id="l2.15">   {kLastModifiedDateProperty},</span>
<a href="#l2.16"></a><span id="l2.16">   {kWorkPhoneProperty, 2106},</span>
<a href="#l2.17"></a><span id="l2.17">   {kWorkPhoneTypeProperty},</span>
<a href="#l2.18"></a><span id="l2.18">   {kHomePhoneProperty, 2107},</span>
<a href="#l2.19"></a><span id="l2.19">   {kHomePhoneTypeProperty},</span>
<a href="#l2.20"></a><span id="l2.20">   {kFaxProperty, 2108},</span>
<a href="#l2.21"></a><span id="l2.21">   {kFaxTypeProperty},</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l3.1"></a><span id="l3.1" class="difflineminus">--- a/mailnews/import/src/nsImportFieldMap.cpp</span>
<a href="#l3.2"></a><span id="l3.2" class="difflineplus">+++ b/mailnews/import/src/nsImportFieldMap.cpp</span>
<a href="#l3.3"></a><span id="l3.3" class="difflineat">@@ -362,16 +362,19 @@ NS_IMETHODIMP nsImportFieldMap::SetField</span>
<a href="#l3.4"></a><span id="l3.4">     rv = database-&gt;AddCustom3(row, pVal);</span>
<a href="#l3.5"></a><span id="l3.5">     break;</span>
<a href="#l3.6"></a><span id="l3.6">   case 34:</span>
<a href="#l3.7"></a><span id="l3.7">     rv = database-&gt;AddCustom4(row, pVal);</span>
<a href="#l3.8"></a><span id="l3.8">     break;</span>
<a href="#l3.9"></a><span id="l3.9">   case 35:</span>
<a href="#l3.10"></a><span id="l3.10">     rv = database-&gt;AddNotes(row, pVal);</span>
<a href="#l3.11"></a><span id="l3.11">     break;</span>
<a href="#l3.12"></a><span id="l3.12" class="difflineplus">+  case 36:</span>
<a href="#l3.13"></a><span id="l3.13" class="difflineplus">+    rv = database-&gt;AddAimScreenName(row, pVal);</span>
<a href="#l3.14"></a><span id="l3.14" class="difflineplus">+    break;</span>
<a href="#l3.15"></a><span id="l3.15">   default:</span>
<a href="#l3.16"></a><span id="l3.16">     /* Get the field description, and add it as an anonymous attr? */</span>
<a href="#l3.17"></a><span id="l3.17">     /* OR WHAT???? */</span>
<a href="#l3.18"></a><span id="l3.18">     {</span>
<a href="#l3.19"></a><span id="l3.19">       rv = NS_ERROR_FAILURE;</span>
<a href="#l3.20"></a><span id="l3.20">     }</span>
<a href="#l3.21"></a><span id="l3.21">   }</span>
<a href="#l3.22"></a><span id="l3.22"> </span>
<a href="#l3.23"></a><span id="l3.23" class="difflineat">@@ -516,16 +519,19 @@ NS_IMETHODIMP nsImportFieldMap::GetField</span>
<a href="#l3.24"></a><span id="l3.24">     rv = card-&gt;GetPropertyAsAString(kCustom3Property, value);</span>
<a href="#l3.25"></a><span id="l3.25">     break;</span>
<a href="#l3.26"></a><span id="l3.26">   case 34:</span>
<a href="#l3.27"></a><span id="l3.27">     rv = card-&gt;GetPropertyAsAString(kCustom4Property, value);</span>
<a href="#l3.28"></a><span id="l3.28">     break;</span>
<a href="#l3.29"></a><span id="l3.29">   case 35:</span>
<a href="#l3.30"></a><span id="l3.30">     rv = card-&gt;GetPropertyAsAString(kNotesProperty, value);</span>
<a href="#l3.31"></a><span id="l3.31">     break;</span>
<a href="#l3.32"></a><span id="l3.32" class="difflineplus">+  case 36:</span>
<a href="#l3.33"></a><span id="l3.33" class="difflineplus">+    rv = card-&gt;GetPropertyAsAString(kScreenNameProperty, value);</span>
<a href="#l3.34"></a><span id="l3.34" class="difflineplus">+    break;</span>
<a href="#l3.35"></a><span id="l3.35">   default:</span>
<a href="#l3.36"></a><span id="l3.36">     /* Get the field description, and add it as an anonymous attr? */</span>
<a href="#l3.37"></a><span id="l3.37">     /* OR WHAT???? */</span>
<a href="#l3.38"></a><span id="l3.38">     {</span>
<a href="#l3.39"></a><span id="l3.39">       rv = NS_ERROR_FAILURE;</span>
<a href="#l3.40"></a><span id="l3.40">     }</span>
<a href="#l3.41"></a><span id="l3.41">   }</span>
<a href="#l3.42"></a><span id="l3.42">   if (rv == NS_ERROR_NOT_AVAILABLE)</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l4.1"></a><span id="l4.1" class="difflineminus">--- a/mailnews/import/src/nsImportStringBundle.h</span>
<a href="#l4.2"></a><span id="l4.2" class="difflineplus">+++ b/mailnews/import/src/nsImportStringBundle.h</span>
<a href="#l4.3"></a><span id="l4.3" class="difflineat">@@ -66,12 +66,12 @@ public:</span>
<a href="#l4.4"></a><span id="l4.4"> #define  IMPORT_ERROR_MB_NOTINITIALIZED            2005</span>
<a href="#l4.5"></a><span id="l4.5"> #define IMPORT_ERROR_MB_NOTHREAD              2006</span>
<a href="#l4.6"></a><span id="l4.6"> #define IMPORT_ERROR_MB_NOPROXY                2007</span>
<a href="#l4.7"></a><span id="l4.7"> #define IMPORT_ERROR_MB_FINDCHILD              2008</span>
<a href="#l4.8"></a><span id="l4.8"> #define IMPORT_ERROR_MB_CREATE                2009</span>
<a href="#l4.9"></a><span id="l4.9"> #define IMPORT_ERROR_MB_NODESTFOLDER            2010</span>
<a href="#l4.10"></a><span id="l4.10"> </span>
<a href="#l4.11"></a><span id="l4.11"> #define IMPORT_FIELD_DESC_START                2100</span>
<a href="#l4.12"></a><span id="l4.12" class="difflineminus">-#define IMPORT_FIELD_DESC_END                2135</span>
<a href="#l4.13"></a><span id="l4.13" class="difflineplus">+#define IMPORT_FIELD_DESC_END                2136</span>
<a href="#l4.14"></a><span id="l4.14"> </span>
<a href="#l4.15"></a><span id="l4.15"> </span>
<a href="#l4.16"></a><span id="l4.16"> #endif /* _nsImportStringBundle_H__ */</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l5.1"></a><span id="l5.1" class="difflineminus">--- a/mailnews/import/test/resources/basic_addressbook.csv</span>
<a href="#l5.2"></a><span id="l5.2" class="difflineplus">+++ b/mailnews/import/test/resources/basic_addressbook.csv</span>
<a href="#l5.3"></a><span id="l5.3" class="difflineat">@@ -1,2 +1,2 @@</span>
<a href="#l5.4"></a><span id="l5.4" class="difflineminus">-First Name,Last Name,Display Name,Nickname,Primary Email,Secondary Email,Work Phone,Home Phone,Fax Number,Pager Number,Mobile Number,Home Address,Home Address 2,Home City,Home State,Home ZipCode,Home Country,Work Address,Work Address 2,Work City,Work State,Work ZipCode,Work Country,Job Title,Department,Organization,Web Page 1,Web Page 2,Birth Year,Birth Month,Birth Day,Custom 1,Custom 2,Custom 3,Custom 4,Notes,</span>
<a href="#l5.5"></a><span id="l5.5" class="difflineminus">-John,Doe,John Doe,,johndoe@host.invalid,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,</span>
<a href="#l5.6"></a><span id="l5.6" class="difflineplus">+First Name,Last Name,Display Name,Nickname,Primary Email,Secondary Email,Work Phone,Home Phone,Fax Number,Pager Number,Mobile Number,Home Address,Home Address 2,Home City,Home State,Home ZipCode,Home Country,Work Address,Work Address 2,Work City,Work State,Work ZipCode,Work Country,Job Title,Department,Organization,Web Page 1,Web Page 2,Birth Year,Birth Month,Birth Day,Custom 1,Custom 2,Custom 3,Custom 4,Notes,Screen Name,</span>
<a href="#l5.7"></a><span id="l5.7" class="difflineplus">+John,Doe,John Doe,,johndoe@host.invalid,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l6.1"></a><span id="l6.1" class="difflineminus">--- a/mailnews/import/test/resources/import_helper.js</span>
<a href="#l6.2"></a><span id="l6.2" class="difflineplus">+++ b/mailnews/import/test/resources/import_helper.js</span>
<a href="#l6.3"></a><span id="l6.3" class="difflineat">@@ -20,36 +20,35 @@ var gAbImportHelper;</span>
<a href="#l6.4"></a><span id="l6.4">  */</span>
<a href="#l6.5"></a><span id="l6.5"> function AbImportHelper(aFile, aType, aAbName, aJsonName)</span>
<a href="#l6.6"></a><span id="l6.6"> {</span>
<a href="#l6.7"></a><span id="l6.7">   gAbImportHelper = null;</span>
<a href="#l6.8"></a><span id="l6.8">   this.mFile = aFile; // checked in the beginImport method</span>
<a href="#l6.9"></a><span id="l6.9">   this.mAbName = aAbName;</span>
<a href="#l6.10"></a><span id="l6.10"> </span>
<a href="#l6.11"></a><span id="l6.11">   /* Attribute notes:  The attributes listed in the declaration below are</span>
<a href="#l6.12"></a><span id="l6.12" class="difflineminus">-   * supported by all three text export/import types.  AimScreenName and</span>
<a href="#l6.13"></a><span id="l6.13" class="difflineminus">-   * PreferMailFormat are only supported by LDIF.</span>
<a href="#l6.14"></a><span id="l6.14" class="difflineplus">+   * supported by all three text export/import types. PreferMailFormat is only</span>
<a href="#l6.15"></a><span id="l6.15" class="difflineplus">+   * supported by LDIF.</span>
<a href="#l6.16"></a><span id="l6.16">    * The following are not supported: anniversaryYear, anniversaryMonth,</span>
<a href="#l6.17"></a><span id="l6.17">    * anniversaryDay, popularityIndex, isMailList, mailListURI, lastModifiedDate,</span>
<a href="#l6.18"></a><span id="l6.18">    * and allowRemoteContent</span>
<a href="#l6.19"></a><span id="l6.19">    */</span>
<a href="#l6.20"></a><span id="l6.20">   var supportedAttributes =</span>
<a href="#l6.21"></a><span id="l6.21">     [&quot;FirstName&quot;, &quot;LastName&quot;, &quot;DisplayName&quot;, &quot;NickName&quot;, &quot;PrimaryEmail&quot;,</span>
<a href="#l6.22"></a><span id="l6.22">      &quot;SecondEmail&quot;, &quot;WorkPhone&quot;, &quot;HomePhone&quot;, &quot;FaxNumber&quot;, &quot;PagerNumber&quot;,</span>
<a href="#l6.23"></a><span id="l6.23">      &quot;CellularNumber&quot;, &quot;HomeAddress&quot;, &quot;HomeAddress2&quot;, &quot;HomeCity&quot;, &quot;HomeState&quot;,</span>
<a href="#l6.24"></a><span id="l6.24">      &quot;HomeZipCode&quot;, &quot;HomeCountry&quot;, &quot;WorkAddress&quot;, &quot;WorkAddress2&quot;, &quot;WorkCity&quot;,</span>
<a href="#l6.25"></a><span id="l6.25">      &quot;WorkState&quot;, &quot;WorkZipCode&quot;, &quot;WorkCountry&quot;, &quot;JobTitle&quot;, &quot;Department&quot;,</span>
<a href="#l6.26"></a><span id="l6.26">      &quot;Company&quot;, &quot;BirthYear&quot;, &quot;BirthMonth&quot;, &quot;BirthDay&quot;, &quot;WebPage1&quot;, &quot;WebPage2&quot;,</span>
<a href="#l6.27"></a><span id="l6.27" class="difflineminus">-     &quot;Custom1&quot;, &quot;Custom2&quot;, &quot;Custom3&quot;, &quot;Custom4&quot;, &quot;Notes&quot;];</span>
<a href="#l6.28"></a><span id="l6.28" class="difflineplus">+     &quot;Custom1&quot;, &quot;Custom2&quot;, &quot;Custom3&quot;, &quot;Custom4&quot;, &quot;Notes&quot;, &quot;_AimScreenName&quot;];</span>
<a href="#l6.29"></a><span id="l6.29">   // get the extra attributes supported for the given type of import</span>
<a href="#l6.30"></a><span id="l6.30">   if (aType == &quot;LDIF&quot;)</span>
<a href="#l6.31"></a><span id="l6.31">   {</span>
<a href="#l6.32"></a><span id="l6.32" class="difflineminus">-    // LDIF: add AimScreenName and PreferMailFormat</span>
<a href="#l6.33"></a><span id="l6.33" class="difflineminus">-    this.mSupportedAttributes = supportedAttributes.concat([&quot;_AimScreenName&quot;,</span>
<a href="#l6.34"></a><span id="l6.34" class="difflineminus">-                                                            &quot;PreferMailFormat&quot;]);</span>
<a href="#l6.35"></a><span id="l6.35" class="difflineplus">+    // LDIF: add PreferMailFormat</span>
<a href="#l6.36"></a><span id="l6.36" class="difflineplus">+    this.mSupportedAttributes = supportedAttributes.concat([&quot;PreferMailFormat&quot;]);</span>
<a href="#l6.37"></a><span id="l6.37">     this.mLdif = true;</span>
<a href="#l6.38"></a><span id="l6.38">   }</span>
<a href="#l6.39"></a><span id="l6.39">   else if (aType == &quot;CSV&quot; || aType == &quot;TAB&quot;)</span>
<a href="#l6.40"></a><span id="l6.40">   {</span>
<a href="#l6.41"></a><span id="l6.41">     this.mSupportedAttributes = supportedAttributes;</span>
<a href="#l6.42"></a><span id="l6.42">     this.mLdif = false;</span>
<a href="#l6.43"></a><span id="l6.43">   }</span>
<a href="#l6.44"></a><span id="l6.44">   else</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l7.1"></a><span id="l7.1" class="difflineminus">--- a/mailnews/mailnews.js</span>
<a href="#l7.2"></a><span id="l7.2" class="difflineplus">+++ b/mailnews/mailnews.js</span>
<a href="#l7.3"></a><span id="l7.3" class="difflineat">@@ -812,8 +812,11 @@ pref(&quot;mailnews.emptyTrash.dontAskAgain&quot;,</span>
<a href="#l7.4"></a><span id="l7.4"> // Should the indexer be enabled?</span>
<a href="#l7.5"></a><span id="l7.5"> pref(&quot;mailnews.database.global.indexer.enabled&quot;, false);</span>
<a href="#l7.6"></a><span id="l7.6"> // Should we output warnings and errors to the &quot;error console&quot;?</span>
<a href="#l7.7"></a><span id="l7.7"> pref(&quot;mailnews.database.global.logging.console&quot;, false);</span>
<a href="#l7.8"></a><span id="l7.8"> // Should we output all output levels to stdout via dump?</span>
<a href="#l7.9"></a><span id="l7.9"> pref(&quot;mailnews.database.global.logging.dump&quot;, false);</span>
<a href="#l7.10"></a><span id="l7.10"> // Should we consider outputting all levels via the network?</span>
<a href="#l7.11"></a><span id="l7.11"> pref(&quot;mailnews.database.global.logging.net&quot;, false);</span>
<a href="#l7.12"></a><span id="l7.12" class="difflineplus">+</span>
<a href="#l7.13"></a><span id="l7.13" class="difflineplus">+// default field order in the fieldmap</span>
<a href="#l7.14"></a><span id="l7.14" class="difflineplus">+pref(&quot;mailnews.import.text.fieldmap&quot;, &quot;+0,+1,+2,+3,+4,+5,+36,+6,+7,+8,+9,+10,+11,+12,+13,+14,+15,+16,+17,+18,+19,+20,+21,+22,+23,+24,+25,+26,+27,+28,+29,+30,+31,+32,+33,+34,+35&quot;);</span></pre></div><div class="diffblock"><pre class="sourcelines">
<a href="#l8.1"></a><span id="l8.1" class="difflineminus">--- a/suite/locales/en-US/chrome/mailnews/importMsgs.properties</span>
<a href="#l8.2"></a><span id="l8.2" class="difflineplus">+++ b/suite/locales/en-US/chrome/mailnews/importMsgs.properties</span>
<a href="#l8.3"></a><span id="l8.3" class="difflineat">@@ -271,19 +271,24 @@ 2132=Custom 2</span>
<a href="#l8.4"></a><span id="l8.4"> 2133=Custom 3</span>
<a href="#l8.5"></a><span id="l8.5"> </span>
<a href="#l8.6"></a><span id="l8.6"> # Description: Address book field name</span>
<a href="#l8.7"></a><span id="l8.7"> ## @name IMPORT_FIELD_DESC</span>
<a href="#l8.8"></a><span id="l8.8"> ## @loc None</span>
<a href="#l8.9"></a><span id="l8.9"> 2134=Custom 4</span>
<a href="#l8.10"></a><span id="l8.10"> </span>
<a href="#l8.11"></a><span id="l8.11"> # Description: Address book field name</span>
<a href="#l8.12"></a><span id="l8.12" class="difflineplus">+## @name IMPORT_FIELD_DESC</span>
<a href="#l8.13"></a><span id="l8.13" class="difflineplus">+## @loc None</span>
<a href="#l8.14"></a><span id="l8.14" class="difflineplus">+2135=Notes</span>
<a href="#l8.15"></a><span id="l8.15" class="difflineplus">+</span>
<a href="#l8.16"></a><span id="l8.16" class="difflineplus">+# Description: Address book field name</span>
<a href="#l8.17"></a><span id="l8.17"> ## @name IMPORT_FIELD_DESC_END</span>
<a href="#l8.18"></a><span id="l8.18"> ## @loc None</span>
<a href="#l8.19"></a><span id="l8.19" class="difflineminus">-2135=Notes</span>
<a href="#l8.20"></a><span id="l8.20" class="difflineplus">+2136=Screen Name</span>
<a href="#l8.21"></a><span id="l8.21"> </span>
<a href="#l8.22"></a><span id="l8.22"> #Error strings</span>
<a href="#l8.23"></a><span id="l8.23"> ImportAlreadyInProgress=An import operation is currently in progress. Try again when the current import has finished.</span>
<a href="#l8.24"></a><span id="l8.24"> </span>
<a href="#l8.25"></a><span id="l8.25"> #Error strings for settings import</span>
<a href="#l8.26"></a><span id="l8.26"> ImportSettingsBadModule=Unable to load settings module</span>
<a href="#l8.27"></a><span id="l8.27"> ImportSettingsNotFound=Unable to find settings.  Check to make sure the application is installed on this machine.</span>
<a href="#l8.28"></a><span id="l8.28"> ImportSettingsFailed=An error occurred while importing settings.  Some, or all, of the settings may not have been imported.</span></pre></div></div>

<div class="page_footer">
<div class="page_footer_text">comm-central</div>
<div class="page_footer_text" style="padding-left: 10px">Deployed from <a href="https://hg.mozilla.org/hgcustom/version-control-tools/rev/35f393d6769a">35f393d6769a</a> at 2020-07-16T17:23:43Z.</div>
<div class="rss_logo">
<a href="/comm-central/rss-log">RSS</a>
<a href="/comm-central/atom-log">Atom</a>
</div>
<br />

</div>
</body>
</html>

